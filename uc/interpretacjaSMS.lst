   1               		.file	"interpretacjaSMS.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.Ltext0:
  10               		.cfi_sections	.debug_frame
  11               	.global	sprawdz_kod
  13               	sprawdz_kod:
  14               	.LFB7:
  15               		.file 1 "interpretacjaSMS.c"
   1:interpretacjaSMS.c **** #ifndef INCLUDE
   2:interpretacjaSMS.c **** 
   3:interpretacjaSMS.c **** #include "interpretacjaSMS.h"
   4:interpretacjaSMS.c **** #include "ctype.h"
   5:interpretacjaSMS.c **** #include "komendy.h"
   6:interpretacjaSMS.c **** #include <avr/io.h>
   7:interpretacjaSMS.c **** #include <avr/pgmspace.h>
   8:interpretacjaSMS.c **** #include <stdio.h>
   9:interpretacjaSMS.c **** #include <stdlib.h>
  10:interpretacjaSMS.c **** #include <string.h>
  11:interpretacjaSMS.c **** 
  12:interpretacjaSMS.c **** #include "adresyeeprom.h" // Ensure this is included for address definitions
  13:interpretacjaSMS.c **** #include "konfiguracja_eeprom.h"
  14:interpretacjaSMS.c **** #include "wewy.h"
  15:interpretacjaSMS.c **** #include "zapiseeprom.h"
  16:interpretacjaSMS.c **** 
  17:interpretacjaSMS.c **** extern uchar skryba_wlaczona; // Declared in main.c
  18:interpretacjaSMS.c **** extern uint skryba_limit;     // Declared in main.c
  19:interpretacjaSMS.c **** extern uchar tryb_clip;       // Declared in main.c
  20:interpretacjaSMS.c **** 
  21:interpretacjaSMS.c **** uchar nr_usunietego_uzytkownika_z_smsa;
  22:interpretacjaSMS.c **** 
  23:interpretacjaSMS.c **** #endif
  24:interpretacjaSMS.c **** 
  25:interpretacjaSMS.c **** #define przeskocz_biale_znaki(BUF)                                             \
  26:interpretacjaSMS.c ****   while (isspace(*BUF))                                                        \
  27:interpretacjaSMS.c ****   ++BUF
  28:interpretacjaSMS.c **** 
  29:interpretacjaSMS.c **** uchar sprawdz_kod(const uchar **buf_sms) {
  16               		.loc 1 29 0
  17               		.cfi_startproc
  18               	.LVL0:
  19 0000 FF92      		push r15
  20               	.LCFI0:
  21               		.cfi_def_cfa_offset 3
  22               		.cfi_offset 15, -2
  23 0002 0F93      		push r16
  24               	.LCFI1:
  25               		.cfi_def_cfa_offset 4
  26               		.cfi_offset 16, -3
  27 0004 1F93      		push r17
  28               	.LCFI2:
  29               		.cfi_def_cfa_offset 5
  30               		.cfi_offset 17, -4
  31 0006 CF93      		push r28
  32               	.LCFI3:
  33               		.cfi_def_cfa_offset 6
  34               		.cfi_offset 28, -5
  35 0008 DF93      		push r29
  36               	.LCFI4:
  37               		.cfi_def_cfa_offset 7
  38               		.cfi_offset 29, -6
  39               	/* prologue: function */
  40               	/* frame size = 0 */
  41               	/* stack size = 5 */
  42               	.L__stack_usage = 5
  43 000a 8C01      		movw r16,r24
  44               	.LVL1:
  45               	.L2:
  30:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
  46               		.loc 1 30 0 discriminator 1
  47 000c F801      		movw r30,r16
  48 000e C081      		ld r28,Z
  49 0010 D181      		ldd r29,Z+1
  50 0012 F880      		ld r15,Y
  51 0014 8F2D      		mov r24,r15
  52 0016 90E0      		ldi r25,0
  53 0018 0E94 0000 		call isspace
  54               	.LVL2:
  55 001c 892B      		or r24,r25
  56 001e 01F4      		brne .L3
  31:interpretacjaSMS.c ****   if ((*buf_sms)[0] == kod_modulu[0] && (*buf_sms)[1] == kod_modulu[1] &&
  57               		.loc 1 31 0
  58 0020 8091 0000 		lds r24,kod_modulu
  59 0024 F812      		cpse r15,r24
  60 0026 00C0      		rjmp .L8
  61               		.loc 1 31 0 is_stmt 0 discriminator 1
  62 0028 9981      		ldd r25,Y+1
  63 002a 8091 0000 		lds r24,kod_modulu+1
  64 002e 9813      		cpse r25,r24
  65 0030 00C0      		rjmp .L8
  66               		.loc 1 31 0 discriminator 2
  67 0032 9A81      		ldd r25,Y+2
  68 0034 8091 0000 		lds r24,kod_modulu+2
  69 0038 9813      		cpse r25,r24
  70 003a 00C0      		rjmp .L8
  32:interpretacjaSMS.c ****       (*buf_sms)[2] == kod_modulu[2] && (*buf_sms)[3] == kod_modulu[3]) {
  71               		.loc 1 32 0 is_stmt 1
  72 003c 9B81      		ldd r25,Y+3
  73 003e 8091 0000 		lds r24,kod_modulu+3
  74 0042 9813      		cpse r25,r24
  75 0044 00C0      		rjmp .L8
  33:interpretacjaSMS.c ****     *buf_sms += LICZBA_BAJTOW_KODU_DOSTEPU;
  76               		.loc 1 33 0
  77 0046 2496      		adiw r28,4
  78 0048 F801      		movw r30,r16
  79 004a D183      		std Z+1,r29
  80 004c C083      		st Z,r28
  34:interpretacjaSMS.c ****     return TRUE;
  81               		.loc 1 34 0
  82 004e 8FEF      		ldi r24,lo8(-1)
  83               	.L1:
  84               	/* epilogue start */
  35:interpretacjaSMS.c ****   } else
  36:interpretacjaSMS.c ****     return FALSE;
  37:interpretacjaSMS.c **** }
  85               		.loc 1 37 0
  86 0050 DF91      		pop r29
  87 0052 CF91      		pop r28
  88 0054 1F91      		pop r17
  89 0056 0F91      		pop r16
  90               	.LVL3:
  91 0058 FF90      		pop r15
  92 005a 0895      		ret
  93               	.LVL4:
  94               	.L3:
  30:interpretacjaSMS.c ****   if ((*buf_sms)[0] == kod_modulu[0] && (*buf_sms)[1] == kod_modulu[1] &&
  95               		.loc 1 30 0 discriminator 2
  96 005c 2196      		adiw r28,1
  97 005e F801      		movw r30,r16
  98 0060 D183      		std Z+1,r29
  99 0062 C083      		st Z,r28
 100 0064 00C0      		rjmp .L2
 101               	.L8:
  36:interpretacjaSMS.c **** }
 102               		.loc 1 36 0
 103 0066 80E0      		ldi r24,0
 104 0068 00C0      		rjmp .L1
 105               		.cfi_endproc
 106               	.LFE7:
 108               	.global	sprawdz_reset_ustawien
 110               	sprawdz_reset_ustawien:
 111               	.LFB8:
  38:interpretacjaSMS.c **** 
  39:interpretacjaSMS.c **** uchar sprawdz_reset_ustawien(const uchar *buf) {
 112               		.loc 1 39 0
 113               		.cfi_startproc
 114               	.LVL5:
 115               	/* prologue: function */
 116               	/* frame size = 0 */
 117               	/* stack size = 0 */
 118               	.L__stack_usage = 0
  40:interpretacjaSMS.c ****   static const char res_ust[] PROGMEM =
  41:interpretacjaSMS.c ****       INSTRUKCJA_SMS_RESET_WSZYSTKICH_USTAWIEN;
  42:interpretacjaSMS.c ****   return memcmp_R(buf, res_ust) == 0;
 119               		.loc 1 42 0
 120 006a 44E0      		ldi r20,lo8(4)
 121 006c 50E0      		ldi r21,0
 122 006e 60E0      		ldi r22,lo8(res_ust.2651)
 123 0070 70E0      		ldi r23,hi8(res_ust.2651)
 124 0072 0E94 0000 		call memcmp_P
 125               	.LVL6:
 126 0076 21E0      		ldi r18,lo8(1)
 127 0078 892B      		or r24,r25
 128 007a 01F0      		breq .L10
 129 007c 20E0      		ldi r18,0
 130               	.L10:
  43:interpretacjaSMS.c **** }
 131               		.loc 1 43 0
 132 007e 822F      		mov r24,r18
 133               	/* epilogue start */
 134 0080 0895      		ret
 135               		.cfi_endproc
 136               	.LFE8:
 138               	.global	interpretuj_instrukcje_sms
 140               	interpretuj_instrukcje_sms:
 141               	.LFB9:
  44:interpretacjaSMS.c **** 
  45:interpretacjaSMS.c **** #define LICZBA_INSTRUKCJI_SMS 18 // Increased to 18 for MYNUM
  46:interpretacjaSMS.c **** #define MAX_LICZBA_ZNAKOW_INSTRUKCJI_SMS 8
  47:interpretacjaSMS.c **** // uwaga: wana jest kolejno oraz usytuowanie pomidzy nimi
  48:interpretacjaSMS.c **** static const uchar
  49:interpretacjaSMS.c ****     instrukcja_sms[LICZBA_INSTRUKCJI_SMS]
  50:interpretacjaSMS.c ****                   [MAX_LICZBA_ZNAKOW_INSTRUKCJI_SMS] PROGMEM = {
  51:interpretacjaSMS.c ****                       // przed kad instrukcj musi by kod, litery
  52:interpretacjaSMS.c ****                       // mog by due lub mae
  53:interpretacjaSMS.c ****                       "\x04"
  54:interpretacjaSMS.c ****                       "CODE", // CODE EFGH (zmiana kodu dostpu)
  55:interpretacjaSMS.c ****                       "\x03"
  56:interpretacjaSMS.c ****                       "ADD", //
  57:interpretacjaSMS.c ****                       "\x03"
  58:interpretacjaSMS.c ****                       "DEL", //
  59:interpretacjaSMS.c ****                       "\x04"
  60:interpretacjaSMS.c ****                       "XXXX", // RESET
  61:interpretacjaSMS.c ****                       "\x06"
  62:interpretacjaSMS.c ****                       "REPORT", // REPORT
  63:interpretacjaSMS.c ****                       "\x04"
  64:interpretacjaSMS.c ****                       "USER", // USER
  65:interpretacjaSMS.c ****                       "\x04"
  66:interpretacjaSMS.c ****                       "OPEN", // OPEN
  67:interpretacjaSMS.c ****                       "\x05"
  68:interpretacjaSMS.c ****                       "CLOSE", // CLOSE
  69:interpretacjaSMS.c ****                       "\x04"
  70:interpretacjaSMS.c ****                       "CLIP", // CLIP (sub-command)
  71:interpretacjaSMS.c ****                       "\x04"
  72:interpretacjaSMS.c ****                       "DTMF", // DTMF (sub-command)
  73:interpretacjaSMS.c ****                       "\x03"
  74:interpretacjaSMS.c ****                       "SET", // SET HH:MM:SS
  75:interpretacjaSMS.c ****                       "\x04"
  76:interpretacjaSMS.c ****                       "TIME", // TIME HH:MM HH:MM lub TIME OFF
  77:interpretacjaSMS.c ****                       "\x06"
  78:interpretacjaSMS.c ****                       "SKRYBA", // SKRYBA ON/OFF
  79:interpretacjaSMS.c ****                       "\x05"
  80:interpretacjaSMS.c ****                       "DEBUG", // DEBUG (diagnostyka SKRYBA)
  81:interpretacjaSMS.c ****                       "\x05"
  82:interpretacjaSMS.c ****                       "START", // START (odblokuj)
  83:interpretacjaSMS.c ****                       "\x04"
  84:interpretacjaSMS.c ****                       "STOP", // STOP (zablokuj)
  85:interpretacjaSMS.c ****                       "\x03"
  86:interpretacjaSMS.c ****                       "SUB", // SUB numer (dodaj do pozycji 795-800)
  87:interpretacjaSMS.c ****                       "\x05"
  88:interpretacjaSMS.c ****                       "MYNUM", // MYNUM 123456789 (ustaw własny numer)
  89:interpretacjaSMS.c **** };
  90:interpretacjaSMS.c **** 
  91:interpretacjaSMS.c **** enum {
  92:interpretacjaSMS.c ****   INSTRUKCJA_CODE, // code EFGH [K]
  93:interpretacjaSMS.c ****   INSTRUKCJA_ADD,
  94:interpretacjaSMS.c ****   INSTRUKCJA_DEL,
  95:interpretacjaSMS.c ****   INSTRUKCJA_RESET,
  96:interpretacjaSMS.c ****   INSTRUKCJA_REPORT, // report
  97:interpretacjaSMS.c ****   INSTRUKCJA_USER, // user +48505691117 E C B R [K] // user del +48505691117 [K]
  98:interpretacjaSMS.c ****   INSTRUKCJA_OPEN,
  99:interpretacjaSMS.c ****   INSTRUKCJA_CLOSE,
 100:interpretacjaSMS.c ****   INSTRUKCJA_CLIP,
 101:interpretacjaSMS.c ****   INSTRUKCJA_DTMF,
 102:interpretacjaSMS.c ****   INSTRUKCJA_SET,
 103:interpretacjaSMS.c ****   INSTRUKCJA_TIME,
 104:interpretacjaSMS.c ****   INSTRUKCJA_SKRYBA,
 105:interpretacjaSMS.c ****   INSTRUKCJA_DEBUG,
 106:interpretacjaSMS.c ****   INSTRUKCJA_START,
 107:interpretacjaSMS.c ****   INSTRUKCJA_STOP,
 108:interpretacjaSMS.c ****   INSTRUKCJA_SUB,
 109:interpretacjaSMS.c ****   INSTRUKCJA_MYNUM,
 110:interpretacjaSMS.c **** };
 111:interpretacjaSMS.c **** 
 112:interpretacjaSMS.c **** uchar interpretuj_instrukcje_sms(const uchar **buf_sms, const uchar start,
 113:interpretacjaSMS.c ****                                  const uchar end) {
 142               		.loc 1 113 0
 143               		.cfi_startproc
 144               	.LVL7:
 145 0082 6F92      		push r6
 146               	.LCFI5:
 147               		.cfi_def_cfa_offset 3
 148               		.cfi_offset 6, -2
 149 0084 7F92      		push r7
 150               	.LCFI6:
 151               		.cfi_def_cfa_offset 4
 152               		.cfi_offset 7, -3
 153 0086 8F92      		push r8
 154               	.LCFI7:
 155               		.cfi_def_cfa_offset 5
 156               		.cfi_offset 8, -4
 157 0088 9F92      		push r9
 158               	.LCFI8:
 159               		.cfi_def_cfa_offset 6
 160               		.cfi_offset 9, -5
 161 008a AF92      		push r10
 162               	.LCFI9:
 163               		.cfi_def_cfa_offset 7
 164               		.cfi_offset 10, -6
 165 008c BF92      		push r11
 166               	.LCFI10:
 167               		.cfi_def_cfa_offset 8
 168               		.cfi_offset 11, -7
 169 008e CF92      		push r12
 170               	.LCFI11:
 171               		.cfi_def_cfa_offset 9
 172               		.cfi_offset 12, -8
 173 0090 DF92      		push r13
 174               	.LCFI12:
 175               		.cfi_def_cfa_offset 10
 176               		.cfi_offset 13, -9
 177 0092 EF92      		push r14
 178               	.LCFI13:
 179               		.cfi_def_cfa_offset 11
 180               		.cfi_offset 14, -10
 181 0094 FF92      		push r15
 182               	.LCFI14:
 183               		.cfi_def_cfa_offset 12
 184               		.cfi_offset 15, -11
 185 0096 0F93      		push r16
 186               	.LCFI15:
 187               		.cfi_def_cfa_offset 13
 188               		.cfi_offset 16, -12
 189 0098 1F93      		push r17
 190               	.LCFI16:
 191               		.cfi_def_cfa_offset 14
 192               		.cfi_offset 17, -13
 193 009a CF93      		push r28
 194               	.LCFI17:
 195               		.cfi_def_cfa_offset 15
 196               		.cfi_offset 28, -14
 197 009c DF93      		push r29
 198               	.LCFI18:
 199               		.cfi_def_cfa_offset 16
 200               		.cfi_offset 29, -15
 201               	/* prologue: function */
 202               	/* frame size = 0 */
 203               	/* stack size = 14 */
 204               	.L__stack_usage = 14
 205 009e 5C01      		movw r10,r24
 206 00a0 762E      		mov r7,r22
 207 00a2 642E      		mov r6,r20
 208               	.LVL8:
 209               	.L15:
 114:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
 210               		.loc 1 114 0 discriminator 1
 211 00a4 F501      		movw r30,r10
 212 00a6 0081      		ld r16,Z
 213 00a8 1181      		ldd r17,Z+1
 214 00aa F801      		movw r30,r16
 215 00ac 8081      		ld r24,Z
 216 00ae 90E0      		ldi r25,0
 217 00b0 0E94 0000 		call isspace
 218               	.LVL9:
 219 00b4 892B      		or r24,r25
 220 00b6 01F4      		brne .L16
 221 00b8 F8E0      		ldi r31,lo8(8)
 222 00ba 7F9E      		mul r7,r31
 223 00bc C001      		movw r24,r0
 224 00be 1124      		clr __zero_reg__
 225               		.loc 1 114 0 is_stmt 0
 226 00c0 D12C      		mov r13,__zero_reg__
 227 00c2 C12C      		mov r12,__zero_reg__
 228               	.LBB2:
 229               	.LBB3:
 115:interpretacjaSMS.c ****   uchar i;
 116:interpretacjaSMS.c ****   for (i = start; i < end; ++i) {
 117:interpretacjaSMS.c ****     const void *p =
 118:interpretacjaSMS.c ****         &instrukcja_sms[0][0] + i * MAX_LICZBA_ZNAKOW_INSTRUKCJI_SMS;
 119:interpretacjaSMS.c ****     const uchar l = pgm_read_byte(p);
 230               		.loc 1 119 0 is_stmt 1
 231 00c4 9C01      		movw r18,r24
 232 00c6 2050      		subi r18,lo8(-(instrukcja_sms))
 233 00c8 3040      		sbci r19,hi8(-(instrukcja_sms))
 234 00ca 4901      		movw r8,r18
 235               	.LBE3:
 120:interpretacjaSMS.c ****     if (memcmp_P(*buf_sms, p + 1, l) == 0) {
 236               		.loc 1 120 0
 237 00cc FC01      		movw r30,r24
 238 00ce E050      		subi r30,lo8(-(instrukcja_sms+1))
 239 00d0 F040      		sbci r31,hi8(-(instrukcja_sms+1))
 240 00d2 7F01      		movw r14,r30
 241               	.LVL10:
 242               	.L17:
 243               	.LBE2:
 116:interpretacjaSMS.c ****     const void *p =
 244               		.loc 1 116 0 discriminator 1
 245 00d4 7614      		cp r7,r6
 246 00d6 00F4      		brsh .L19
 247               	.LVL11:
 248               	.LBB5:
 249               	.LBB4:
 119:interpretacjaSMS.c ****     if (memcmp_P(*buf_sms, p + 1, l) == 0) {
 250               		.loc 1 119 0
 251 00d8 F401      		movw r30,r8
 252 00da EC0D      		add r30,r12
 253 00dc FD1D      		adc r31,r13
 254               	/* #APP */
 255               	 ;  119 "interpretacjaSMS.c" 1
 256 00de E491      		lpm r30, Z
 257               		
 258               	 ;  0 "" 2
 259               	.LVL12:
 260               	/* #NOAPP */
 261               	.LBE4:
 262               		.loc 1 120 0
 263 00e0 CE2F      		mov r28,r30
 264 00e2 D0E0      		ldi r29,0
 265 00e4 B701      		movw r22,r14
 266 00e6 6C0D      		add r22,r12
 267 00e8 7D1D      		adc r23,r13
 268 00ea AE01      		movw r20,r28
 269 00ec C801      		movw r24,r16
 270 00ee 0E94 0000 		call memcmp_P
 271               	.LVL13:
 272 00f2 F8E0      		ldi r31,8
 273 00f4 CF0E      		add r12,r31
 274 00f6 D11C      		adc r13,__zero_reg__
 275               	.LVL14:
 276 00f8 892B      		or r24,r25
 277 00fa 01F4      		brne .L18
 121:interpretacjaSMS.c ****       *buf_sms += l;
 278               		.loc 1 121 0
 279 00fc C00F      		add r28,r16
 280 00fe D11F      		adc r29,r17
 281               	.LVL15:
 282 0100 F501      		movw r30,r10
 283 0102 D183      		std Z+1,r29
 284 0104 C083      		st Z,r28
 285               	.LVL16:
 286               	.L19:
 287               	.LBE5:
 122:interpretacjaSMS.c ****       return i;
 123:interpretacjaSMS.c ****     }
 124:interpretacjaSMS.c ****   }
 125:interpretacjaSMS.c ****   return i;
 126:interpretacjaSMS.c **** }
 288               		.loc 1 126 0
 289 0106 872D      		mov r24,r7
 290               	/* epilogue start */
 291 0108 DF91      		pop r29
 292 010a CF91      		pop r28
 293 010c 1F91      		pop r17
 294 010e 0F91      		pop r16
 295 0110 FF90      		pop r15
 296 0112 EF90      		pop r14
 297 0114 DF90      		pop r13
 298 0116 CF90      		pop r12
 299 0118 BF90      		pop r11
 300 011a AF90      		pop r10
 301               	.LVL17:
 302 011c 9F90      		pop r9
 303 011e 8F90      		pop r8
 304 0120 7F90      		pop r7
 305               	.LVL18:
 306 0122 6F90      		pop r6
 307               	.LVL19:
 308 0124 0895      		ret
 309               	.LVL20:
 310               	.L16:
 114:interpretacjaSMS.c ****   uchar i;
 311               		.loc 1 114 0 discriminator 2
 312 0126 0F5F      		subi r16,-1
 313 0128 1F4F      		sbci r17,-1
 314 012a F501      		movw r30,r10
 315 012c 1183      		std Z+1,r17
 316 012e 0083      		st Z,r16
 317 0130 00C0      		rjmp .L15
 318               	.LVL21:
 319               	.L18:
 116:interpretacjaSMS.c ****     const void *p =
 320               		.loc 1 116 0 discriminator 2
 321 0132 7394      		inc r7
 322               	.LVL22:
 323 0134 00C0      		rjmp .L17
 324               		.cfi_endproc
 325               	.LFE9:
 327               	.global	pobierz_long
 329               	pobierz_long:
 330               	.LFB10:
 127:interpretacjaSMS.c **** 
 128:interpretacjaSMS.c **** uchar pobierz_long(const uchar **buf_sms, long *wartosc) {
 331               		.loc 1 128 0
 332               		.cfi_startproc
 333               	.LVL23:
 334 0136 EF92      		push r14
 335               	.LCFI19:
 336               		.cfi_def_cfa_offset 3
 337               		.cfi_offset 14, -2
 338 0138 FF92      		push r15
 339               	.LCFI20:
 340               		.cfi_def_cfa_offset 4
 341               		.cfi_offset 15, -3
 342 013a 0F93      		push r16
 343               	.LCFI21:
 344               		.cfi_def_cfa_offset 5
 345               		.cfi_offset 16, -4
 346 013c 1F93      		push r17
 347               	.LCFI22:
 348               		.cfi_def_cfa_offset 6
 349               		.cfi_offset 17, -5
 350 013e CF93      		push r28
 351               	.LCFI23:
 352               		.cfi_def_cfa_offset 7
 353               		.cfi_offset 28, -6
 354 0140 DF93      		push r29
 355               	.LCFI24:
 356               		.cfi_def_cfa_offset 8
 357               		.cfi_offset 29, -7
 358               	/* prologue: function */
 359               	/* frame size = 0 */
 360               	/* stack size = 6 */
 361               	.L__stack_usage = 6
 362 0142 EC01      		movw r28,r24
 363 0144 7B01      		movw r14,r22
 129:interpretacjaSMS.c ****   const uchar *buf_sms_pom = *buf_sms;
 364               		.loc 1 129 0
 365 0146 0881      		ld r16,Y
 366 0148 1981      		ldd r17,Y+1
 367               	.LVL24:
 130:interpretacjaSMS.c ****   *wartosc = strtol(*buf_sms, (char **)buf_sms, 10);
 368               		.loc 1 130 0
 369 014a 4AE0      		ldi r20,lo8(10)
 370 014c 50E0      		ldi r21,0
 371 014e BC01      		movw r22,r24
 372               	.LVL25:
 373 0150 C801      		movw r24,r16
 374               	.LVL26:
 375 0152 0E94 0000 		call strtol
 376               	.LVL27:
 377 0156 F701      		movw r30,r14
 378 0158 6083      		st Z,r22
 379 015a 7183      		std Z+1,r23
 380 015c 8283      		std Z+2,r24
 381 015e 9383      		std Z+3,r25
 131:interpretacjaSMS.c ****   return *buf_sms != buf_sms_pom;
 382               		.loc 1 131 0
 383 0160 81E0      		ldi r24,lo8(1)
 384 0162 2881      		ld r18,Y
 385 0164 3981      		ldd r19,Y+1
 386 0166 2017      		cp r18,r16
 387 0168 3107      		cpc r19,r17
 388 016a 01F4      		brne .L22
 389 016c 80E0      		ldi r24,0
 390               	.L22:
 391               	/* epilogue start */
 132:interpretacjaSMS.c **** }
 392               		.loc 1 132 0
 393 016e DF91      		pop r29
 394 0170 CF91      		pop r28
 395               	.LVL28:
 396 0172 1F91      		pop r17
 397 0174 0F91      		pop r16
 398               	.LVL29:
 399 0176 FF90      		pop r15
 400 0178 EF90      		pop r14
 401               	.LVL30:
 402 017a 0895      		ret
 403               		.cfi_endproc
 404               	.LFE10:
 406               	.global	pomin_znak
 408               	pomin_znak:
 409               	.LFB11:
 133:interpretacjaSMS.c **** 
 134:interpretacjaSMS.c **** uchar pomin_znak(const uchar **buf_sms, const uchar wartosc) {
 410               		.loc 1 134 0
 411               		.cfi_startproc
 412               	.LVL31:
 413 017c DF92      		push r13
 414               	.LCFI25:
 415               		.cfi_def_cfa_offset 3
 416               		.cfi_offset 13, -2
 417 017e EF92      		push r14
 418               	.LCFI26:
 419               		.cfi_def_cfa_offset 4
 420               		.cfi_offset 14, -3
 421 0180 FF92      		push r15
 422               	.LCFI27:
 423               		.cfi_def_cfa_offset 5
 424               		.cfi_offset 15, -4
 425 0182 0F93      		push r16
 426               	.LCFI28:
 427               		.cfi_def_cfa_offset 6
 428               		.cfi_offset 16, -5
 429 0184 1F93      		push r17
 430               	.LCFI29:
 431               		.cfi_def_cfa_offset 7
 432               		.cfi_offset 17, -6
 433 0186 CF93      		push r28
 434               	.LCFI30:
 435               		.cfi_def_cfa_offset 8
 436               		.cfi_offset 28, -7
 437 0188 DF93      		push r29
 438               	.LCFI31:
 439               		.cfi_def_cfa_offset 9
 440               		.cfi_offset 29, -8
 441               	/* prologue: function */
 442               	/* frame size = 0 */
 443               	/* stack size = 7 */
 444               	.L__stack_usage = 7
 445 018a 7C01      		movw r14,r24
 446 018c D62E      		mov r13,r22
 447               	.LVL32:
 448               	.L24:
 135:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
 449               		.loc 1 135 0 discriminator 1
 450 018e F701      		movw r30,r14
 451 0190 C081      		ld r28,Z
 452 0192 D181      		ldd r29,Z+1
 453 0194 0881      		ld r16,Y
 454 0196 10E0      		ldi r17,0
 455 0198 C801      		movw r24,r16
 456 019a 0E94 0000 		call isspace
 457               	.LVL33:
 458 019e 892B      		or r24,r25
 459 01a0 01F4      		brne .L25
 136:interpretacjaSMS.c ****   if (**buf_sms == toupper(wartosc)) {
 460               		.loc 1 136 0
 461 01a2 8D2D      		mov r24,r13
 462 01a4 90E0      		ldi r25,0
 463 01a6 0E94 0000 		call toupper
 464               	.LVL34:
 465 01aa 0817      		cp r16,r24
 466 01ac 1907      		cpc r17,r25
 467 01ae 01F4      		brne .L27
 137:interpretacjaSMS.c ****     ++*buf_sms;
 468               		.loc 1 137 0
 469 01b0 2196      		adiw r28,1
 470 01b2 F701      		movw r30,r14
 471 01b4 D183      		std Z+1,r29
 472 01b6 C083      		st Z,r28
 138:interpretacjaSMS.c ****     return TRUE;
 473               		.loc 1 138 0
 474 01b8 8FEF      		ldi r24,lo8(-1)
 475               	.L23:
 476               	/* epilogue start */
 139:interpretacjaSMS.c ****   } else
 140:interpretacjaSMS.c ****     return FALSE;
 141:interpretacjaSMS.c **** }
 477               		.loc 1 141 0
 478 01ba DF91      		pop r29
 479 01bc CF91      		pop r28
 480 01be 1F91      		pop r17
 481 01c0 0F91      		pop r16
 482 01c2 FF90      		pop r15
 483 01c4 EF90      		pop r14
 484               	.LVL35:
 485 01c6 DF90      		pop r13
 486               	.LVL36:
 487 01c8 0895      		ret
 488               	.LVL37:
 489               	.L25:
 135:interpretacjaSMS.c ****   if (**buf_sms == toupper(wartosc)) {
 490               		.loc 1 135 0 discriminator 2
 491 01ca 2196      		adiw r28,1
 492 01cc F701      		movw r30,r14
 493 01ce D183      		std Z+1,r29
 494 01d0 C083      		st Z,r28
 495 01d2 00C0      		rjmp .L24
 496               	.L27:
 140:interpretacjaSMS.c **** }
 497               		.loc 1 140 0
 498 01d4 80E0      		ldi r24,0
 499 01d6 00C0      		rjmp .L23
 500               		.cfi_endproc
 501               	.LFE11:
 503               	.global	czy_jest_znak
 505               	czy_jest_znak:
 506               	.LFB12:
 142:interpretacjaSMS.c **** 
 143:interpretacjaSMS.c **** uchar czy_jest_znak(const uchar **buf_sms, const uchar wartosc) {
 507               		.loc 1 143 0
 508               		.cfi_startproc
 509               	.LVL38:
 510 01d8 DF92      		push r13
 511               	.LCFI32:
 512               		.cfi_def_cfa_offset 3
 513               		.cfi_offset 13, -2
 514 01da EF92      		push r14
 515               	.LCFI33:
 516               		.cfi_def_cfa_offset 4
 517               		.cfi_offset 14, -3
 518 01dc FF92      		push r15
 519               	.LCFI34:
 520               		.cfi_def_cfa_offset 5
 521               		.cfi_offset 15, -4
 522 01de 0F93      		push r16
 523               	.LCFI35:
 524               		.cfi_def_cfa_offset 6
 525               		.cfi_offset 16, -5
 526 01e0 1F93      		push r17
 527               	.LCFI36:
 528               		.cfi_def_cfa_offset 7
 529               		.cfi_offset 17, -6
 530 01e2 CF93      		push r28
 531               	.LCFI37:
 532               		.cfi_def_cfa_offset 8
 533               		.cfi_offset 28, -7
 534 01e4 DF93      		push r29
 535               	.LCFI38:
 536               		.cfi_def_cfa_offset 9
 537               		.cfi_offset 29, -8
 538               	/* prologue: function */
 539               	/* frame size = 0 */
 540               	/* stack size = 7 */
 541               	.L__stack_usage = 7
 542 01e6 8C01      		movw r16,r24
 543 01e8 D62E      		mov r13,r22
 544               	.LVL39:
 545               	.L29:
 144:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
 546               		.loc 1 144 0 discriminator 1
 547 01ea F801      		movw r30,r16
 548 01ec C081      		ld r28,Z
 549 01ee D181      		ldd r29,Z+1
 550 01f0 FE01      		movw r30,r28
 551 01f2 8191      		ld r24,Z+
 552 01f4 7F01      		movw r14,r30
 553 01f6 90E0      		ldi r25,0
 554 01f8 0E94 0000 		call isspace
 555               	.LVL40:
 556 01fc 892B      		or r24,r25
 557 01fe 01F4      		brne .L30
 558               	.LVL41:
 145:interpretacjaSMS.c ****   const uchar *buf_sms_pom = *buf_sms;
 146:interpretacjaSMS.c ****   const uchar w = toupper(wartosc);
 559               		.loc 1 146 0
 560 0200 8D2D      		mov r24,r13
 561 0202 90E0      		ldi r25,0
 562 0204 0E94 0000 		call toupper
 563               	.LVL42:
 564 0208 982F      		mov r25,r24
 565               	.LVL43:
 566               	.L32:
 147:interpretacjaSMS.c ****   uchar ch;
 148:interpretacjaSMS.c ****   while ((ch = *buf_sms_pom++) != '\0' && ch != w)
 567               		.loc 1 148 0 discriminator 2
 568 020a 9E01      		movw r18,r28
 569 020c 2F5F      		subi r18,-1
 570 020e 3F4F      		sbci r19,-1
 571               	.LVL44:
 572 0210 8881      		ld r24,Y
 573               	.LVL45:
 574 0212 8823      		tst r24
 575 0214 01F0      		breq .L31
 576               		.loc 1 148 0 is_stmt 0 discriminator 1
 577 0216 E901      		movw r28,r18
 578 0218 9813      		cpse r25,r24
 579 021a 00C0      		rjmp .L32
 580               	.L33:
 149:interpretacjaSMS.c ****     ;
 150:interpretacjaSMS.c ****   if (ch == w) {
 151:interpretacjaSMS.c ****     *buf_sms = buf_sms_pom;
 581               		.loc 1 151 0 is_stmt 1
 582 021c F801      		movw r30,r16
 583 021e 3183      		std Z+1,r19
 584 0220 2083      		st Z,r18
 152:interpretacjaSMS.c ****     return TRUE;
 585               		.loc 1 152 0
 586 0222 8FEF      		ldi r24,lo8(-1)
 587               	.LVL46:
 588 0224 00C0      		rjmp .L28
 589               	.LVL47:
 590               	.L30:
 144:interpretacjaSMS.c ****   const uchar *buf_sms_pom = *buf_sms;
 591               		.loc 1 144 0 discriminator 2
 592 0226 F801      		movw r30,r16
 593 0228 F182      		std Z+1,r15
 594 022a E082      		st Z,r14
 595 022c 00C0      		rjmp .L29
 596               	.LVL48:
 597               	.L31:
 150:interpretacjaSMS.c ****     *buf_sms = buf_sms_pom;
 598               		.loc 1 150 0
 599 022e 9923      		tst r25
 600 0230 01F0      		breq .L33
 601               	.LVL49:
 602               	.L28:
 603               	/* epilogue start */
 153:interpretacjaSMS.c ****   } else
 154:interpretacjaSMS.c ****     return FALSE;
 155:interpretacjaSMS.c **** }
 604               		.loc 1 155 0
 605 0232 DF91      		pop r29
 606 0234 CF91      		pop r28
 607 0236 1F91      		pop r17
 608 0238 0F91      		pop r16
 609               	.LVL50:
 610 023a FF90      		pop r15
 611 023c EF90      		pop r14
 612 023e DF90      		pop r13
 613               	.LVL51:
 614 0240 0895      		ret
 615               		.cfi_endproc
 616               	.LFE12:
 618               	.global	pobierz_wyraz
 620               	pobierz_wyraz:
 621               	.LFB13:
 156:interpretacjaSMS.c **** 
 157:interpretacjaSMS.c **** void pobierz_wyraz(const uchar **buf_sms, uchar *buf, uchar max_liczba_znakow) {
 622               		.loc 1 157 0
 623               		.cfi_startproc
 624               	.LVL52:
 625 0242 CF92      		push r12
 626               	.LCFI39:
 627               		.cfi_def_cfa_offset 3
 628               		.cfi_offset 12, -2
 629 0244 DF92      		push r13
 630               	.LCFI40:
 631               		.cfi_def_cfa_offset 4
 632               		.cfi_offset 13, -3
 633 0246 EF92      		push r14
 634               	.LCFI41:
 635               		.cfi_def_cfa_offset 5
 636               		.cfi_offset 14, -4
 637 0248 FF92      		push r15
 638               	.LCFI42:
 639               		.cfi_def_cfa_offset 6
 640               		.cfi_offset 15, -5
 641 024a 0F93      		push r16
 642               	.LCFI43:
 643               		.cfi_def_cfa_offset 7
 644               		.cfi_offset 16, -6
 645 024c 1F93      		push r17
 646               	.LCFI44:
 647               		.cfi_def_cfa_offset 8
 648               		.cfi_offset 17, -7
 649 024e CF93      		push r28
 650               	.LCFI45:
 651               		.cfi_def_cfa_offset 9
 652               		.cfi_offset 28, -8
 653 0250 DF93      		push r29
 654               	.LCFI46:
 655               		.cfi_def_cfa_offset 10
 656               		.cfi_offset 29, -9
 657               	/* prologue: function */
 658               	/* frame size = 0 */
 659               	/* stack size = 8 */
 660               	.L__stack_usage = 8
 661 0252 8C01      		movw r16,r24
 662 0254 D62E      		mov r13,r22
 663 0256 F72E      		mov r15,r23
 664 0258 E42E      		mov r14,r20
 665               	.LVL53:
 666               	.L37:
 158:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
 667               		.loc 1 158 0 discriminator 1
 668 025a F801      		movw r30,r16
 669 025c C081      		ld r28,Z
 670 025e D181      		ldd r29,Z+1
 671 0260 8881      		ld r24,Y
 672 0262 90E0      		ldi r25,0
 673 0264 0E94 0000 		call isspace
 674               	.LVL54:
 675 0268 892B      		or r24,r25
 676 026a 01F4      		brne .L38
 677 026c CD2D      		mov r28,r13
 678 026e DF2D      		mov r29,r15
 679               	.LVL55:
 680               	.L39:
 681 0270 6E01      		movw r12,r28
 682               	.LVL56:
 159:interpretacjaSMS.c ****   while (max_liczba_znakow-- && !isspace(**buf_sms) &&
 683               		.loc 1 159 0
 684 0272 E110      		cpse r14,__zero_reg__
 685 0274 00C0      		rjmp .L40
 686               	.LVL57:
 687               	.L41:
 160:interpretacjaSMS.c ****          (*buf = **buf_sms) != '\0') {
 161:interpretacjaSMS.c ****     buf++;
 162:interpretacjaSMS.c ****     (*buf_sms)++;
 163:interpretacjaSMS.c ****   }
 164:interpretacjaSMS.c ****   *buf = '\0';
 688               		.loc 1 164 0
 689 0276 F601      		movw r30,r12
 690 0278 1082      		st Z,__zero_reg__
 691               	/* epilogue start */
 165:interpretacjaSMS.c **** }
 692               		.loc 1 165 0
 693 027a DF91      		pop r29
 694 027c CF91      		pop r28
 695 027e 1F91      		pop r17
 696 0280 0F91      		pop r16
 697               	.LVL58:
 698 0282 FF90      		pop r15
 699 0284 EF90      		pop r14
 700 0286 DF90      		pop r13
 701 0288 CF90      		pop r12
 702               	.LVL59:
 703 028a 0895      		ret
 704               	.LVL60:
 705               	.L38:
 158:interpretacjaSMS.c ****   while (max_liczba_znakow-- && !isspace(**buf_sms) &&
 706               		.loc 1 158 0 discriminator 2
 707 028c 2196      		adiw r28,1
 708 028e D801      		movw r26,r16
 709 0290 CD93      		st X+,r28
 710 0292 DC93      		st X,r29
 711 0294 00C0      		rjmp .L37
 712               	.LVL61:
 713               	.L40:
 159:interpretacjaSMS.c ****          (*buf = **buf_sms) != '\0') {
 714               		.loc 1 159 0 discriminator 1
 715 0296 D801      		movw r26,r16
 716 0298 ED91      		ld r30,X+
 717 029a FC91      		ld r31,X
 718 029c F080      		ld r15,Z
 719 029e 8F2D      		mov r24,r15
 720 02a0 90E0      		ldi r25,0
 721 02a2 0E94 0000 		call isspace
 722               	.LVL62:
 723 02a6 892B      		or r24,r25
 724 02a8 01F4      		brne .L41
 160:interpretacjaSMS.c ****     buf++;
 725               		.loc 1 160 0 discriminator 2
 726 02aa F992      		st Y+,r15
 727 02ac EA94      		dec r14
 728               	.LVL63:
 159:interpretacjaSMS.c ****          (*buf = **buf_sms) != '\0') {
 729               		.loc 1 159 0 discriminator 2
 730 02ae FF20      		tst r15
 731 02b0 01F0      		breq .L41
 732               	.LVL64:
 162:interpretacjaSMS.c ****   }
 733               		.loc 1 162 0
 734 02b2 D801      		movw r26,r16
 735 02b4 8D91      		ld r24,X+
 736 02b6 9C91      		ld r25,X
 737 02b8 1197      		sbiw r26,1
 738 02ba 0196      		adiw r24,1
 739 02bc 8D93      		st X+,r24
 740 02be 9C93      		st X,r25
 741 02c0 00C0      		rjmp .L39
 742               		.cfi_endproc
 743               	.LFE13:
 745               	.global	pobierz_numer_telefonu
 747               	pobierz_numer_telefonu:
 748               	.LFB14:
 166:interpretacjaSMS.c **** 
 167:interpretacjaSMS.c **** uchar pobierz_numer_telefonu(const uchar **buf_sms, uchar *buf_telefon,
 168:interpretacjaSMS.c ****                              const uchar rozmiar_bufora) {
 749               		.loc 1 168 0
 750               		.cfi_startproc
 751               	.LVL65:
 752 02c2 8F92      		push r8
 753               	.LCFI47:
 754               		.cfi_def_cfa_offset 3
 755               		.cfi_offset 8, -2
 756 02c4 9F92      		push r9
 757               	.LCFI48:
 758               		.cfi_def_cfa_offset 4
 759               		.cfi_offset 9, -3
 760 02c6 AF92      		push r10
 761               	.LCFI49:
 762               		.cfi_def_cfa_offset 5
 763               		.cfi_offset 10, -4
 764 02c8 BF92      		push r11
 765               	.LCFI50:
 766               		.cfi_def_cfa_offset 6
 767               		.cfi_offset 11, -5
 768 02ca CF92      		push r12
 769               	.LCFI51:
 770               		.cfi_def_cfa_offset 7
 771               		.cfi_offset 12, -6
 772 02cc DF92      		push r13
 773               	.LCFI52:
 774               		.cfi_def_cfa_offset 8
 775               		.cfi_offset 13, -7
 776 02ce EF92      		push r14
 777               	.LCFI53:
 778               		.cfi_def_cfa_offset 9
 779               		.cfi_offset 14, -8
 780 02d0 FF92      		push r15
 781               	.LCFI54:
 782               		.cfi_def_cfa_offset 10
 783               		.cfi_offset 15, -9
 784 02d2 0F93      		push r16
 785               	.LCFI55:
 786               		.cfi_def_cfa_offset 11
 787               		.cfi_offset 16, -10
 788 02d4 1F93      		push r17
 789               	.LCFI56:
 790               		.cfi_def_cfa_offset 12
 791               		.cfi_offset 17, -11
 792 02d6 CF93      		push r28
 793               	.LCFI57:
 794               		.cfi_def_cfa_offset 13
 795               		.cfi_offset 28, -12
 796 02d8 DF93      		push r29
 797               	.LCFI58:
 798               		.cfi_def_cfa_offset 14
 799               		.cfi_offset 29, -13
 800 02da CDB7      		in r28,__SP_L__
 801 02dc DEB7      		in r29,__SP_H__
 802               	.LCFI59:
 803               		.cfi_def_cfa_register 28
 804 02de 6497      		sbiw r28,20
 805               	.LCFI60:
 806               		.cfi_def_cfa_offset 34
 807 02e0 0FB6      		in __tmp_reg__,__SREG__
 808 02e2 F894      		cli
 809 02e4 DEBF      		out __SP_H__,r29
 810 02e6 0FBE      		out __SREG__,__tmp_reg__
 811 02e8 CDBF      		out __SP_L__,r28
 812               	/* prologue: function */
 813               	/* frame size = 20 */
 814               	/* stack size = 32 */
 815               	.L__stack_usage = 32
 816 02ea 6C01      		movw r12,r24
 817 02ec 5B01      		movw r10,r22
 818 02ee 042F      		mov r16,r20
 819               	.LVL66:
 820               	.L45:
 169:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
 821               		.loc 1 169 0 discriminator 1
 822 02f0 F601      		movw r30,r12
 823 02f2 E080      		ld r14,Z
 824 02f4 F180      		ldd r15,Z+1
 825 02f6 D701      		movw r26,r14
 826 02f8 8C91      		ld r24,X
 827 02fa 90E0      		ldi r25,0
 828 02fc 0E94 0000 		call isspace
 829               	.LVL67:
 830 0300 892B      		or r24,r25
 831 0302 01F0      		breq .+2
 832 0304 00C0      		rjmp .L46
 170:interpretacjaSMS.c ****   const uchar *tel = *buf_sms;
 171:interpretacjaSMS.c **** 
 172:interpretacjaSMS.c ****   // Bufor tymczasowy dla wszystkich cyfr
 173:interpretacjaSMS.c ****   uchar temp_digits[20];
 174:interpretacjaSMS.c ****   uchar digit_count = 0;
 833               		.loc 1 174 0
 834 0306 10E0      		ldi r17,0
 835               	.L47:
 836 0308 4701      		movw r8,r14
 837               	.LVL68:
 175:interpretacjaSMS.c **** 
 176:interpretacjaSMS.c ****   // Zbierz wszystkie cyfry (0-9), pomijając +, #, *, spacje
 177:interpretacjaSMS.c ****   while (*tel != '\0' && digit_count < 20) {
 838               		.loc 1 177 0
 839 030a F701      		movw r30,r14
 840 030c 8191      		ld r24,Z+
 841 030e 7F01      		movw r14,r30
 842 0310 8823      		tst r24
 843 0312 01F0      		breq .L54
 844               		.loc 1 177 0 is_stmt 0 discriminator 1
 845 0314 1431      		cpi r17,lo8(20)
 846 0316 00F4      		brsh .L54
 178:interpretacjaSMS.c ****     // Pomiń spacje
 179:interpretacjaSMS.c ****     if (*tel == ' ') {
 847               		.loc 1 179 0 is_stmt 1
 848 0318 8032      		cpi r24,lo8(32)
 849 031a 01F0      		breq .L47
 180:interpretacjaSMS.c ****       tel++;
 181:interpretacjaSMS.c ****       continue;
 182:interpretacjaSMS.c ****     }
 183:interpretacjaSMS.c **** 
 184:interpretacjaSMS.c ****     // Sprawdź czy to poprawny znak numeru
 185:interpretacjaSMS.c ****     if (konwersja_znaku_telefonu(*tel) == ZNAK_NUMERU_TELEFONU_NIEZNANY) {
 850               		.loc 1 185 0
 851 031c 0E94 0000 		call konwersja_znaku_telefonu
 852               	.LVL69:
 853 0320 8D30      		cpi r24,lo8(13)
 854 0322 01F4      		brne .L49
 855               	.L54:
 186:interpretacjaSMS.c ****       break; // Koniec numeru
 187:interpretacjaSMS.c ****     }
 188:interpretacjaSMS.c **** 
 189:interpretacjaSMS.c ****     // Zapisz TYLKO cyfry (0-9)
 190:interpretacjaSMS.c ****     if (*tel >= '0' && *tel <= '9') {
 191:interpretacjaSMS.c ****       temp_digits[digit_count++] = *tel;
 192:interpretacjaSMS.c ****     }
 193:interpretacjaSMS.c ****     tel++;
 194:interpretacjaSMS.c ****   }
 195:interpretacjaSMS.c **** 
 196:interpretacjaSMS.c ****   // Skopiuj OSTATNIE 9 cyfr do bufora wyjściowego
 197:interpretacjaSMS.c ****   uchar start_pos = (digit_count > 9) ? (digit_count - 9) : 0;
 856               		.loc 1 197 0
 857 0324 812F      		mov r24,r17
 858 0326 1930      		cpi r17,lo8(9)
 859 0328 00F4      		brsh .L50
 860 032a 89E0      		ldi r24,lo8(9)
 861               	.L50:
 862 032c 8950      		subi r24,lo8(-(-9))
 863               	.LVL70:
 198:interpretacjaSMS.c ****   uchar copy_count = (digit_count > 9) ? 9 : digit_count;
 864               		.loc 1 198 0
 865 032e E12F      		mov r30,r17
 866 0330 1A30      		cpi r17,lo8(10)
 867 0332 00F0      		brlo .L51
 868 0334 E9E0      		ldi r30,lo8(9)
 869               	.L51:
 870               	.LVL71:
 871 0336 A501      		movw r20,r10
 872               	.LBB6:
 199:interpretacjaSMS.c **** 
 200:interpretacjaSMS.c ****   for (uchar i = 0; i < copy_count && i < rozmiar_bufora - 1; i++) {
 873               		.loc 1 200 0
 874 0338 30E0      		ldi r19,0
 875 033a 20E0      		ldi r18,0
 876 033c 0150      		subi r16,1
 877 033e 110B      		sbc r17,r17
 878               	.LVL72:
 201:interpretacjaSMS.c ****     buf_telefon[i] = temp_digits[start_pos + i];
 879               		.loc 1 201 0
 880 0340 90E0      		ldi r25,0
 881               	.LVL73:
 882               	.L52:
 200:interpretacjaSMS.c ****     buf_telefon[i] = temp_digits[start_pos + i];
 883               		.loc 1 200 0 discriminator 1
 884 0342 2E17      		cp r18,r30
 885 0344 00F4      		brsh .L56
 200:interpretacjaSMS.c ****     buf_telefon[i] = temp_digits[start_pos + i];
 886               		.loc 1 200 0 is_stmt 0 discriminator 3
 887 0346 2017      		cp r18,r16
 888 0348 3107      		cpc r19,r17
 889 034a 04F0      		brlt .L57
 890               	.L56:
 891               	.LBE6:
 202:interpretacjaSMS.c ****   }
 203:interpretacjaSMS.c ****   buf_telefon[copy_count] = '\0';
 892               		.loc 1 203 0 is_stmt 1
 893 034c EA0D      		add r30,r10
 894 034e FB2D      		mov r31,r11
 895 0350 F11D      		adc r31,__zero_reg__
 896               	.LVL74:
 897 0352 1082      		st Z,__zero_reg__
 204:interpretacjaSMS.c **** 
 205:interpretacjaSMS.c ****   if (buf_telefon[0] != '\0') {
 898               		.loc 1 205 0
 899 0354 F501      		movw r30,r10
 900 0356 8081      		ld r24,Z
 901               	.LVL75:
 902 0358 8823      		tst r24
 903 035a 01F0      		breq .L44
 206:interpretacjaSMS.c ****     *buf_sms = tel;
 904               		.loc 1 206 0
 905 035c D601      		movw r26,r12
 906 035e 8C92      		st X,r8
 907 0360 1196      		adiw r26,1
 908 0362 9C92      		st X,r9
 207:interpretacjaSMS.c ****     return TRUE;
 909               		.loc 1 207 0
 910 0364 8FEF      		ldi r24,lo8(-1)
 911               	.L44:
 912               	/* epilogue start */
 208:interpretacjaSMS.c ****   } else
 209:interpretacjaSMS.c ****     return FALSE;
 210:interpretacjaSMS.c **** }
 913               		.loc 1 210 0
 914 0366 6496      		adiw r28,20
 915 0368 0FB6      		in __tmp_reg__,__SREG__
 916 036a F894      		cli
 917 036c DEBF      		out __SP_H__,r29
 918 036e 0FBE      		out __SREG__,__tmp_reg__
 919 0370 CDBF      		out __SP_L__,r28
 920 0372 DF91      		pop r29
 921 0374 CF91      		pop r28
 922 0376 1F91      		pop r17
 923               	.LVL76:
 924 0378 0F91      		pop r16
 925 037a FF90      		pop r15
 926 037c EF90      		pop r14
 927 037e DF90      		pop r13
 928 0380 CF90      		pop r12
 929               	.LVL77:
 930 0382 BF90      		pop r11
 931 0384 AF90      		pop r10
 932               	.LVL78:
 933 0386 9F90      		pop r9
 934 0388 8F90      		pop r8
 935               	.LVL79:
 936 038a 0895      		ret
 937               	.LVL80:
 938               	.L46:
 169:interpretacjaSMS.c ****   const uchar *tel = *buf_sms;
 939               		.loc 1 169 0 discriminator 2
 940 038c 6FEF      		ldi r22,-1
 941 038e E61A      		sub r14,r22
 942 0390 F60A      		sbc r15,r22
 943 0392 D601      		movw r26,r12
 944 0394 ED92      		st X+,r14
 945 0396 FC92      		st X,r15
 946 0398 00C0      		rjmp .L45
 947               	.LVL81:
 948               	.L49:
 190:interpretacjaSMS.c ****       temp_digits[digit_count++] = *tel;
 949               		.loc 1 190 0
 950 039a F701      		movw r30,r14
 951 039c 3197      		sbiw r30,1
 952 039e 8081      		ld r24,Z
 953 03a0 90ED      		ldi r25,lo8(-48)
 954 03a2 980F      		add r25,r24
 955 03a4 9A30      		cpi r25,lo8(10)
 956 03a6 00F0      		brlo .+2
 957 03a8 00C0      		rjmp .L47
 958               	.LVL82:
 191:interpretacjaSMS.c ****     }
 959               		.loc 1 191 0
 960 03aa E1E0      		ldi r30,lo8(1)
 961 03ac F0E0      		ldi r31,0
 962 03ae EC0F      		add r30,r28
 963 03b0 FD1F      		adc r31,r29
 964 03b2 E10F      		add r30,r17
 965 03b4 F11D      		adc r31,__zero_reg__
 966 03b6 8083      		st Z,r24
 967 03b8 1F5F      		subi r17,lo8(-(1))
 968               	.LVL83:
 969 03ba 00C0      		rjmp .L47
 970               	.LVL84:
 971               	.L57:
 972               	.LBB7:
 201:interpretacjaSMS.c ****   }
 973               		.loc 1 201 0 discriminator 4
 974 03bc DC01      		movw r26,r24
 975 03be A20F      		add r26,r18
 976 03c0 B31F      		adc r27,r19
 977 03c2 61E0      		ldi r22,lo8(1)
 978 03c4 70E0      		ldi r23,0
 979 03c6 6C0F      		add r22,r28
 980 03c8 7D1F      		adc r23,r29
 981 03ca A60F      		add r26,r22
 982 03cc B71F      		adc r27,r23
 983 03ce 6C91      		ld r22,X
 984 03d0 DA01      		movw r26,r20
 985 03d2 6D93      		st X+,r22
 986 03d4 AD01      		movw r20,r26
 987               	.LVL85:
 988 03d6 2F5F      		subi r18,-1
 989 03d8 3F4F      		sbci r19,-1
 990               	.LVL86:
 991 03da 00C0      		rjmp .L52
 992               	.LBE7:
 993               		.cfi_endproc
 994               	.LFE14:
 996               		.section	.rodata.str1.1,"aMS",@progbits,1
 997               	.LC0:
 998 0000 2B43 434C 		.string	"+CCLK=\"24/01/01,%02d:%02d:%02d+04\""
 998      4B3D 2232 
 998      342F 3031 
 998      2F30 312C 
 998      2530 3264 
 999               		.text
 1000               	.global	interpretuj_wiadomosc_sms
 1002               	interpretuj_wiadomosc_sms:
 1003               	.LFB15:
 211:interpretacjaSMS.c **** 
 212:interpretacjaSMS.c **** uchar interpretuj_wiadomosc_sms(const uchar *sms) {
 1004               		.loc 1 212 0
 1005               		.cfi_startproc
 1006               	.LVL87:
 1007 03dc EF92      		push r14
 1008               	.LCFI61:
 1009               		.cfi_def_cfa_offset 3
 1010               		.cfi_offset 14, -2
 1011 03de FF92      		push r15
 1012               	.LCFI62:
 1013               		.cfi_def_cfa_offset 4
 1014               		.cfi_offset 15, -3
 1015 03e0 0F93      		push r16
 1016               	.LCFI63:
 1017               		.cfi_def_cfa_offset 5
 1018               		.cfi_offset 16, -4
 1019 03e2 1F93      		push r17
 1020               	.LCFI64:
 1021               		.cfi_def_cfa_offset 6
 1022               		.cfi_offset 17, -5
 1023 03e4 CF93      		push r28
 1024               	.LCFI65:
 1025               		.cfi_def_cfa_offset 7
 1026               		.cfi_offset 28, -6
 1027 03e6 DF93      		push r29
 1028               	.LCFI66:
 1029               		.cfi_def_cfa_offset 8
 1030               		.cfi_offset 29, -7
 1031 03e8 CDB7      		in r28,__SP_L__
 1032 03ea DEB7      		in r29,__SP_H__
 1033               	.LCFI67:
 1034               		.cfi_def_cfa_register 28
 1035 03ec 6F97      		sbiw r28,31
 1036               	.LCFI68:
 1037               		.cfi_def_cfa_offset 39
 1038 03ee 0FB6      		in __tmp_reg__,__SREG__
 1039 03f0 F894      		cli
 1040 03f2 DEBF      		out __SP_H__,r29
 1041 03f4 0FBE      		out __SREG__,__tmp_reg__
 1042 03f6 CDBF      		out __SP_L__,r28
 1043               	/* prologue: function */
 1044               	/* frame size = 31 */
 1045               	/* stack size = 37 */
 1046               	.L__stack_usage = 37
 1047 03f8 9F8F      		std Y+31,r25
 1048 03fa 8E8F      		std Y+30,r24
 213:interpretacjaSMS.c ****   memcpy(bufor_eeprom, sms, MAX_BUFOR_EEPROM);
 1049               		.loc 1 213 0
 1050 03fc 7C01      		movw r14,r24
 1051 03fe 82E3      		ldi r24,lo8(50)
 1052               	.LVL88:
 1053 0400 F701      		movw r30,r14
 1054 0402 A0E0      		ldi r26,lo8(bufor_eeprom)
 1055 0404 B0E0      		ldi r27,hi8(bufor_eeprom)
 1056               		0:
 1057 0406 0190      		ld r0,Z+
 1058 0408 0D92      		st X+,r0
 1059 040a 8A95      		dec r24
 1060 040c 01F4      		brne 0b
 1061               	.LVL89:
 214:interpretacjaSMS.c ****   const uchar *sms_pom = sms;
 215:interpretacjaSMS.c ****   if (!sprawdz_kod(&sms)) {
 1062               		.loc 1 215 0
 1063 040e CE01      		movw r24,r28
 1064 0410 4E96      		adiw r24,30
 1065 0412 0E94 0000 		call sprawdz_kod
 1066               	.LVL90:
 1067 0416 2E8D      		ldd r18,Y+30
 1068 0418 9F8D      		ldd r25,Y+31
 1069 041a 8111      		cpse r24,__zero_reg__
 1070 041c 00C0      		rjmp .L69
 216:interpretacjaSMS.c ****     if (sprawdz_reset_ustawien(sms))
 1071               		.loc 1 216 0
 1072 041e 822F      		mov r24,r18
 1073 0420 0E94 0000 		call sprawdz_reset_ustawien
 1074               	.LVL91:
 1075 0424 8823      		tst r24
 1076 0426 01F4      		brne .+2
 1077 0428 00C0      		rjmp .L68
 1078               	.L122:
 217:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_RESET_WSZYSTKICH_USTAWIEN;
 1079               		.loc 1 217 0
 1080 042a 8BE0      		ldi r24,lo8(11)
 1081 042c 00C0      		rjmp .L68
 1082               	.L69:
 1083 042e 022F      		mov r16,r18
 1084 0430 192F      		mov r17,r25
 1085               	.L71:
 1086               	.LVL92:
 1087               	.LBB8:
 218:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_BRAK_KODU;
 219:interpretacjaSMS.c ****   }
 220:interpretacjaSMS.c ****   { // mona wstawi ten kod do kolejki i w nastpnym kroku interpretowa
 221:interpretacjaSMS.c ****     for (uchar *ptr = (uchar *)sms; *ptr != '\0'; ++ptr)
 1088               		.loc 1 221 0 discriminator 1
 1089 0432 F801      		movw r30,r16
 1090 0434 8191      		ld r24,Z+
 1091 0436 8F01      		movw r16,r30
 1092               	.LVL93:
 1093 0438 8111      		cpse r24,__zero_reg__
 1094 043a 00C0      		rjmp .L72
 1095               	.LBE8:
 222:interpretacjaSMS.c ****       *ptr = toupper(*ptr);
 223:interpretacjaSMS.c ****   }
 224:interpretacjaSMS.c **** 
 225:interpretacjaSMS.c ****   switch (
 226:interpretacjaSMS.c ****       interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CODE, INSTRUKCJA_MYNUM + 1)) {
 1096               		.loc 1 226 0
 1097 043c 42E1      		ldi r20,lo8(18)
 1098 043e 60E0      		ldi r22,0
 1099 0440 CE01      		movw r24,r28
 1100 0442 4E96      		adiw r24,30
 1101 0444 0E94 0000 		call interpretuj_instrukcje_sms
 1102               	.LVL94:
 225:interpretacjaSMS.c ****       interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CODE, INSTRUKCJA_MYNUM + 1)) {
 1103               		.loc 1 225 0
 1104 0448 8231      		cpi r24,lo8(18)
 1105 044a 00F0      		brlo .+2
 1106 044c 00C0      		rjmp .L73
 1107 044e E82F      		mov r30,r24
 1108 0450 F0E0      		ldi r31,0
 1109 0452 E050      		subi r30,lo8(-(gs(.L75)))
 1110 0454 F040      		sbci r31,hi8(-(gs(.L75)))
 1111 0456 0C94 0000 		jmp __tablejump2__
 1112               		.p2align	1
 1113               	.L75:
 1114 045a 0000      		.word gs(.L74)
 1115 045c 0000      		.word gs(.L76)
 1116 045e 0000      		.word gs(.L77)
 1117 0460 0000      		.word gs(.L122)
 1118 0462 0000      		.word gs(.L123)
 1119 0464 0000      		.word gs(.L79)
 1120 0466 0000      		.word gs(.L80)
 1121 0468 0000      		.word gs(.L81)
 1122 046a 0000      		.word gs(.L73)
 1123 046c 0000      		.word gs(.L73)
 1124 046e 0000      		.word gs(.L82)
 1125 0470 0000      		.word gs(.L83)
 1126 0472 0000      		.word gs(.L84)
 1127 0474 0000      		.word gs(.L85)
 1128 0476 0000      		.word gs(.L86)
 1129 0478 0000      		.word gs(.L87)
 1130 047a 0000      		.word gs(.L88)
 1131 047c 0000      		.word gs(.L89)
 1132               	.L72:
 1133               	.LBB9:
 222:interpretacjaSMS.c ****       *ptr = toupper(*ptr);
 1134               		.loc 1 222 0 discriminator 3
 1135 047e 90E0      		ldi r25,0
 1136 0480 0E94 0000 		call toupper
 1137               	.LVL95:
 1138 0484 F801      		movw r30,r16
 1139 0486 3197      		sbiw r30,1
 1140 0488 8083      		st Z,r24
 1141               	.LVL96:
 1142 048a 00C0      		rjmp .L71
 1143               	.LVL97:
 1144               	.L90:
 1145               	.LBE9:
 227:interpretacjaSMS.c ****   case INSTRUKCJA_CODE: {
 228:interpretacjaSMS.c ****     przeskocz_biale_znaki(sms);
 1146               		.loc 1 228 0 discriminator 2
 1147 048c 0F5F      		subi r16,-1
 1148 048e 1F4F      		sbci r17,-1
 1149 0490 1F8F      		std Y+31,r17
 1150 0492 0E8F      		std Y+30,r16
 1151               	.L74:
 1152               		.loc 1 228 0 is_stmt 0 discriminator 1
 1153 0494 0E8D      		ldd r16,Y+30
 1154 0496 1F8D      		ldd r17,Y+31
 1155 0498 F801      		movw r30,r16
 1156 049a 8081      		ld r24,Z
 1157 049c 90E0      		ldi r25,0
 1158 049e 0E94 0000 		call isspace
 1159               	.LVL98:
 1160 04a2 892B      		or r24,r25
 1161 04a4 01F4      		brne .L90
 1162 04a6 C801      		movw r24,r16
 1163 04a8 8E19      		sub r24,r14
 1164 04aa 9F09      		sbc r25,r15
 1165 04ac FC01      		movw r30,r24
 1166 04ae E050      		subi r30,lo8(-(bufor_eeprom))
 1167 04b0 F040      		sbci r31,hi8(-(bufor_eeprom))
 1168               		.loc 1 228 0
 1169 04b2 34E0      		ldi r19,lo8(4)
 1170               	.L92:
 1171               	.LVL99:
 1172               	.LBB10:
 1173               	.LBB11:
 229:interpretacjaSMS.c ****     for (uchar i = 0; i < LICZBA_BAJTOW_KODU_DOSTEPU; ++i) {
 230:interpretacjaSMS.c ****       const uchar znak = bufor_eeprom[(sms - sms_pom) + i];
 1174               		.loc 1 230 0 is_stmt 1
 1175 04b4 2191      		ld r18,Z+
 1176               	.LVL100:
 231:interpretacjaSMS.c ****       if (not((znak >= 'A' && znak <= 'Z') || (znak >= '0' && znak <= '9')))
 1177               		.loc 1 231 0
 1178 04b6 4FEB      		ldi r20,lo8(-65)
 1179 04b8 420F      		add r20,r18
 1180 04ba 4A31      		cpi r20,lo8(26)
 1181 04bc 00F0      		brlo .L91
 1182               		.loc 1 231 0 is_stmt 0 discriminator 1
 1183 04be 2053      		subi r18,lo8(-(-48))
 1184               	.LVL101:
 1185 04c0 2A30      		cpi r18,lo8(10)
 1186 04c2 00F0      		brlo .L91
 1187               	.LVL102:
 1188               	.L129:
 1189               	.LBE11:
 1190               	.LBE10:
 1191               	.LBB12:
 232:interpretacjaSMS.c ****         return INTERPRETACJA_SMS_BLEDNE_DANE;
 233:interpretacjaSMS.c ****     }
 234:interpretacjaSMS.c ****     memcpy(kod_modulu, bufor_eeprom + (sms - sms_pom),
 235:interpretacjaSMS.c ****            LICZBA_BAJTOW_KODU_DOSTEPU);
 236:interpretacjaSMS.c ****     zapisz_znaki_w_eeprom(bufor_eeprom + (sms - sms_pom),
 237:interpretacjaSMS.c ****                           (uint)ADRES_EEPROM_KOD_DOSTEPU,
 238:interpretacjaSMS.c ****                           LICZBA_BAJTOW_KODU_DOSTEPU);
 239:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 240:interpretacjaSMS.c ****   }
 241:interpretacjaSMS.c ****   case INSTRUKCJA_REPORT: {
 242:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_RAPORT;
 243:interpretacjaSMS.c ****   }
 244:interpretacjaSMS.c ****   case INSTRUKCJA_USER: {
 245:interpretacjaSMS.c ****     // Komenda USER ma działać wyłącznie z podanym numerem.
 246:interpretacjaSMS.c ****     // Przykład: USER +48505691117 E C B R [K]
 247:interpretacjaSMS.c ****     if (pobierz_numer_telefonu(&sms, &numer_telefonu_do_ktorego_dzwonic[0], 14))
 248:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_USER;
 249:interpretacjaSMS.c **** 
 250:interpretacjaSMS.c ****     // Brak numeru po "USER" – wyślij informację z instrukcją użycia,
 251:interpretacjaSMS.c ****     // zamiast pełnej listy użytkowników.
 252:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_USER_BEZ_NUMERU;
 253:interpretacjaSMS.c ****   }
 254:interpretacjaSMS.c ****   case INSTRUKCJA_ADD: {
 255:interpretacjaSMS.c ****     if (not pobierz_numer_telefonu(&sms, &numer_telefonu_do_ktorego_dzwonic[0],
 256:interpretacjaSMS.c ****                                    14))
 257:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 258:interpretacjaSMS.c ****     dodaj_komende(KOMENDA_KOLEJKI_DODAJ_UZYTKOWNIKA_BRAMA);
 259:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 260:interpretacjaSMS.c ****   }
 261:interpretacjaSMS.c ****   case INSTRUKCJA_DEL: {
 262:interpretacjaSMS.c ****     if (not pobierz_numer_telefonu(&sms, &numer_telefonu_do_ktorego_dzwonic[0],
 263:interpretacjaSMS.c ****                                    14))
 264:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 265:interpretacjaSMS.c ****     dodaj_komende(KOMENDA_KOLEJKI_USUN_UZYTKOWNIKA_BRAMA);
 266:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 267:interpretacjaSMS.c ****   }
 268:interpretacjaSMS.c ****   case INSTRUKCJA_RESET: {
 269:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_RESET_WSZYSTKICH_USTAWIEN;
 270:interpretacjaSMS.c ****   }
 271:interpretacjaSMS.c ****   case INSTRUKCJA_OPEN: {
 272:interpretacjaSMS.c ****     const uchar podtryb =
 273:interpretacjaSMS.c ****         interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CLIP, INSTRUKCJA_DTMF + 1);
 274:interpretacjaSMS.c ****     if (podtryb == INSTRUKCJA_CLIP) {
 275:interpretacjaSMS.c ****       tryb_pracy = 1; // Publiczny
 276:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 277:interpretacjaSMS.c **** 
 278:interpretacjaSMS.c ****       tryb_clip = TRUE;
 279:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_CLIP_DTMF);
 280:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 281:interpretacjaSMS.c ****     } else if (podtryb == INSTRUKCJA_DTMF) {
 282:interpretacjaSMS.c ****       tryb_pracy = 1; // Publiczny
 283:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 284:interpretacjaSMS.c **** 
 285:interpretacjaSMS.c ****       tryb_clip = FALSE; // DTMF
 286:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_CLIP_DTMF);
 287:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 288:interpretacjaSMS.c ****     } else {
 289:interpretacjaSMS.c ****       // Domyślne zachowanie (stare OPEN): Tylko tryb publiczny, nie zmieniaj
 290:interpretacjaSMS.c ****       // sub-trybu (chyba ze wymusimy CLIP?) Dla kompatybilnosci wstecznej OPEN
 291:interpretacjaSMS.c ****       // = OPEN CLIP Lub zostawiamy stary sub-tryb? AC200 wymusza CLIP przy
 292:interpretacjaSMS.c ****       // samym OPEN? Nie, AC200 zwraca BLEDNE_DANE jesli brak podtrybu! Ale my
 293:interpretacjaSMS.c ****       // chcemy kompatybilnosc. Zrobmy tak: OPEN bez parametru = OPEN (zachowaj
 294:interpretacjaSMS.c ****       // obecny podtryb) + Publiczny
 295:interpretacjaSMS.c **** 
 296:interpretacjaSMS.c ****       // Jednak w AC200 kod:
 297:interpretacjaSMS.c ****       // if ( podtryb == INSTRUKCJA_CLIP ) ...
 298:interpretacjaSMS.c ****       // else if ( podtryb == INSTRUKCJA_DTMF ) ...
 299:interpretacjaSMS.c ****       // else return INTERPRETACJA_SMS_BLEDNE_DANE;
 300:interpretacjaSMS.c **** 
 301:interpretacjaSMS.c ****       // Decyzja: Zachowujemy kompatybilnosc wsteczna.
 302:interpretacjaSMS.c ****       // Jesli brak parametru -> tylko zmien tryb_pracy na 1.
 303:interpretacjaSMS.c ****       tryb_pracy = 1; // Publiczny
 304:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 305:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 306:interpretacjaSMS.c ****     }
 307:interpretacjaSMS.c ****   }
 308:interpretacjaSMS.c ****   case INSTRUKCJA_CLOSE: {
 309:interpretacjaSMS.c ****     const uchar podtryb =
 310:interpretacjaSMS.c ****         interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CLIP, INSTRUKCJA_DTMF + 1);
 311:interpretacjaSMS.c ****     if (podtryb == INSTRUKCJA_CLIP) {
 312:interpretacjaSMS.c ****       tryb_pracy = 0; // Prywatny
 313:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_PRACY);
 314:interpretacjaSMS.c **** 
 315:interpretacjaSMS.c ****       tryb_clip = TRUE;
 316:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_CLIP_DTMF);
 317:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 318:interpretacjaSMS.c ****     } else if (podtryb == INSTRUKCJA_DTMF) {
 319:interpretacjaSMS.c ****       tryb_pracy = 0; // Prywatny
 320:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_PRACY);
 321:interpretacjaSMS.c **** 
 322:interpretacjaSMS.c ****       tryb_clip = FALSE; // DTMF
 323:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_CLIP_DTMF);
 324:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 325:interpretacjaSMS.c ****     } else {
 326:interpretacjaSMS.c ****       // Kompatybilnosc wsteczna: CLOSE bez parametru
 327:interpretacjaSMS.c ****       tryb_pracy = 0; // Prywatny
 328:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_PRACY);
 329:interpretacjaSMS.c **** 
 330:interpretacjaSMS.c ****       // Jeśli SKRYBA była włączona, wyłącz ją automatycznie
 331:interpretacjaSMS.c ****       if (skryba_wlaczona) {
 332:interpretacjaSMS.c ****         zapisz_znak_w_eeprom(0, ADRES_EEPROM_SKRYBA);
 333:interpretacjaSMS.c ****         skryba_wlaczona = FALSE;
 334:interpretacjaSMS.c ****       }
 335:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 336:interpretacjaSMS.c ****     }
 337:interpretacjaSMS.c ****   }
 338:interpretacjaSMS.c ****   case INSTRUKCJA_SET: {
 339:interpretacjaSMS.c ****     long h, m, s;
 340:interpretacjaSMS.c **** 
 341:interpretacjaSMS.c ****     // Sprawdź czy są parametry (próba parsowania)
 342:interpretacjaSMS.c ****     uchar ma_parametry = pobierz_long(&sms, &h) && pomin_znak(&sms, ':') &&
 343:interpretacjaSMS.c ****                          pobierz_long(&sms, &m) && pomin_znak(&sms, ':') &&
 344:interpretacjaSMS.c ****                          pobierz_long(&sms, &s);
 345:interpretacjaSMS.c **** 
 346:interpretacjaSMS.c ****     if (!ma_parametry) {
 347:interpretacjaSMS.c ****       // ABCD SET bez parametrów - zwróć aktualny czas (bez sync z SMS)
 348:interpretacjaSMS.c ****       // Blokujemy sync czasu, aby odczytać aktualny RTC przed aktualizacją
 349:interpretacjaSMS.c ****       extern uchar sms_pomijaj_aktualizacje_czasu;
 350:interpretacjaSMS.c ****       sms_pomijaj_aktualizacje_czasu = TRUE;
 351:interpretacjaSMS.c **** 
 352:interpretacjaSMS.c ****       // Wyślij raport z aktualnym czasem
 353:interpretacjaSMS.c ****       extern char rtc_czas[12];
 354:interpretacjaSMS.c ****       uchar *sms_out = tekst_wysylanego_smsa;
 355:interpretacjaSMS.c ****       strcpy_P((char *)sms_out, PSTR("Time: "));
 356:interpretacjaSMS.c ****       sms_out += strlen((char *)sms_out);
 357:interpretacjaSMS.c ****       strcpy((char *)sms_out, rtc_czas);
 358:interpretacjaSMS.c **** 
 359:interpretacjaSMS.c ****       // Ustaw numer telefonu odbiorcy
 360:interpretacjaSMS.c ****       extern uchar numer_telefonu_wysylanego_smsa[];
 361:interpretacjaSMS.c ****       extern uchar numer_telefonu_odebranego_smsa[];
 362:interpretacjaSMS.c ****       strcpy((char *)numer_telefonu_wysylanego_smsa,
 363:interpretacjaSMS.c ****              (char *)numer_telefonu_odebranego_smsa);
 364:interpretacjaSMS.c **** 
 365:interpretacjaSMS.c ****       // Dodaj komendę wysłania SMS
 366:interpretacjaSMS.c ****       dodaj_komende(KOMENDA_KOLEJKI_WYSLIJ_SMSA_TEXT);
 367:interpretacjaSMS.c **** 
 368:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 369:interpretacjaSMS.c ****     }
 370:interpretacjaSMS.c **** 
 371:interpretacjaSMS.c ****     // ABCD SET HH:MM:SS - ustaw czas
 372:interpretacjaSMS.c ****     if (h < 0 || h > 23 || m < 0 || m > 59 || s < 0 || s > 59)
 373:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 374:interpretacjaSMS.c **** 
 375:interpretacjaSMS.c ****     // Format: AT+CCLK="yy/MM/dd,hh:mm:ss+zz"
 376:interpretacjaSMS.c ****     // Używamy fikcyjnej daty 24/01/01
 377:interpretacjaSMS.c ****     sprintf(bufor_ustaw_czas, "+CCLK=\"24/01/01,%02d:%02d:%02d+04\"", (int)h,
 378:interpretacjaSMS.c ****             (int)m, (int)s);
 379:interpretacjaSMS.c ****     dodaj_komende(KOMENDA_KOLEJKI_USTAW_ZEGAR_SIM900);
 380:interpretacjaSMS.c **** 
 381:interpretacjaSMS.c ****     // Wyłącz aktualizację czasu z timestampu SMS dla tej komendy
 382:interpretacjaSMS.c ****     extern uchar sms_pomijaj_aktualizacje_czasu;
 383:interpretacjaSMS.c ****     sms_pomijaj_aktualizacje_czasu = TRUE;
 384:interpretacjaSMS.c **** 
 385:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 386:interpretacjaSMS.c ****   }
 387:interpretacjaSMS.c ****   case INSTRUKCJA_TIME: {
 388:interpretacjaSMS.c ****     // Sprawdzenie czy to komenda OFF
 389:interpretacjaSMS.c ****     przeskocz_biale_znaki(sms);
 390:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("OFF"), 3) == 0) {
 391:interpretacjaSMS.c ****       // Zapisz wartosci wylaczajace (np. 0xFF)
 392:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_START_H);
 393:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_START_M);
 394:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_STOP_H);
 395:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_STOP_M);
 396:interpretacjaSMS.c **** 
 397:interpretacjaSMS.c ****       // Aktualizuj zmienne w RAM
 398:interpretacjaSMS.c ****       czas_start_h = 0xFF;
 399:interpretacjaSMS.c ****       czas_start_m = 0xFF;
 400:interpretacjaSMS.c ****       czas_stop_h = 0xFF;
 401:interpretacjaSMS.c ****       czas_stop_m = 0xFF;
 402:interpretacjaSMS.c ****       blokada_sterowania_czasowa = FALSE;
 403:interpretacjaSMS.c **** 
 404:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 405:interpretacjaSMS.c ****     }
 406:interpretacjaSMS.c **** 
 407:interpretacjaSMS.c ****     long sh, sm, eh, em;
 408:interpretacjaSMS.c ****     // Pobierz HH:MM (start)
 409:interpretacjaSMS.c ****     if (!pobierz_long(&sms, &sh) || !pomin_znak(&sms, ':') ||
 410:interpretacjaSMS.c ****         !pobierz_long(&sms, &sm))
 411:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 412:interpretacjaSMS.c **** 
 413:interpretacjaSMS.c ****     // Pobierz separator (spacja lub inny bialy znak juz pominiety przez
 414:interpretacjaSMS.c ****     // pobierz_long/pomin_znak, ale tu moze byc #) Uzytkownik podal przyklad:
 415:interpretacjaSMS.c ****     // HH:MM #HH:MM Sprawdzmy czy jest opcjonalny separator np '#'
 416:interpretacjaSMS.c ****     if (czy_jest_znak(&sms, '#')) { /* ok, pominelismy */
 417:interpretacjaSMS.c ****     }
 418:interpretacjaSMS.c **** 
 419:interpretacjaSMS.c ****     // Pobierz HH:MM (stop)
 420:interpretacjaSMS.c ****     if (!pobierz_long(&sms, &eh) || !pomin_znak(&sms, ':') ||
 421:interpretacjaSMS.c ****         !pobierz_long(&sms, &em))
 422:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 423:interpretacjaSMS.c **** 
 424:interpretacjaSMS.c ****     if (sh < 0 || sh > 23 || sm < 0 || sm > 59 || eh < 0 || eh > 23 || em < 0 ||
 425:interpretacjaSMS.c ****         em > 59)
 426:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 427:interpretacjaSMS.c **** 
 428:interpretacjaSMS.c ****     // Zapis do EEPROM
 429:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)sh, ADRES_EEPROM_CZAS_START_H);
 430:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)sm, ADRES_EEPROM_CZAS_START_M);
 431:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)eh, ADRES_EEPROM_CZAS_STOP_H);
 432:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)em, ADRES_EEPROM_CZAS_STOP_M);
 433:interpretacjaSMS.c **** 
 434:interpretacjaSMS.c ****     // Aktualizuj zmienne w RAM
 435:interpretacjaSMS.c ****     czas_start_h = (uchar)sh;
 436:interpretacjaSMS.c ****     czas_start_m = (uchar)sm;
 437:interpretacjaSMS.c ****     czas_stop_h = (uchar)eh;
 438:interpretacjaSMS.c ****     czas_stop_m = (uchar)em;
 439:interpretacjaSMS.c **** 
 440:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 441:interpretacjaSMS.c ****   }
 442:interpretacjaSMS.c ****   case INSTRUKCJA_SKRYBA: {
 443:interpretacjaSMS.c ****     przeskocz_biale_znaki(sms);
 444:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("ON"), 2) == 0) {
 445:interpretacjaSMS.c ****       sms += 2; // Przeskocz "ON"
 446:interpretacjaSMS.c **** 
 447:interpretacjaSMS.c ****       // Sprawdz czy jest opcjonalny parametr (liczba)
 448:interpretacjaSMS.c ****       long limit_value = 800; // Domyslny
 449:interpretacjaSMS.c ****       przeskocz_biale_znaki(sms);
 450:interpretacjaSMS.c ****       if (*sms >= '0' && *sms <= '9') {
 451:interpretacjaSMS.c ****         // Jest liczba - sprobuj ja odczytac
 452:interpretacjaSMS.c ****         if (pobierz_long(&sms, &limit_value)) {
 453:interpretacjaSMS.c ****           // Walidacja zakresu
 454:interpretacjaSMS.c ****           if (limit_value < 1 ||
 455:interpretacjaSMS.c ****               limit_value > MAX_LICZBA_NUMEROW_TELEFONOW_BRAMA) {
 456:interpretacjaSMS.c ****             return INTERPRETACJA_SMS_BLEDNE_DANE;
 457:interpretacjaSMS.c ****           }
 458:interpretacjaSMS.c ****         } else {
 459:interpretacjaSMS.c ****           return INTERPRETACJA_SMS_BLEDNE_DANE;
 460:interpretacjaSMS.c ****         }
 461:interpretacjaSMS.c ****       }
 462:interpretacjaSMS.c **** 
 463:interpretacjaSMS.c ****       // Sprawdz czy jest miejsce na liscie
 464:interpretacjaSMS.c ****       uchar jest_miejsce = FALSE;
 465:interpretacjaSMS.c ****       for (uint i = 0; i < MAX_LICZBA_NUMEROW_TELEFONOW_BRAMA; ++i) {
 466:interpretacjaSMS.c ****         if (!czy_aktywny_numer_telefonu_brama(i)) {
 467:interpretacjaSMS.c ****           jest_miejsce = TRUE;
 468:interpretacjaSMS.c ****           break;
 469:interpretacjaSMS.c ****         }
 470:interpretacjaSMS.c ****       }
 471:interpretacjaSMS.c **** 
 472:interpretacjaSMS.c ****       if (!jest_miejsce) {
 473:interpretacjaSMS.c ****         // Brak miejsca - nie wlaczaj Skryby
 474:interpretacjaSMS.c ****         return INTERPRETACJA_SMS_BLEDNE_DANE;
 475:interpretacjaSMS.c ****       }
 476:interpretacjaSMS.c **** 
 477:interpretacjaSMS.c ****       // Zapisz obecny tryb przed włączeniem SKRYBA
 478:interpretacjaSMS.c ****       uchar obecny_tryb =
 479:interpretacjaSMS.c ****           eeprom_read_byte((const uint8_t *)ADRES_EEPROM_TRYB_PRACY);
 480:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(obecny_tryb, ADRES_EEPROM_SKRYBA_TRYB_BACKUP);
 481:interpretacjaSMS.c **** 
 482:interpretacjaSMS.c ****       // Zapisz limit do EEPROM (2 bajty)
 483:interpretacjaSMS.c ****       zapisz_znak_w_eeprom((uchar)(limit_value & 0xFF),
 484:interpretacjaSMS.c ****                            ADRES_EEPROM_SKRYBA_LIMIT_L);
 485:interpretacjaSMS.c ****       zapisz_znak_w_eeprom((uchar)((limit_value >> 8) & 0xFF),
 486:interpretacjaSMS.c ****                            ADRES_EEPROM_SKRYBA_LIMIT_H);
 487:interpretacjaSMS.c ****       skryba_limit = (uint)limit_value; // Aktualizuj RAM
 488:interpretacjaSMS.c **** 
 489:interpretacjaSMS.c ****       // Włącz SKRYBA
 490:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_SKRYBA);
 491:interpretacjaSMS.c ****       skryba_wlaczona = TRUE; // Aktualizuj RAM natychmiast
 492:interpretacjaSMS.c **** 
 493:interpretacjaSMS.c ****       // Automatycznie ustaw OPEN CLIP (tryb publiczny = 1)
 494:interpretacjaSMS.c ****       tryb_pracy = 1; // Aktualizuj RAM
 495:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 496:interpretacjaSMS.c **** 
 497:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 498:interpretacjaSMS.c ****     } else if (strncasecmp_P(sms, PSTR("OFF"), 3) == 0) {
 499:interpretacjaSMS.c ****       // Wyłącz SKRYBA
 500:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_SKRYBA);
 501:interpretacjaSMS.c ****       skryba_wlaczona = FALSE; // Aktualizuj RAM natychmiast
 502:interpretacjaSMS.c **** 
 503:interpretacjaSMS.c ****       // Przywróć poprzedni tryb
 504:interpretacjaSMS.c ****       uchar poprzedni_tryb =
 505:interpretacjaSMS.c ****           eeprom_read_byte((const uint8_t *)ADRES_EEPROM_SKRYBA_TRYB_BACKUP);
 506:interpretacjaSMS.c ****       if (poprzedni_tryb != 0xFF) {  // Jeśli był zapisany
 507:interpretacjaSMS.c ****         tryb_pracy = poprzedni_tryb; // Aktualizuj RAM
 508:interpretacjaSMS.c ****         zapisz_znak_w_eeprom(poprzedni_tryb, ADRES_EEPROM_TRYB_PRACY);
 509:interpretacjaSMS.c ****       }
 510:interpretacjaSMS.c **** 
 511:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 512:interpretacjaSMS.c ****     }
 513:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_BLEDNE_DANE;
 514:interpretacjaSMS.c ****   }
 515:interpretacjaSMS.c ****   case INSTRUKCJA_DEBUG: {
 516:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_DEBUG;
 517:interpretacjaSMS.c ****   }
 518:interpretacjaSMS.c ****   case INSTRUKCJA_START: {
 519:interpretacjaSMS.c ****     blokada_systemu = FALSE;
 520:interpretacjaSMS.c ****     zapisz_znak_w_eeprom(0, ADRES_EEPROM_BLOKADA_SYSTEMU);
 521:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 522:interpretacjaSMS.c ****   }
 523:interpretacjaSMS.c ****   case INSTRUKCJA_STOP: {
 524:interpretacjaSMS.c ****     blokada_systemu = TRUE;
 525:interpretacjaSMS.c ****     zapisz_znak_w_eeprom(1, ADRES_EEPROM_BLOKADA_SYSTEMU);
 526:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 527:interpretacjaSMS.c ****   }
 528:interpretacjaSMS.c ****   case INSTRUKCJA_SUB: {
 529:interpretacjaSMS.c ****     if (not pobierz_numer_telefonu(&sms, &numer_telefonu_do_ktorego_dzwonic[0],
 530:interpretacjaSMS.c ****                                    14))
 531:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 532:interpretacjaSMS.c ****     dodaj_komende(KOMENDA_KOLEJKI_DODAJ_SUPER_USERA);
 533:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 534:interpretacjaSMS.c ****   }
 535:interpretacjaSMS.c ****   case INSTRUKCJA_MYNUM: {
 536:interpretacjaSMS.c ****     // MYNUM 123456789 - zapisz własny numer telefonu
 537:interpretacjaSMS.c ****     uchar temp_numer[MAX_LICZBA_ZNAKOW_TELEFON + 1];
 538:interpretacjaSMS.c ****     if (not pobierz_numer_telefonu(&sms, temp_numer,
 539:interpretacjaSMS.c ****                                    MAX_LICZBA_ZNAKOW_TELEFON + 1))
 540:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1192               		.loc 1 540 0 is_stmt 1
 1193 04c4 82E0      		ldi r24,lo8(2)
 1194 04c6 00C0      		rjmp .L68
 1195               	.LVL103:
 1196               	.L91:
 1197 04c8 3150      		subi r19,lo8(-(-1))
 1198               	.LBE12:
 1199               	.LBB13:
 229:interpretacjaSMS.c ****       const uchar znak = bufor_eeprom[(sms - sms_pom) + i];
 1200               		.loc 1 229 0 discriminator 2
 1201 04ca 01F4      		brne .L92
 1202               	.LBE13:
 234:interpretacjaSMS.c ****            LICZBA_BAJTOW_KODU_DOSTEPU);
 1203               		.loc 1 234 0
 1204 04cc 8050      		subi r24,lo8(-(bufor_eeprom))
 1205 04ce 9040      		sbci r25,hi8(-(bufor_eeprom))
 1206 04d0 FC01      		movw r30,r24
 1207               	.LVL104:
 1208 04d2 4081      		ld r20,Z
 1209 04d4 5181      		ldd r21,Z+1
 1210 04d6 6281      		ldd r22,Z+2
 1211 04d8 7381      		ldd r23,Z+3
 1212 04da 4093 0000 		sts kod_modulu,r20
 1213 04de 5093 0000 		sts kod_modulu+1,r21
 1214 04e2 6093 0000 		sts kod_modulu+2,r22
 1215 04e6 7093 0000 		sts kod_modulu+3,r23
 236:interpretacjaSMS.c ****                           (uint)ADRES_EEPROM_KOD_DOSTEPU,
 1216               		.loc 1 236 0
 1217 04ea 44E0      		ldi r20,lo8(4)
 1218 04ec 61E0      		ldi r22,lo8(1)
 1219 04ee 70E0      		ldi r23,0
 1220 04f0 0E94 0000 		call zapisz_znaki_w_eeprom
 1221               	.LVL105:
 1222               	.L175:
 1223               	.LBB14:
 497:interpretacjaSMS.c ****     } else if (strncasecmp_P(sms, PSTR("OFF"), 3) == 0) {
 1224               		.loc 1 497 0
 1225 04f4 83E0      		ldi r24,lo8(3)
 1226 04f6 00C0      		rjmp .L68
 1227               	.LVL106:
 1228               	.L79:
 1229               	.LBE14:
 247:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_USER;
 1230               		.loc 1 247 0
 1231 04f8 4EE0      		ldi r20,lo8(14)
 1232 04fa 60E0      		ldi r22,lo8(numer_telefonu_do_ktorego_dzwonic)
 1233 04fc 70E0      		ldi r23,hi8(numer_telefonu_do_ktorego_dzwonic)
 1234 04fe CE01      		movw r24,r28
 1235 0500 4E96      		adiw r24,30
 1236 0502 0E94 0000 		call pobierz_numer_telefonu
 1237               	.LVL107:
 1238 0506 8111      		cpse r24,__zero_reg__
 1239 0508 00C0      		rjmp .L124
 252:interpretacjaSMS.c ****   }
 1240               		.loc 1 252 0
 1241 050a 86E0      		ldi r24,lo8(6)
 1242               	.LVL108:
 1243               	.L68:
 1244               	/* epilogue start */
 541:interpretacjaSMS.c **** 
 542:interpretacjaSMS.c ****     // Walidacja: numer musi mieć 3-9 cyfr
 543:interpretacjaSMS.c ****     uchar len = strlen((char *)temp_numer);
 544:interpretacjaSMS.c ****     if (len < 3 || len > 9)
 545:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 546:interpretacjaSMS.c **** 
 547:interpretacjaSMS.c ****     // Zapisz do EEPROM
 548:interpretacjaSMS.c ****     extern uchar moj_numer_telefonu[];
 549:interpretacjaSMS.c ****     zapisz_znaki_w_eeprom(temp_numer, ADRES_EEPROM_MOJE_NUMER_START, len + 1);
 550:interpretacjaSMS.c **** 
 551:interpretacjaSMS.c ****     // Aktualizuj RAM
 552:interpretacjaSMS.c ****     strcpy((char *)moj_numer_telefonu, (char *)temp_numer);
 553:interpretacjaSMS.c **** 
 554:interpretacjaSMS.c ****     // Wyślij potwierdzenie
 555:interpretacjaSMS.c ****     extern uchar numer_telefonu_wysylanego_smsa[];
 556:interpretacjaSMS.c ****     extern uchar numer_telefonu_odebranego_smsa[];
 557:interpretacjaSMS.c ****     strcpy((char *)numer_telefonu_wysylanego_smsa,
 558:interpretacjaSMS.c ****            (char *)numer_telefonu_odebranego_smsa);
 559:interpretacjaSMS.c **** 
 560:interpretacjaSMS.c ****     strcpy_P((char *)tekst_wysylanego_smsa, PSTR("Numer zapisany: "));
 561:interpretacjaSMS.c ****     strcat((char *)tekst_wysylanego_smsa, (char *)temp_numer);
 562:interpretacjaSMS.c **** 
 563:interpretacjaSMS.c ****     dodaj_komende(KOMENDA_KOLEJKI_WYSLIJ_SMSA_TEXT);
 564:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 565:interpretacjaSMS.c ****   }
 566:interpretacjaSMS.c ****   }
 567:interpretacjaSMS.c ****   return INTERPRETACJA_SMS_ZLY_FORMAT;
 568:interpretacjaSMS.c **** }
 1245               		.loc 1 568 0
 1246 050c 6F96      		adiw r28,31
 1247 050e 0FB6      		in __tmp_reg__,__SREG__
 1248 0510 F894      		cli
 1249 0512 DEBF      		out __SP_H__,r29
 1250 0514 0FBE      		out __SREG__,__tmp_reg__
 1251 0516 CDBF      		out __SP_L__,r28
 1252 0518 DF91      		pop r29
 1253 051a CF91      		pop r28
 1254 051c 1F91      		pop r17
 1255 051e 0F91      		pop r16
 1256 0520 FF90      		pop r15
 1257 0522 EF90      		pop r14
 1258 0524 0895      		ret
 1259               	.LVL109:
 1260               	.L76:
 255:interpretacjaSMS.c ****                                    14))
 1261               		.loc 1 255 0
 1262 0526 4EE0      		ldi r20,lo8(14)
 1263 0528 60E0      		ldi r22,lo8(numer_telefonu_do_ktorego_dzwonic)
 1264 052a 70E0      		ldi r23,hi8(numer_telefonu_do_ktorego_dzwonic)
 1265 052c CE01      		movw r24,r28
 1266 052e 4E96      		adiw r24,30
 1267 0530 0E94 0000 		call pobierz_numer_telefonu
 1268               	.LVL110:
 1269 0534 8823      		tst r24
 1270 0536 01F0      		breq .L129
 258:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1271               		.loc 1 258 0
 1272 0538 85E8      		ldi r24,lo8(-123)
 1273               	.LVL111:
 1274               	.L181:
 265:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1275               		.loc 1 265 0
 1276 053a 0E94 0000 		call dodaj_komende
 1277               	.LVL112:
 1278 053e 00C0      		rjmp .L175
 1279               	.LVL113:
 1280               	.L77:
 262:interpretacjaSMS.c ****                                    14))
 1281               		.loc 1 262 0
 1282 0540 4EE0      		ldi r20,lo8(14)
 1283 0542 60E0      		ldi r22,lo8(numer_telefonu_do_ktorego_dzwonic)
 1284 0544 70E0      		ldi r23,hi8(numer_telefonu_do_ktorego_dzwonic)
 1285 0546 CE01      		movw r24,r28
 1286 0548 4E96      		adiw r24,30
 1287 054a 0E94 0000 		call pobierz_numer_telefonu
 1288               	.LVL114:
 1289 054e 8823      		tst r24
 1290 0550 01F4      		brne .+2
 1291 0552 00C0      		rjmp .L129
 265:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1292               		.loc 1 265 0
 1293 0554 88E8      		ldi r24,lo8(-120)
 1294 0556 00C0      		rjmp .L181
 1295               	.L80:
 1296               	.LBB16:
 272:interpretacjaSMS.c ****         interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CLIP, INSTRUKCJA_DTMF + 1);
 1297               		.loc 1 272 0
 1298 0558 4AE0      		ldi r20,lo8(10)
 1299 055a 68E0      		ldi r22,lo8(8)
 1300 055c CE01      		movw r24,r28
 1301 055e 4E96      		adiw r24,30
 1302 0560 0E94 0000 		call interpretuj_instrukcje_sms
 1303               	.LVL115:
 274:interpretacjaSMS.c ****       tryb_pracy = 1; // Publiczny
 1304               		.loc 1 274 0
 1305 0564 8830      		cpi r24,lo8(8)
 1306 0566 01F4      		brne .L94
 275:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 1307               		.loc 1 275 0
 1308 0568 81E0      		ldi r24,lo8(1)
 1309               	.LVL116:
 1310 056a 8093 0000 		sts tryb_pracy,r24
 276:interpretacjaSMS.c **** 
 1311               		.loc 1 276 0
 1312 056e 6EEF      		ldi r22,lo8(-2)
 1313 0570 7FE0      		ldi r23,lo8(15)
 1314               	.L184:
 1315               	.LBE16:
 1316               	.LBB17:
 313:interpretacjaSMS.c **** 
 1317               		.loc 1 313 0
 1318 0572 0E94 0000 		call zapisz_znak_w_eeprom
 1319               	.LVL117:
 315:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_CLIP_DTMF);
 1320               		.loc 1 315 0
 1321 0576 8FEF      		ldi r24,lo8(-1)
 1322 0578 8093 0000 		sts tryb_clip,r24
 316:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 1323               		.loc 1 316 0
 1324 057c 6FEF      		ldi r22,lo8(-1)
 1325 057e 7FE0      		ldi r23,lo8(15)
 1326               	.L179:
 1327               	.LBE17:
 525:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1328               		.loc 1 525 0
 1329 0580 81E0      		ldi r24,lo8(1)
 1330 0582 00C0      		rjmp .L176
 1331               	.LVL118:
 1332               	.L94:
 1333               	.LBB18:
 281:interpretacjaSMS.c ****       tryb_pracy = 1; // Publiczny
 1334               		.loc 1 281 0
 1335 0584 8930      		cpi r24,lo8(9)
 1336 0586 01F0      		breq .+2
 1337 0588 00C0      		rjmp .L178
 282:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 1338               		.loc 1 282 0
 1339 058a 81E0      		ldi r24,lo8(1)
 1340               	.LVL119:
 1341 058c 8093 0000 		sts tryb_pracy,r24
 283:interpretacjaSMS.c **** 
 1342               		.loc 1 283 0
 1343 0590 6EEF      		ldi r22,lo8(-2)
 1344 0592 7FE0      		ldi r23,lo8(15)
 1345               	.L183:
 1346               	.LBE18:
 1347               	.LBB19:
 320:interpretacjaSMS.c **** 
 1348               		.loc 1 320 0
 1349 0594 0E94 0000 		call zapisz_znak_w_eeprom
 1350               	.LVL120:
 322:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_CLIP_DTMF);
 1351               		.loc 1 322 0
 1352 0598 1092 0000 		sts tryb_clip,__zero_reg__
 323:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 1353               		.loc 1 323 0
 1354 059c 6FEF      		ldi r22,lo8(-1)
 1355 059e 7FE0      		ldi r23,lo8(15)
 1356               	.L180:
 1357               	.LBE19:
 520:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1358               		.loc 1 520 0
 1359 05a0 80E0      		ldi r24,0
 1360               	.LVL121:
 1361               	.L176:
 1362               	.LBB20:
 495:interpretacjaSMS.c **** 
 1363               		.loc 1 495 0
 1364 05a2 0E94 0000 		call zapisz_znak_w_eeprom
 1365               	.LVL122:
 1366 05a6 00C0      		rjmp .L175
 1367               	.LVL123:
 1368               	.L81:
 1369               	.LBE20:
 1370               	.LBB21:
 309:interpretacjaSMS.c ****         interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CLIP, INSTRUKCJA_DTMF + 1);
 1371               		.loc 1 309 0
 1372 05a8 4AE0      		ldi r20,lo8(10)
 1373 05aa 68E0      		ldi r22,lo8(8)
 1374 05ac CE01      		movw r24,r28
 1375 05ae 4E96      		adiw r24,30
 1376 05b0 0E94 0000 		call interpretuj_instrukcje_sms
 1377               	.LVL124:
 312:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_PRACY);
 1378               		.loc 1 312 0
 1379 05b4 1092 0000 		sts tryb_pracy,__zero_reg__
 313:interpretacjaSMS.c **** 
 1380               		.loc 1 313 0
 1381 05b8 6EEF      		ldi r22,lo8(-2)
 1382 05ba 7FE0      		ldi r23,lo8(15)
 311:interpretacjaSMS.c ****       tryb_pracy = 0; // Prywatny
 1383               		.loc 1 311 0
 1384 05bc 8830      		cpi r24,lo8(8)
 1385 05be 01F4      		brne .L96
 313:interpretacjaSMS.c **** 
 1386               		.loc 1 313 0
 1387 05c0 80E0      		ldi r24,0
 1388               	.LVL125:
 1389 05c2 00C0      		rjmp .L184
 1390               	.LVL126:
 1391               	.L96:
 318:interpretacjaSMS.c ****       tryb_pracy = 0; // Prywatny
 1392               		.loc 1 318 0
 1393 05c4 8930      		cpi r24,lo8(9)
 1394 05c6 01F4      		brne .L97
 320:interpretacjaSMS.c **** 
 1395               		.loc 1 320 0
 1396 05c8 80E0      		ldi r24,0
 1397               	.LVL127:
 1398 05ca 00C0      		rjmp .L183
 1399               	.LVL128:
 1400               	.L97:
 328:interpretacjaSMS.c **** 
 1401               		.loc 1 328 0
 1402 05cc 80E0      		ldi r24,0
 1403               	.LVL129:
 1404 05ce 0E94 0000 		call zapisz_znak_w_eeprom
 1405               	.LVL130:
 331:interpretacjaSMS.c ****         zapisz_znak_w_eeprom(0, ADRES_EEPROM_SKRYBA);
 1406               		.loc 1 331 0
 1407 05d2 8091 0000 		lds r24,skryba_wlaczona
 1408 05d6 8823      		tst r24
 1409 05d8 01F4      		brne .+2
 1410 05da 00C0      		rjmp .L175
 332:interpretacjaSMS.c ****         skryba_wlaczona = FALSE;
 1411               		.loc 1 332 0
 1412 05dc 69EF      		ldi r22,lo8(-7)
 1413 05de 7FE0      		ldi r23,lo8(15)
 1414 05e0 80E0      		ldi r24,0
 1415 05e2 0E94 0000 		call zapisz_znak_w_eeprom
 1416               	.LVL131:
 333:interpretacjaSMS.c ****       }
 1417               		.loc 1 333 0
 1418 05e6 1092 0000 		sts skryba_wlaczona,__zero_reg__
 1419 05ea 00C0      		rjmp .L175
 1420               	.L82:
 1421               	.LBE21:
 1422               	.LBB22:
 342:interpretacjaSMS.c ****                          pobierz_long(&sms, &m) && pomin_znak(&sms, ':') &&
 1423               		.loc 1 342 0
 1424 05ec BE01      		movw r22,r28
 1425 05ee 6A5E      		subi r22,-22
 1426 05f0 7F4F      		sbci r23,-1
 1427 05f2 CE01      		movw r24,r28
 1428 05f4 4E96      		adiw r24,30
 1429 05f6 0E94 0000 		call pobierz_long
 1430               	.LVL132:
 343:interpretacjaSMS.c ****                          pobierz_long(&sms, &s);
 1431               		.loc 1 343 0
 1432 05fa 8823      		tst r24
 1433 05fc 01F0      		breq .L156
 342:interpretacjaSMS.c ****                          pobierz_long(&sms, &m) && pomin_znak(&sms, ':') &&
 1434               		.loc 1 342 0
 1435 05fe 6AE3      		ldi r22,lo8(58)
 1436 0600 CE01      		movw r24,r28
 1437 0602 4E96      		adiw r24,30
 1438 0604 0E94 0000 		call pomin_znak
 1439               	.LVL133:
 1440 0608 8823      		tst r24
 1441 060a 01F0      		breq .L156
 343:interpretacjaSMS.c ****                          pobierz_long(&sms, &s);
 1442               		.loc 1 343 0 discriminator 1
 1443 060c BE01      		movw r22,r28
 1444 060e 6E5E      		subi r22,-18
 1445 0610 7F4F      		sbci r23,-1
 1446 0612 CE01      		movw r24,r28
 1447 0614 4E96      		adiw r24,30
 1448 0616 0E94 0000 		call pobierz_long
 1449               	.LVL134:
 342:interpretacjaSMS.c ****                          pobierz_long(&sms, &m) && pomin_znak(&sms, ':') &&
 1450               		.loc 1 342 0 discriminator 1
 1451 061a 8823      		tst r24
 1452 061c 01F0      		breq .L156
 343:interpretacjaSMS.c ****                          pobierz_long(&sms, &s);
 1453               		.loc 1 343 0 discriminator 3
 1454 061e 6AE3      		ldi r22,lo8(58)
 1455 0620 CE01      		movw r24,r28
 1456 0622 4E96      		adiw r24,30
 1457 0624 0E94 0000 		call pomin_znak
 1458               	.LVL135:
 1459 0628 8823      		tst r24
 1460 062a 01F0      		breq .L156
 344:interpretacjaSMS.c **** 
 1461               		.loc 1 344 0 discriminator 2
 1462 062c BE01      		movw r22,r28
 1463 062e 6F5F      		subi r22,-1
 1464 0630 7F4F      		sbci r23,-1
 1465 0632 CE01      		movw r24,r28
 1466 0634 4E96      		adiw r24,30
 1467 0636 0E94 0000 		call pobierz_long
 1468               	.LVL136:
 343:interpretacjaSMS.c ****                          pobierz_long(&sms, &s);
 1469               		.loc 1 343 0 discriminator 2
 1470 063a 21E0      		ldi r18,lo8(1)
 1471 063c 30E0      		ldi r19,0
 1472 063e 8111      		cpse r24,__zero_reg__
 1473 0640 00C0      		rjmp .L102
 1474 0642 30E0      		ldi r19,0
 1475 0644 20E0      		ldi r18,0
 1476               	.L102:
 1477               	.LVL137:
 346:interpretacjaSMS.c ****       // ABCD SET bez parametrów - zwróć aktualny czas (bez sync z SMS)
 1478               		.loc 1 346 0 discriminator 2
 1479 0646 232B      		or r18,r19
 1480 0648 01F4      		brne .L103
 1481               	.LVL138:
 1482               	.L156:
 1483               	.LBB23:
 350:interpretacjaSMS.c **** 
 1484               		.loc 1 350 0
 1485 064a 8FEF      		ldi r24,lo8(-1)
 1486 064c 8093 0000 		sts sms_pomijaj_aktualizacje_czasu,r24
 1487               	.LVL139:
 355:interpretacjaSMS.c ****       sms_out += strlen((char *)sms_out);
 1488               		.loc 1 355 0
 1489 0650 60E0      		ldi r22,lo8(__c.2779)
 1490 0652 70E0      		ldi r23,hi8(__c.2779)
 1491 0654 80E0      		ldi r24,lo8(tekst_wysylanego_smsa)
 1492 0656 90E0      		ldi r25,hi8(tekst_wysylanego_smsa)
 1493 0658 0E94 0000 		call strcpy_P
 1494               	.LVL140:
 356:interpretacjaSMS.c ****       strcpy((char *)sms_out, rtc_czas);
 1495               		.loc 1 356 0
 1496 065c 80E0      		ldi r24,lo8(tekst_wysylanego_smsa)
 1497 065e 90E0      		ldi r25,hi8(tekst_wysylanego_smsa)
 1498 0660 FC01      		movw r30,r24
 1499               		0:
 1500 0662 0190      		ld __tmp_reg__,Z+
 1501 0664 0020      		tst __tmp_reg__
 1502 0666 01F4      		brne 0b
 1503 0668 CF01      		movw r24,r30
 1504               	.LVL141:
 357:interpretacjaSMS.c **** 
 1505               		.loc 1 357 0
 1506 066a 60E0      		ldi r22,lo8(rtc_czas)
 1507 066c 70E0      		ldi r23,hi8(rtc_czas)
 1508 066e 0197      		sbiw r24,1
 1509               	.LVL142:
 1510 0670 0E94 0000 		call strcpy
 1511               	.LVL143:
 362:interpretacjaSMS.c ****              (char *)numer_telefonu_odebranego_smsa);
 1512               		.loc 1 362 0
 1513 0674 60E0      		ldi r22,lo8(numer_telefonu_odebranego_smsa)
 1514 0676 70E0      		ldi r23,hi8(numer_telefonu_odebranego_smsa)
 1515 0678 80E0      		ldi r24,lo8(numer_telefonu_wysylanego_smsa)
 1516 067a 90E0      		ldi r25,hi8(numer_telefonu_wysylanego_smsa)
 1517 067c 0E94 0000 		call strcpy
 1518               	.LVL144:
 1519               	.L182:
 1520               	.LBE23:
 1521               	.LBE22:
 1522               	.LBB24:
 563:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1523               		.loc 1 563 0
 1524 0680 83ED      		ldi r24,lo8(-45)
 1525 0682 00C0      		rjmp .L181
 1526               	.LVL145:
 1527               	.L103:
 1528               	.LBE24:
 1529               	.LBB25:
 372:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1530               		.loc 1 372 0
 1531 0684 8E89      		ldd r24,Y+22
 1532 0686 9F89      		ldd r25,Y+23
 1533 0688 A88D      		ldd r26,Y+24
 1534 068a B98D      		ldd r27,Y+25
 1535 068c 8831      		cpi r24,24
 1536 068e 9105      		cpc r25,__zero_reg__
 1537 0690 A105      		cpc r26,__zero_reg__
 1538 0692 B105      		cpc r27,__zero_reg__
 1539 0694 00F0      		brlo .+2
 1540 0696 00C0      		rjmp .L129
 372:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1541               		.loc 1 372 0 is_stmt 0 discriminator 1
 1542 0698 4A89      		ldd r20,Y+18
 1543 069a 5B89      		ldd r21,Y+19
 1544 069c 6C89      		ldd r22,Y+20
 1545 069e 7D89      		ldd r23,Y+21
 1546 06a0 4C33      		cpi r20,60
 1547 06a2 5105      		cpc r21,__zero_reg__
 1548 06a4 6105      		cpc r22,__zero_reg__
 1549 06a6 7105      		cpc r23,__zero_reg__
 1550 06a8 00F0      		brlo .+2
 1551 06aa 00C0      		rjmp .L129
 372:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1552               		.loc 1 372 0 discriminator 3
 1553 06ac 0981      		ldd r16,Y+1
 1554 06ae 1A81      		ldd r17,Y+2
 1555 06b0 2B81      		ldd r18,Y+3
 1556 06b2 3C81      		ldd r19,Y+4
 1557               	.LVL146:
 1558 06b4 0C33      		cpi r16,60
 1559 06b6 1105      		cpc r17,__zero_reg__
 1560 06b8 2105      		cpc r18,__zero_reg__
 1561 06ba 3105      		cpc r19,__zero_reg__
 1562 06bc 00F0      		brlo .+2
 1563 06be 00C0      		rjmp .L129
 377:interpretacjaSMS.c ****             (int)m, (int)s);
 1564               		.loc 1 377 0 is_stmt 1
 1565 06c0 1F93      		push r17
 1566 06c2 0F93      		push r16
 1567 06c4 5F93      		push r21
 1568 06c6 4F93      		push r20
 1569 06c8 9F93      		push r25
 1570 06ca 8F93      		push r24
 1571 06cc 80E0      		ldi r24,lo8(.LC0)
 1572 06ce 90E0      		ldi r25,hi8(.LC0)
 1573 06d0 9F93      		push r25
 1574 06d2 8F93      		push r24
 1575 06d4 80E0      		ldi r24,lo8(bufor_ustaw_czas)
 1576 06d6 90E0      		ldi r25,hi8(bufor_ustaw_czas)
 1577 06d8 9F93      		push r25
 1578 06da 8F93      		push r24
 1579 06dc 0E94 0000 		call sprintf
 1580               	.LVL147:
 379:interpretacjaSMS.c **** 
 1581               		.loc 1 379 0
 1582 06e0 8EEF      		ldi r24,lo8(-2)
 1583 06e2 0E94 0000 		call dodaj_komende
 1584               	.LVL148:
 383:interpretacjaSMS.c **** 
 1585               		.loc 1 383 0
 1586 06e6 8FEF      		ldi r24,lo8(-1)
 1587 06e8 8093 0000 		sts sms_pomijaj_aktualizacje_czasu,r24
 385:interpretacjaSMS.c ****   }
 1588               		.loc 1 385 0
 1589 06ec 0FB6      		in __tmp_reg__,__SREG__
 1590 06ee F894      		cli
 1591 06f0 DEBF      		out __SP_H__,r29
 1592 06f2 0FBE      		out __SREG__,__tmp_reg__
 1593 06f4 CDBF      		out __SP_L__,r28
 1594 06f6 00C0      		rjmp .L175
 1595               	.LVL149:
 1596               	.L105:
 1597               	.LBE25:
 1598               	.LBB26:
 389:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("OFF"), 3) == 0) {
 1599               		.loc 1 389 0 discriminator 2
 1600 06f8 0F5F      		subi r16,-1
 1601 06fa 1F4F      		sbci r17,-1
 1602 06fc 1F8F      		std Y+31,r17
 1603 06fe 0E8F      		std Y+30,r16
 1604               	.L83:
 389:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("OFF"), 3) == 0) {
 1605               		.loc 1 389 0 is_stmt 0 discriminator 1
 1606 0700 0E8D      		ldd r16,Y+30
 1607 0702 1F8D      		ldd r17,Y+31
 1608 0704 F801      		movw r30,r16
 1609 0706 8081      		ld r24,Z
 1610 0708 90E0      		ldi r25,0
 1611 070a 0E94 0000 		call isspace
 1612               	.LVL150:
 1613 070e 892B      		or r24,r25
 1614 0710 01F4      		brne .L105
 390:interpretacjaSMS.c ****       // Zapisz wartosci wylaczajace (np. 0xFF)
 1615               		.loc 1 390 0 is_stmt 1
 1616 0712 43E0      		ldi r20,lo8(3)
 1617 0714 50E0      		ldi r21,0
 1618 0716 60E0      		ldi r22,lo8(__c.2793)
 1619 0718 70E0      		ldi r23,hi8(__c.2793)
 1620 071a C801      		movw r24,r16
 1621 071c 0E94 0000 		call strncasecmp_P
 1622               	.LVL151:
 1623 0720 892B      		or r24,r25
 1624 0722 01F4      		brne .L106
 392:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_START_M);
 1625               		.loc 1 392 0
 1626 0724 6AEF      		ldi r22,lo8(-6)
 1627 0726 7FE0      		ldi r23,lo8(15)
 1628 0728 8FEF      		ldi r24,lo8(-1)
 1629 072a 0E94 0000 		call zapisz_znak_w_eeprom
 1630               	.LVL152:
 393:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_STOP_H);
 1631               		.loc 1 393 0
 1632 072e 6BEF      		ldi r22,lo8(-5)
 1633 0730 7FE0      		ldi r23,lo8(15)
 1634 0732 8FEF      		ldi r24,lo8(-1)
 1635 0734 0E94 0000 		call zapisz_znak_w_eeprom
 1636               	.LVL153:
 394:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_STOP_M);
 1637               		.loc 1 394 0
 1638 0738 6CEF      		ldi r22,lo8(-4)
 1639 073a 7FE0      		ldi r23,lo8(15)
 1640 073c 8FEF      		ldi r24,lo8(-1)
 1641 073e 0E94 0000 		call zapisz_znak_w_eeprom
 1642               	.LVL154:
 395:interpretacjaSMS.c **** 
 1643               		.loc 1 395 0
 1644 0742 6DEF      		ldi r22,lo8(-3)
 1645 0744 7FE0      		ldi r23,lo8(15)
 1646 0746 8FEF      		ldi r24,lo8(-1)
 1647 0748 0E94 0000 		call zapisz_znak_w_eeprom
 1648               	.LVL155:
 398:interpretacjaSMS.c ****       czas_start_m = 0xFF;
 1649               		.loc 1 398 0
 1650 074c 8FEF      		ldi r24,lo8(-1)
 1651 074e 8093 0000 		sts czas_start_h,r24
 399:interpretacjaSMS.c ****       czas_stop_h = 0xFF;
 1652               		.loc 1 399 0
 1653 0752 8093 0000 		sts czas_start_m,r24
 400:interpretacjaSMS.c ****       czas_stop_m = 0xFF;
 1654               		.loc 1 400 0
 1655 0756 8093 0000 		sts czas_stop_h,r24
 401:interpretacjaSMS.c ****       blokada_sterowania_czasowa = FALSE;
 1656               		.loc 1 401 0
 1657 075a 8093 0000 		sts czas_stop_m,r24
 402:interpretacjaSMS.c **** 
 1658               		.loc 1 402 0
 1659 075e 1092 0000 		sts blokada_sterowania_czasowa,__zero_reg__
 1660 0762 00C0      		rjmp .L175
 1661               	.L106:
 409:interpretacjaSMS.c ****         !pobierz_long(&sms, &sm))
 1662               		.loc 1 409 0
 1663 0764 BE01      		movw r22,r28
 1664 0766 665E      		subi r22,-26
 1665 0768 7F4F      		sbci r23,-1
 1666 076a CE01      		movw r24,r28
 1667 076c 4E96      		adiw r24,30
 1668 076e 0E94 0000 		call pobierz_long
 1669               	.LVL156:
 1670 0772 8823      		tst r24
 1671 0774 01F4      		brne .+2
 1672 0776 00C0      		rjmp .L129
 409:interpretacjaSMS.c ****         !pobierz_long(&sms, &sm))
 1673               		.loc 1 409 0 is_stmt 0 discriminator 1
 1674 0778 6AE3      		ldi r22,lo8(58)
 1675 077a CE01      		movw r24,r28
 1676 077c 4E96      		adiw r24,30
 1677 077e 0E94 0000 		call pomin_znak
 1678               	.LVL157:
 1679 0782 8823      		tst r24
 1680 0784 01F4      		brne .+2
 1681 0786 00C0      		rjmp .L129
 410:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1682               		.loc 1 410 0 is_stmt 1 discriminator 2
 1683 0788 BE01      		movw r22,r28
 1684 078a 6A5E      		subi r22,-22
 1685 078c 7F4F      		sbci r23,-1
 1686 078e CE01      		movw r24,r28
 1687 0790 4E96      		adiw r24,30
 1688 0792 0E94 0000 		call pobierz_long
 1689               	.LVL158:
 409:interpretacjaSMS.c ****         !pobierz_long(&sms, &sm))
 1690               		.loc 1 409 0 discriminator 2
 1691 0796 8823      		tst r24
 1692 0798 01F4      		brne .+2
 1693 079a 00C0      		rjmp .L129
 416:interpretacjaSMS.c ****     }
 1694               		.loc 1 416 0
 1695 079c 63E2      		ldi r22,lo8(35)
 1696 079e CE01      		movw r24,r28
 1697 07a0 4E96      		adiw r24,30
 1698 07a2 0E94 0000 		call czy_jest_znak
 1699               	.LVL159:
 420:interpretacjaSMS.c ****         !pobierz_long(&sms, &em))
 1700               		.loc 1 420 0
 1701 07a6 BE01      		movw r22,r28
 1702 07a8 6E5E      		subi r22,-18
 1703 07aa 7F4F      		sbci r23,-1
 1704 07ac CE01      		movw r24,r28
 1705 07ae 4E96      		adiw r24,30
 1706 07b0 0E94 0000 		call pobierz_long
 1707               	.LVL160:
 1708 07b4 8823      		tst r24
 1709 07b6 01F4      		brne .+2
 1710 07b8 00C0      		rjmp .L129
 420:interpretacjaSMS.c ****         !pobierz_long(&sms, &em))
 1711               		.loc 1 420 0 is_stmt 0 discriminator 1
 1712 07ba 6AE3      		ldi r22,lo8(58)
 1713 07bc CE01      		movw r24,r28
 1714 07be 4E96      		adiw r24,30
 1715 07c0 0E94 0000 		call pomin_znak
 1716               	.LVL161:
 1717 07c4 8823      		tst r24
 1718 07c6 01F4      		brne .+2
 1719 07c8 00C0      		rjmp .L129
 421:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1720               		.loc 1 421 0 is_stmt 1 discriminator 2
 1721 07ca BE01      		movw r22,r28
 1722 07cc 6F5F      		subi r22,-1
 1723 07ce 7F4F      		sbci r23,-1
 1724 07d0 CE01      		movw r24,r28
 1725 07d2 4E96      		adiw r24,30
 1726 07d4 0E94 0000 		call pobierz_long
 1727               	.LVL162:
 420:interpretacjaSMS.c ****         !pobierz_long(&sms, &em))
 1728               		.loc 1 420 0 discriminator 2
 1729 07d8 8823      		tst r24
 1730 07da 01F4      		brne .+2
 1731 07dc 00C0      		rjmp .L129
 424:interpretacjaSMS.c ****         em > 59)
 1732               		.loc 1 424 0
 1733 07de 8A8D      		ldd r24,Y+26
 1734 07e0 9B8D      		ldd r25,Y+27
 1735 07e2 AC8D      		ldd r26,Y+28
 1736 07e4 BD8D      		ldd r27,Y+29
 1737 07e6 8831      		cpi r24,24
 1738 07e8 9105      		cpc r25,__zero_reg__
 1739 07ea A105      		cpc r26,__zero_reg__
 1740 07ec B105      		cpc r27,__zero_reg__
 1741 07ee 00F0      		brlo .+2
 1742 07f0 00C0      		rjmp .L129
 424:interpretacjaSMS.c ****         em > 59)
 1743               		.loc 1 424 0 is_stmt 0 discriminator 1
 1744 07f2 4E89      		ldd r20,Y+22
 1745 07f4 5F89      		ldd r21,Y+23
 1746 07f6 688D      		ldd r22,Y+24
 1747 07f8 798D      		ldd r23,Y+25
 1748 07fa 4C33      		cpi r20,60
 1749 07fc 5105      		cpc r21,__zero_reg__
 1750 07fe 6105      		cpc r22,__zero_reg__
 1751 0800 7105      		cpc r23,__zero_reg__
 1752 0802 00F0      		brlo .+2
 1753 0804 00C0      		rjmp .L129
 424:interpretacjaSMS.c ****         em > 59)
 1754               		.loc 1 424 0 discriminator 3
 1755 0806 4A89      		ldd r20,Y+18
 1756 0808 5B89      		ldd r21,Y+19
 1757 080a 6C89      		ldd r22,Y+20
 1758 080c 7D89      		ldd r23,Y+21
 1759 080e 4831      		cpi r20,24
 1760 0810 5105      		cpc r21,__zero_reg__
 1761 0812 6105      		cpc r22,__zero_reg__
 1762 0814 7105      		cpc r23,__zero_reg__
 1763 0816 00F0      		brlo .+2
 1764 0818 00C0      		rjmp .L129
 424:interpretacjaSMS.c ****         em > 59)
 1765               		.loc 1 424 0 discriminator 5
 1766 081a 4981      		ldd r20,Y+1
 1767 081c 5A81      		ldd r21,Y+2
 1768 081e 6B81      		ldd r22,Y+3
 1769 0820 7C81      		ldd r23,Y+4
 1770 0822 4C33      		cpi r20,60
 1771 0824 5105      		cpc r21,__zero_reg__
 1772 0826 6105      		cpc r22,__zero_reg__
 1773 0828 7105      		cpc r23,__zero_reg__
 1774 082a 00F0      		brlo .+2
 1775 082c 00C0      		rjmp .L129
 429:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)sm, ADRES_EEPROM_CZAS_START_M);
 1776               		.loc 1 429 0 is_stmt 1
 1777 082e 6AEF      		ldi r22,lo8(-6)
 1778 0830 7FE0      		ldi r23,lo8(15)
 1779 0832 0E94 0000 		call zapisz_znak_w_eeprom
 1780               	.LVL163:
 430:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)eh, ADRES_EEPROM_CZAS_STOP_H);
 1781               		.loc 1 430 0
 1782 0836 6BEF      		ldi r22,lo8(-5)
 1783 0838 7FE0      		ldi r23,lo8(15)
 1784 083a 8E89      		ldd r24,Y+22
 1785 083c 0E94 0000 		call zapisz_znak_w_eeprom
 1786               	.LVL164:
 431:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)em, ADRES_EEPROM_CZAS_STOP_M);
 1787               		.loc 1 431 0
 1788 0840 6CEF      		ldi r22,lo8(-4)
 1789 0842 7FE0      		ldi r23,lo8(15)
 1790 0844 8A89      		ldd r24,Y+18
 1791 0846 0E94 0000 		call zapisz_znak_w_eeprom
 1792               	.LVL165:
 432:interpretacjaSMS.c **** 
 1793               		.loc 1 432 0
 1794 084a 6DEF      		ldi r22,lo8(-3)
 1795 084c 7FE0      		ldi r23,lo8(15)
 1796 084e 8981      		ldd r24,Y+1
 1797 0850 0E94 0000 		call zapisz_znak_w_eeprom
 1798               	.LVL166:
 435:interpretacjaSMS.c ****     czas_start_m = (uchar)sm;
 1799               		.loc 1 435 0
 1800 0854 8A8D      		ldd r24,Y+26
 1801 0856 8093 0000 		sts czas_start_h,r24
 436:interpretacjaSMS.c ****     czas_stop_h = (uchar)eh;
 1802               		.loc 1 436 0
 1803 085a 8E89      		ldd r24,Y+22
 1804 085c 8093 0000 		sts czas_start_m,r24
 437:interpretacjaSMS.c ****     czas_stop_m = (uchar)em;
 1805               		.loc 1 437 0
 1806 0860 8A89      		ldd r24,Y+18
 1807 0862 8093 0000 		sts czas_stop_h,r24
 438:interpretacjaSMS.c **** 
 1808               		.loc 1 438 0
 1809 0866 8981      		ldd r24,Y+1
 1810 0868 8093 0000 		sts czas_stop_m,r24
 1811 086c 00C0      		rjmp .L175
 1812               	.L110:
 1813               	.LBE26:
 443:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("ON"), 2) == 0) {
 1814               		.loc 1 443 0 discriminator 2
 1815 086e 0F5F      		subi r16,-1
 1816 0870 1F4F      		sbci r17,-1
 1817 0872 1F8F      		std Y+31,r17
 1818 0874 0E8F      		std Y+30,r16
 1819               	.L84:
 443:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("ON"), 2) == 0) {
 1820               		.loc 1 443 0 is_stmt 0 discriminator 1
 1821 0876 0E8D      		ldd r16,Y+30
 1822 0878 1F8D      		ldd r17,Y+31
 1823 087a F801      		movw r30,r16
 1824 087c 8081      		ld r24,Z
 1825 087e 90E0      		ldi r25,0
 1826 0880 0E94 0000 		call isspace
 1827               	.LVL167:
 1828 0884 892B      		or r24,r25
 1829 0886 01F4      		brne .L110
 444:interpretacjaSMS.c ****       sms += 2; // Przeskocz "ON"
 1830               		.loc 1 444 0 is_stmt 1
 1831 0888 42E0      		ldi r20,lo8(2)
 1832 088a 50E0      		ldi r21,0
 1833 088c 60E0      		ldi r22,lo8(__c.2803)
 1834 088e 70E0      		ldi r23,hi8(__c.2803)
 1835 0890 C801      		movw r24,r16
 1836 0892 0E94 0000 		call strncasecmp_P
 1837               	.LVL168:
 1838 0896 892B      		or r24,r25
 1839 0898 01F0      		breq .+2
 1840 089a 00C0      		rjmp .L111
 1841               	.LBB27:
 445:interpretacjaSMS.c **** 
 1842               		.loc 1 445 0
 1843 089c 0E5F      		subi r16,-2
 1844 089e 1F4F      		sbci r17,-1
 1845 08a0 1F8F      		std Y+31,r17
 1846 08a2 0E8F      		std Y+30,r16
 448:interpretacjaSMS.c ****       przeskocz_biale_znaki(sms);
 1847               		.loc 1 448 0
 1848 08a4 80E2      		ldi r24,lo8(32)
 1849 08a6 93E0      		ldi r25,lo8(3)
 1850 08a8 A0E0      		ldi r26,0
 1851 08aa B0E0      		ldi r27,0
 1852 08ac 8983      		std Y+1,r24
 1853 08ae 9A83      		std Y+2,r25
 1854 08b0 AB83      		std Y+3,r26
 1855 08b2 BC83      		std Y+4,r27
 1856               	.LVL169:
 1857               	.L112:
 449:interpretacjaSMS.c ****       if (*sms >= '0' && *sms <= '9') {
 1858               		.loc 1 449 0 discriminator 1
 1859 08b4 EE8C      		ldd r14,Y+30
 1860 08b6 FF8C      		ldd r15,Y+31
 1861 08b8 F701      		movw r30,r14
 1862 08ba 1081      		ld r17,Z
 1863 08bc 812F      		mov r24,r17
 1864 08be 90E0      		ldi r25,0
 1865 08c0 0E94 0000 		call isspace
 1866               	.LVL170:
 1867 08c4 892B      		or r24,r25
 1868 08c6 01F4      		brne .L113
 450:interpretacjaSMS.c ****         // Jest liczba - sprobuj ja odczytac
 1869               		.loc 1 450 0
 1870 08c8 1053      		subi r17,lo8(-(-48))
 1871 08ca 1A30      		cpi r17,lo8(10)
 1872 08cc 00F0      		brlo .L114
 1873               	.L117:
 1874               	.LBE27:
 1875               	.LBB28:
 440:interpretacjaSMS.c ****   }
 1876               		.loc 1 440 0
 1877 08ce 08E0      		ldi r16,lo8(8)
 1878 08d0 10E0      		ldi r17,0
 1879               	.L115:
 1880               	.LBE28:
 1881               	.LBB29:
 1882               	.LBB15:
 466:interpretacjaSMS.c ****           jest_miejsce = TRUE;
 1883               		.loc 1 466 0
 1884 08d2 C801      		movw r24,r16
 1885 08d4 0E94 0000 		call eeprom_read_byte
 1886               	.LVL171:
 1887 08d8 F82E      		mov r15,r24
 1888 08da 2FEF      		ldi r18,lo8(-1)
 1889 08dc 8217      		cp r24,r18
 1890 08de 01F4      		brne .+2
 1891 08e0 00C0      		rjmp .L118
 1892               	.LVL172:
 1893 08e2 0B5F      		subi r16,-5
 1894 08e4 1F4F      		sbci r17,-1
 465:interpretacjaSMS.c ****         if (!czy_aktywny_numer_telefonu_brama(i)) {
 1895               		.loc 1 465 0 discriminator 2
 1896 08e6 083A      		cpi r16,-88
 1897 08e8 8FE0      		ldi r24,15
 1898 08ea 1807      		cpc r17,r24
 1899 08ec 01F4      		brne .L115
 1900 08ee 00C0      		rjmp .L129
 1901               	.L113:
 1902               	.LBE15:
 449:interpretacjaSMS.c ****       if (*sms >= '0' && *sms <= '9') {
 1903               		.loc 1 449 0 discriminator 2
 1904 08f0 FFEF      		ldi r31,-1
 1905 08f2 EF1A      		sub r14,r31
 1906 08f4 FF0A      		sbc r15,r31
 1907 08f6 FF8E      		std Y+31,r15
 1908 08f8 EE8E      		std Y+30,r14
 1909 08fa 00C0      		rjmp .L112
 1910               	.L114:
 452:interpretacjaSMS.c ****           // Walidacja zakresu
 1911               		.loc 1 452 0
 1912 08fc BE01      		movw r22,r28
 1913 08fe 6F5F      		subi r22,-1
 1914 0900 7F4F      		sbci r23,-1
 1915 0902 CE01      		movw r24,r28
 1916 0904 4E96      		adiw r24,30
 1917 0906 0E94 0000 		call pobierz_long
 1918               	.LVL173:
 1919 090a 8823      		tst r24
 1920 090c 01F4      		brne .+2
 1921 090e 00C0      		rjmp .L129
 454:interpretacjaSMS.c ****               limit_value > MAX_LICZBA_NUMEROW_TELEFONOW_BRAMA) {
 1922               		.loc 1 454 0
 1923 0910 8981      		ldd r24,Y+1
 1924 0912 9A81      		ldd r25,Y+2
 1925 0914 AB81      		ldd r26,Y+3
 1926 0916 BC81      		ldd r27,Y+4
 1927 0918 0197      		sbiw r24,1
 1928 091a A109      		sbc r26,__zero_reg__
 1929 091c B109      		sbc r27,__zero_reg__
 1930 091e 8032      		cpi r24,32
 1931 0920 9340      		sbci r25,3
 1932 0922 A105      		cpc r26,__zero_reg__
 1933 0924 B105      		cpc r27,__zero_reg__
 1934 0926 00F0      		brlo .L117
 1935 0928 00C0      		rjmp .L129
 1936               	.LVL174:
 1937               	.L111:
 1938               	.LBE29:
 498:interpretacjaSMS.c ****       // Wyłącz SKRYBA
 1939               		.loc 1 498 0
 1940 092a 43E0      		ldi r20,lo8(3)
 1941 092c 50E0      		ldi r21,0
 1942 092e 60E0      		ldi r22,lo8(__c.2815)
 1943 0930 70E0      		ldi r23,hi8(__c.2815)
 1944 0932 C801      		movw r24,r16
 1945 0934 0E94 0000 		call strncasecmp_P
 1946               	.LVL175:
 1947 0938 892B      		or r24,r25
 1948 093a 01F0      		breq .+2
 1949 093c 00C0      		rjmp .L129
 1950               	.LBB30:
 500:interpretacjaSMS.c ****       skryba_wlaczona = FALSE; // Aktualizuj RAM natychmiast
 1951               		.loc 1 500 0
 1952 093e 69EF      		ldi r22,lo8(-7)
 1953 0940 7FE0      		ldi r23,lo8(15)
 1954 0942 80E0      		ldi r24,0
 1955 0944 0E94 0000 		call zapisz_znak_w_eeprom
 1956               	.LVL176:
 501:interpretacjaSMS.c **** 
 1957               		.loc 1 501 0
 1958 0948 1092 0000 		sts skryba_wlaczona,__zero_reg__
 504:interpretacjaSMS.c ****           eeprom_read_byte((const uint8_t *)ADRES_EEPROM_SKRYBA_TRYB_BACKUP);
 1959               		.loc 1 504 0
 1960 094c 88EF      		ldi r24,lo8(-8)
 1961 094e 9FE0      		ldi r25,lo8(15)
 1962 0950 0E94 0000 		call eeprom_read_byte
 1963               	.LVL177:
 506:interpretacjaSMS.c ****         tryb_pracy = poprzedni_tryb; // Aktualizuj RAM
 1964               		.loc 1 506 0
 1965 0954 8F3F      		cpi r24,lo8(-1)
 1966 0956 01F4      		brne .+2
 1967 0958 00C0      		rjmp .L175
 1968               	.LVL178:
 1969               	.L177:
 1970               	.LBE30:
 1971               	.LBB31:
 494:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 1972               		.loc 1 494 0
 1973 095a 8093 0000 		sts tryb_pracy,r24
 495:interpretacjaSMS.c **** 
 1974               		.loc 1 495 0
 1975 095e 6EEF      		ldi r22,lo8(-2)
 1976 0960 7FE0      		ldi r23,lo8(15)
 1977 0962 00C0      		rjmp .L176
 1978               	.LVL179:
 1979               	.L85:
 1980               	.LBE31:
 516:interpretacjaSMS.c ****   }
 1981               		.loc 1 516 0
 1982 0964 88E0      		ldi r24,lo8(8)
 1983 0966 00C0      		rjmp .L68
 1984               	.L86:
 519:interpretacjaSMS.c ****     zapisz_znak_w_eeprom(0, ADRES_EEPROM_BLOKADA_SYSTEMU);
 1985               		.loc 1 519 0
 1986 0968 1092 0000 		sts blokada_systemu,__zero_reg__
 520:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1987               		.loc 1 520 0
 1988 096c 67EF      		ldi r22,lo8(-9)
 1989 096e 7FE0      		ldi r23,lo8(15)
 1990 0970 00C0      		rjmp .L180
 1991               	.L87:
 524:interpretacjaSMS.c ****     zapisz_znak_w_eeprom(1, ADRES_EEPROM_BLOKADA_SYSTEMU);
 1992               		.loc 1 524 0
 1993 0972 8FEF      		ldi r24,lo8(-1)
 1994 0974 8093 0000 		sts blokada_systemu,r24
 525:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1995               		.loc 1 525 0
 1996 0978 67EF      		ldi r22,lo8(-9)
 1997 097a 7FE0      		ldi r23,lo8(15)
 1998 097c 00C0      		rjmp .L179
 1999               	.L88:
 529:interpretacjaSMS.c ****                                    14))
 2000               		.loc 1 529 0
 2001 097e 4EE0      		ldi r20,lo8(14)
 2002 0980 60E0      		ldi r22,lo8(numer_telefonu_do_ktorego_dzwonic)
 2003 0982 70E0      		ldi r23,hi8(numer_telefonu_do_ktorego_dzwonic)
 2004 0984 CE01      		movw r24,r28
 2005 0986 4E96      		adiw r24,30
 2006 0988 0E94 0000 		call pobierz_numer_telefonu
 2007               	.LVL180:
 2008 098c 8823      		tst r24
 2009 098e 01F4      		brne .+2
 2010 0990 00C0      		rjmp .L129
 532:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 2011               		.loc 1 532 0
 2012 0992 87E8      		ldi r24,lo8(-121)
 2013 0994 00C0      		rjmp .L181
 2014               	.L89:
 2015               	.LBB32:
 538:interpretacjaSMS.c ****                                    MAX_LICZBA_ZNAKOW_TELEFON + 1))
 2016               		.loc 1 538 0
 2017 0996 41E1      		ldi r20,lo8(17)
 2018 0998 8E01      		movw r16,r28
 2019               	.LVL181:
 2020 099a 0F5F      		subi r16,-1
 2021 099c 1F4F      		sbci r17,-1
 2022 099e B801      		movw r22,r16
 2023 09a0 CE01      		movw r24,r28
 2024 09a2 4E96      		adiw r24,30
 2025 09a4 0E94 0000 		call pobierz_numer_telefonu
 2026               	.LVL182:
 2027 09a8 8823      		tst r24
 2028 09aa 01F4      		brne .+2
 2029 09ac 00C0      		rjmp .L129
 543:interpretacjaSMS.c ****     if (len < 3 || len > 9)
 2030               		.loc 1 543 0
 2031 09ae F801      		movw r30,r16
 2032               		0:
 2033 09b0 0190      		ld __tmp_reg__,Z+
 2034 09b2 0020      		tst __tmp_reg__
 2035 09b4 01F4      		brne 0b
 2036 09b6 3197      		sbiw r30,1
 2037 09b8 E01B      		sub r30,r16
 2038 09ba F10B      		sbc r31,r17
 2039               	.LVL183:
 544:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 2040               		.loc 1 544 0
 2041 09bc 8DEF      		ldi r24,lo8(-3)
 2042 09be 8E0F      		add r24,r30
 2043 09c0 8730      		cpi r24,lo8(7)
 2044 09c2 00F0      		brlo .+2
 2045 09c4 00C0      		rjmp .L129
 549:interpretacjaSMS.c **** 
 2046               		.loc 1 549 0
 2047 09c6 41E0      		ldi r20,lo8(1)
 2048 09c8 4E0F      		add r20,r30
 2049 09ca 68EC      		ldi r22,lo8(-56)
 2050 09cc 7FE0      		ldi r23,lo8(15)
 2051 09ce C801      		movw r24,r16
 2052 09d0 0E94 0000 		call zapisz_znaki_w_eeprom
 2053               	.LVL184:
 552:interpretacjaSMS.c **** 
 2054               		.loc 1 552 0
 2055 09d4 B801      		movw r22,r16
 2056 09d6 80E0      		ldi r24,lo8(moj_numer_telefonu)
 2057 09d8 90E0      		ldi r25,hi8(moj_numer_telefonu)
 2058 09da 0E94 0000 		call strcpy
 2059               	.LVL185:
 557:interpretacjaSMS.c ****            (char *)numer_telefonu_odebranego_smsa);
 2060               		.loc 1 557 0
 2061 09de 60E0      		ldi r22,lo8(numer_telefonu_odebranego_smsa)
 2062 09e0 70E0      		ldi r23,hi8(numer_telefonu_odebranego_smsa)
 2063 09e2 80E0      		ldi r24,lo8(numer_telefonu_wysylanego_smsa)
 2064 09e4 90E0      		ldi r25,hi8(numer_telefonu_wysylanego_smsa)
 2065 09e6 0E94 0000 		call strcpy
 2066               	.LVL186:
 560:interpretacjaSMS.c ****     strcat((char *)tekst_wysylanego_smsa, (char *)temp_numer);
 2067               		.loc 1 560 0
 2068 09ea 60E0      		ldi r22,lo8(__c.2828)
 2069 09ec 70E0      		ldi r23,hi8(__c.2828)
 2070 09ee 80E0      		ldi r24,lo8(tekst_wysylanego_smsa)
 2071 09f0 90E0      		ldi r25,hi8(tekst_wysylanego_smsa)
 2072 09f2 0E94 0000 		call strcpy_P
 2073               	.LVL187:
 561:interpretacjaSMS.c **** 
 2074               		.loc 1 561 0
 2075 09f6 B801      		movw r22,r16
 2076 09f8 80E0      		ldi r24,lo8(tekst_wysylanego_smsa)
 2077 09fa 90E0      		ldi r25,hi8(tekst_wysylanego_smsa)
 2078 09fc 0E94 0000 		call strcat
 2079               	.LVL188:
 2080 0a00 00C0      		rjmp .L182
 2081               	.LVL189:
 2082               	.L73:
 2083               	.LBE32:
 567:interpretacjaSMS.c **** }
 2084               		.loc 1 567 0
 2085 0a02 81E0      		ldi r24,lo8(1)
 2086 0a04 00C0      		rjmp .L68
 2087               	.L123:
 242:interpretacjaSMS.c ****   }
 2088               		.loc 1 242 0
 2089 0a06 84E0      		ldi r24,lo8(4)
 2090 0a08 00C0      		rjmp .L68
 2091               	.L124:
 248:interpretacjaSMS.c **** 
 2092               		.loc 1 248 0
 2093 0a0a 85E0      		ldi r24,lo8(5)
 2094 0a0c 00C0      		rjmp .L68
 2095               	.LVL190:
 2096               	.L118:
 2097               	.LBB33:
 478:interpretacjaSMS.c ****           eeprom_read_byte((const uint8_t *)ADRES_EEPROM_TRYB_PRACY);
 2098               		.loc 1 478 0
 2099 0a0e 8EEF      		ldi r24,lo8(-2)
 2100 0a10 9FE0      		ldi r25,lo8(15)
 2101 0a12 0E94 0000 		call eeprom_read_byte
 2102               	.LVL191:
 480:interpretacjaSMS.c **** 
 2103               		.loc 1 480 0
 2104 0a16 68EF      		ldi r22,lo8(-8)
 2105 0a18 7FE0      		ldi r23,lo8(15)
 2106 0a1a 0E94 0000 		call zapisz_znak_w_eeprom
 2107               	.LVL192:
 483:interpretacjaSMS.c ****                            ADRES_EEPROM_SKRYBA_LIMIT_L);
 2108               		.loc 1 483 0
 2109 0a1e 65EF      		ldi r22,lo8(-11)
 2110 0a20 7FE0      		ldi r23,lo8(15)
 2111 0a22 8981      		ldd r24,Y+1
 2112 0a24 0E94 0000 		call zapisz_znak_w_eeprom
 2113               	.LVL193:
 485:interpretacjaSMS.c ****                            ADRES_EEPROM_SKRYBA_LIMIT_H);
 2114               		.loc 1 485 0
 2115 0a28 66EF      		ldi r22,lo8(-10)
 2116 0a2a 7FE0      		ldi r23,lo8(15)
 2117 0a2c 8A81      		ldd r24,Y+2
 2118 0a2e 0E94 0000 		call zapisz_znak_w_eeprom
 2119               	.LVL194:
 487:interpretacjaSMS.c **** 
 2120               		.loc 1 487 0
 2121 0a32 8981      		ldd r24,Y+1
 2122 0a34 9A81      		ldd r25,Y+2
 2123 0a36 9093 0000 		sts skryba_limit+1,r25
 2124 0a3a 8093 0000 		sts skryba_limit,r24
 490:interpretacjaSMS.c ****       skryba_wlaczona = TRUE; // Aktualizuj RAM natychmiast
 2125               		.loc 1 490 0
 2126 0a3e 69EF      		ldi r22,lo8(-7)
 2127 0a40 7FE0      		ldi r23,lo8(15)
 2128 0a42 81E0      		ldi r24,lo8(1)
 2129 0a44 0E94 0000 		call zapisz_znak_w_eeprom
 2130               	.LVL195:
 491:interpretacjaSMS.c **** 
 2131               		.loc 1 491 0
 2132 0a48 F092 0000 		sts skryba_wlaczona,r15
 2133               	.LVL196:
 2134               	.L178:
 494:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 2135               		.loc 1 494 0
 2136 0a4c 81E0      		ldi r24,lo8(1)
 2137 0a4e 00C0      		rjmp .L177
 2138               	.LBE33:
 2139               		.cfi_endproc
 2140               	.LFE15:
 2142               		.section	.progmem.data,"a",@progbits
 2145               	__c.2828:
 2146 0000 4E75 6D65 		.string	"Numer zapisany: "
 2146      7220 7A61 
 2146      7069 7361 
 2146      6E79 3A20 
 2146      00
 2149               	__c.2815:
 2150 0011 4F46 4600 		.string	"OFF"
 2153               	__c.2803:
 2154 0015 4F4E 00   		.string	"ON"
 2157               	__c.2793:
 2158 0018 4F46 4600 		.string	"OFF"
 2161               	__c.2779:
 2162 001c 5469 6D65 		.string	"Time: "
 2162      3A20 00
 2165               	res_ust.2651:
 2166 0023 4333 4434 		.string	"C3D4"
 2166      00
 2169               	instrukcja_sms:
 2170 0028 0443 4F44 		.string	"\004CODE"
 2170      4500 
 2171 002e 0000      		.zero	2
 2172 0030 0341 4444 		.string	"\003ADD"
 2172      00
 2173 0035 0000 00   		.zero	3
 2174 0038 0344 454C 		.string	"\003DEL"
 2174      00
 2175 003d 0000 00   		.zero	3
 2176 0040 0458 5858 		.string	"\004XXXX"
 2176      5800 
 2177 0046 0000      		.zero	2
 2178 0048 0652 4550 		.string	"\006REPORT"
 2178      4F52 5400 
 2179 0050 0455 5345 		.string	"\004USER"
 2179      5200 
 2180 0056 0000      		.zero	2
 2181 0058 044F 5045 		.string	"\004OPEN"
 2181      4E00 
 2182 005e 0000      		.zero	2
 2183 0060 0543 4C4F 		.string	"\005CLOSE"
 2183      5345 00
 2184 0067 00        		.zero	1
 2185 0068 0443 4C49 		.string	"\004CLIP"
 2185      5000 
 2186 006e 0000      		.zero	2
 2187 0070 0444 544D 		.string	"\004DTMF"
 2187      4600 
 2188 0076 0000      		.zero	2
 2189 0078 0353 4554 		.string	"\003SET"
 2189      00
 2190 007d 0000 00   		.zero	3
 2191 0080 0454 494D 		.string	"\004TIME"
 2191      4500 
 2192 0086 0000      		.zero	2
 2193 0088 0653 4B52 		.string	"\006SKRYBA"
 2193      5942 4100 
 2194 0090 0544 4542 		.string	"\005DEBUG"
 2194      5547 00
 2195 0097 00        		.zero	1
 2196 0098 0553 5441 		.string	"\005START"
 2196      5254 00
 2197 009f 00        		.zero	1
 2198 00a0 0453 544F 		.string	"\004STOP"
 2198      5000 
 2199 00a6 0000      		.zero	2
 2200 00a8 0353 5542 		.string	"\003SUB"
 2200      00
 2201 00ad 0000 00   		.zero	3
 2202 00b0 054D 594E 		.string	"\005MYNUM"
 2202      554D 00
 2203 00b7 00        		.zero	1
 2204               		.comm	nr_usunietego_uzytkownika_z_smsa,1,1
 2205               		.comm	stan_wyjscie,1,1
 2206               		.text
 2207               	.Letext0:
 2208               		.file 2 "/usr/local/avr8-gnu-toolchain/avr/include/stdint.h"
 2209               		.file 3 "/usr/local/avr8-gnu-toolchain/lib/gcc/avr/7.3.0/include/stddef.h"
 2210               		.file 4 "narzedzia.h"
 2211               		.file 5 "pamiec_ram.h"
 2212               		.file 6 "interpretacjaSMS.h"
 2213               		.file 7 "enumkomendy.h"
 2214               		.file 8 "komendy.h"
 2215               		.file 9 "/usr/local/avr8-gnu-toolchain/avr/include/stdio.h"
 2216               		.file 10 "/usr/local/avr8-gnu-toolchain/avr/include/stdlib.h"
 2217               		.file 11 "wewy.h"
 2218               		.file 12 "zapiseeprom.h"
 2219               		.file 13 "/usr/local/avr8-gnu-toolchain/avr/include/ctype.h"
 2220               		.file 14 "/usr/local/avr8-gnu-toolchain/avr/include/avr/pgmspace.h"
 2221               		.file 15 "/usr/local/avr8-gnu-toolchain/avr/include/string.h"
 2222               		.file 16 "/usr/local/avr8-gnu-toolchain/avr/include/avr/eeprom.h"
 2223               		.file 17 "konfiguracja.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 interpretacjaSMS.c
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:4      *ABS*:000000000000003f __SREG__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:5      *ABS*:000000000000003b __RAMPZ__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:6      *ABS*:0000000000000000 __tmp_reg__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:7      *ABS*:0000000000000001 __zero_reg__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:13     .text:0000000000000000 sprawdz_kod
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:110    .text:000000000000006a sprawdz_reset_ustawien
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:2165   .progmem.data:0000000000000023 res_ust.2651
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:140    .text:0000000000000082 interpretuj_instrukcje_sms
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:2169   .progmem.data:0000000000000028 instrukcja_sms
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:329    .text:0000000000000136 pobierz_long
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:408    .text:000000000000017c pomin_znak
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:505    .text:00000000000001d8 czy_jest_znak
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:620    .text:0000000000000242 pobierz_wyraz
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:747    .text:00000000000002c2 pobierz_numer_telefonu
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:1002   .text:00000000000003dc interpretuj_wiadomosc_sms
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:2161   .progmem.data:000000000000001c __c.2779
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:2157   .progmem.data:0000000000000018 __c.2793
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:2153   .progmem.data:0000000000000015 __c.2803
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:2149   .progmem.data:0000000000000011 __c.2815
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccvsSFuj.s:2145   .progmem.data:0000000000000000 __c.2828
                            *COM*:0000000000000001 nr_usunietego_uzytkownika_z_smsa
                            *COM*:0000000000000001 stan_wyjscie

UNDEFINED SYMBOLS
isspace
kod_modulu
memcmp_P
strtol
toupper
konwersja_znaku_telefonu
bufor_eeprom
__tablejump2__
zapisz_znaki_w_eeprom
numer_telefonu_do_ktorego_dzwonic
dodaj_komende
tryb_pracy
zapisz_znak_w_eeprom
tryb_clip
skryba_wlaczona
sms_pomijaj_aktualizacje_czasu
tekst_wysylanego_smsa
strcpy_P
rtc_czas
strcpy
numer_telefonu_odebranego_smsa
numer_telefonu_wysylanego_smsa
bufor_ustaw_czas
sprintf
strncasecmp_P
czas_start_h
czas_start_m
czas_stop_h
czas_stop_m
blokada_sterowania_czasowa
eeprom_read_byte
blokada_systemu
moj_numer_telefonu
strcat
skryba_limit
__do_copy_data
__do_clear_bss
