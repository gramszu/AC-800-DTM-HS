   1               		.file	"interpretacjaSMS.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.Ltext0:
  10               		.cfi_sections	.debug_frame
  11               	.global	sprawdz_kod
  13               	sprawdz_kod:
  14               	.LFB7:
  15               		.file 1 "interpretacjaSMS.c"
   1:interpretacjaSMS.c **** #ifndef INCLUDE
   2:interpretacjaSMS.c **** 
   3:interpretacjaSMS.c **** #include "interpretacjaSMS.h"
   4:interpretacjaSMS.c **** #include "ctype.h"
   5:interpretacjaSMS.c **** #include "komendy.h"
   6:interpretacjaSMS.c **** #include <avr/io.h>
   7:interpretacjaSMS.c **** #include <avr/pgmspace.h>
   8:interpretacjaSMS.c **** #include <stdio.h>
   9:interpretacjaSMS.c **** #include <stdlib.h>
  10:interpretacjaSMS.c **** #include <string.h>
  11:interpretacjaSMS.c **** 
  12:interpretacjaSMS.c **** #include "adresyeeprom.h" // Ensure this is included for address definitions
  13:interpretacjaSMS.c **** #include "konfiguracja_eeprom.h"
  14:interpretacjaSMS.c **** #include "wewy.h"
  15:interpretacjaSMS.c **** #include "zapiseeprom.h"
  16:interpretacjaSMS.c **** 
  17:interpretacjaSMS.c **** extern uchar skryba_wlaczona; // Declared in main.c
  18:interpretacjaSMS.c **** extern uint skryba_limit;     // Declared in main.c
  19:interpretacjaSMS.c **** extern uchar tryb_clip;       // Declared in main.c
  20:interpretacjaSMS.c **** 
  21:interpretacjaSMS.c **** uchar nr_usunietego_uzytkownika_z_smsa;
  22:interpretacjaSMS.c **** 
  23:interpretacjaSMS.c **** #endif
  24:interpretacjaSMS.c **** 
  25:interpretacjaSMS.c **** #define przeskocz_biale_znaki(BUF)                                             \
  26:interpretacjaSMS.c ****   while (isspace(*BUF))                                                        \
  27:interpretacjaSMS.c ****   ++BUF
  28:interpretacjaSMS.c **** 
  29:interpretacjaSMS.c **** uchar sprawdz_kod(const uchar **buf_sms) {
  16               		.loc 1 29 0
  17               		.cfi_startproc
  18               	.LVL0:
  19 0000 FF92      		push r15
  20               	.LCFI0:
  21               		.cfi_def_cfa_offset 3
  22               		.cfi_offset 15, -2
  23 0002 0F93      		push r16
  24               	.LCFI1:
  25               		.cfi_def_cfa_offset 4
  26               		.cfi_offset 16, -3
  27 0004 1F93      		push r17
  28               	.LCFI2:
  29               		.cfi_def_cfa_offset 5
  30               		.cfi_offset 17, -4
  31 0006 CF93      		push r28
  32               	.LCFI3:
  33               		.cfi_def_cfa_offset 6
  34               		.cfi_offset 28, -5
  35 0008 DF93      		push r29
  36               	.LCFI4:
  37               		.cfi_def_cfa_offset 7
  38               		.cfi_offset 29, -6
  39               	/* prologue: function */
  40               	/* frame size = 0 */
  41               	/* stack size = 5 */
  42               	.L__stack_usage = 5
  43 000a 8C01      		movw r16,r24
  44               	.LVL1:
  45               	.L2:
  30:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
  46               		.loc 1 30 0 discriminator 1
  47 000c F801      		movw r30,r16
  48 000e C081      		ld r28,Z
  49 0010 D181      		ldd r29,Z+1
  50 0012 F880      		ld r15,Y
  51 0014 8F2D      		mov r24,r15
  52 0016 90E0      		ldi r25,0
  53 0018 0E94 0000 		call isspace
  54               	.LVL2:
  55 001c 892B      		or r24,r25
  56 001e 01F4      		brne .L3
  31:interpretacjaSMS.c ****   if ((*buf_sms)[0] == kod_modulu[0] && (*buf_sms)[1] == kod_modulu[1] &&
  57               		.loc 1 31 0
  58 0020 8091 0000 		lds r24,kod_modulu
  59 0024 F812      		cpse r15,r24
  60 0026 00C0      		rjmp .L8
  61               		.loc 1 31 0 is_stmt 0 discriminator 1
  62 0028 9981      		ldd r25,Y+1
  63 002a 8091 0000 		lds r24,kod_modulu+1
  64 002e 9813      		cpse r25,r24
  65 0030 00C0      		rjmp .L8
  66               		.loc 1 31 0 discriminator 2
  67 0032 9A81      		ldd r25,Y+2
  68 0034 8091 0000 		lds r24,kod_modulu+2
  69 0038 9813      		cpse r25,r24
  70 003a 00C0      		rjmp .L8
  32:interpretacjaSMS.c ****       (*buf_sms)[2] == kod_modulu[2] && (*buf_sms)[3] == kod_modulu[3]) {
  71               		.loc 1 32 0 is_stmt 1
  72 003c 9B81      		ldd r25,Y+3
  73 003e 8091 0000 		lds r24,kod_modulu+3
  74 0042 9813      		cpse r25,r24
  75 0044 00C0      		rjmp .L8
  33:interpretacjaSMS.c ****     *buf_sms += LICZBA_BAJTOW_KODU_DOSTEPU;
  76               		.loc 1 33 0
  77 0046 2496      		adiw r28,4
  78 0048 F801      		movw r30,r16
  79 004a D183      		std Z+1,r29
  80 004c C083      		st Z,r28
  34:interpretacjaSMS.c ****     return TRUE;
  81               		.loc 1 34 0
  82 004e 8FEF      		ldi r24,lo8(-1)
  83               	.L1:
  84               	/* epilogue start */
  35:interpretacjaSMS.c ****   } else
  36:interpretacjaSMS.c ****     return FALSE;
  37:interpretacjaSMS.c **** }
  85               		.loc 1 37 0
  86 0050 DF91      		pop r29
  87 0052 CF91      		pop r28
  88 0054 1F91      		pop r17
  89 0056 0F91      		pop r16
  90               	.LVL3:
  91 0058 FF90      		pop r15
  92 005a 0895      		ret
  93               	.LVL4:
  94               	.L3:
  30:interpretacjaSMS.c ****   if ((*buf_sms)[0] == kod_modulu[0] && (*buf_sms)[1] == kod_modulu[1] &&
  95               		.loc 1 30 0 discriminator 2
  96 005c 2196      		adiw r28,1
  97 005e F801      		movw r30,r16
  98 0060 D183      		std Z+1,r29
  99 0062 C083      		st Z,r28
 100 0064 00C0      		rjmp .L2
 101               	.L8:
  36:interpretacjaSMS.c **** }
 102               		.loc 1 36 0
 103 0066 80E0      		ldi r24,0
 104 0068 00C0      		rjmp .L1
 105               		.cfi_endproc
 106               	.LFE7:
 108               	.global	sprawdz_reset_ustawien
 110               	sprawdz_reset_ustawien:
 111               	.LFB8:
  38:interpretacjaSMS.c **** 
  39:interpretacjaSMS.c **** uchar sprawdz_reset_ustawien(const uchar *buf) {
 112               		.loc 1 39 0
 113               		.cfi_startproc
 114               	.LVL5:
 115               	/* prologue: function */
 116               	/* frame size = 0 */
 117               	/* stack size = 0 */
 118               	.L__stack_usage = 0
  40:interpretacjaSMS.c ****   static const char res_ust[] PROGMEM =
  41:interpretacjaSMS.c ****       INSTRUKCJA_SMS_RESET_WSZYSTKICH_USTAWIEN;
  42:interpretacjaSMS.c ****   return memcmp_R(buf, res_ust) == 0;
 119               		.loc 1 42 0
 120 006a 44E0      		ldi r20,lo8(4)
 121 006c 50E0      		ldi r21,0
 122 006e 60E0      		ldi r22,lo8(res_ust.2650)
 123 0070 70E0      		ldi r23,hi8(res_ust.2650)
 124 0072 0E94 0000 		call memcmp_P
 125               	.LVL6:
 126 0076 21E0      		ldi r18,lo8(1)
 127 0078 892B      		or r24,r25
 128 007a 01F0      		breq .L10
 129 007c 20E0      		ldi r18,0
 130               	.L10:
  43:interpretacjaSMS.c **** }
 131               		.loc 1 43 0
 132 007e 822F      		mov r24,r18
 133               	/* epilogue start */
 134 0080 0895      		ret
 135               		.cfi_endproc
 136               	.LFE8:
 138               	.global	interpretuj_instrukcje_sms
 140               	interpretuj_instrukcje_sms:
 141               	.LFB9:
  44:interpretacjaSMS.c **** 
  45:interpretacjaSMS.c **** #define LICZBA_INSTRUKCJI_SMS 16 // Increased to 16
  46:interpretacjaSMS.c **** #define MAX_LICZBA_ZNAKOW_INSTRUKCJI_SMS 8
  47:interpretacjaSMS.c **** // uwaga: wana jest kolejno oraz usytuowanie pomidzy nimi
  48:interpretacjaSMS.c **** static const uchar instrukcja_sms[LICZBA_INSTRUKCJI_SMS]
  49:interpretacjaSMS.c ****                                  [MAX_LICZBA_ZNAKOW_INSTRUKCJI_SMS] PROGMEM = {
  50:interpretacjaSMS.c ****                                      // przed kad instrukcj musi by kod, litery
  51:interpretacjaSMS.c ****                                      // mog by due lub mae
  52:interpretacjaSMS.c ****                                      "\x04"
  53:interpretacjaSMS.c ****                                      "CODE", // CODE EFGH (zmiana kodu dostpu)
  54:interpretacjaSMS.c ****                                      "\x03"
  55:interpretacjaSMS.c ****                                      "ADD", //
  56:interpretacjaSMS.c ****                                      "\x03"
  57:interpretacjaSMS.c ****                                      "DEL", //
  58:interpretacjaSMS.c ****                                      "\x04"
  59:interpretacjaSMS.c ****                                      "XXXX", // RESET
  60:interpretacjaSMS.c ****                                      "\x06"
  61:interpretacjaSMS.c ****                                      "REPORT", // REPORT
  62:interpretacjaSMS.c ****                                      "\x04"
  63:interpretacjaSMS.c ****                                      "USER", // USER
  64:interpretacjaSMS.c ****                                      "\x04"
  65:interpretacjaSMS.c ****                                      "OPEN", // OPEN
  66:interpretacjaSMS.c ****                                      "\x05"
  67:interpretacjaSMS.c ****                                      "CLOSE", // CLOSE
  68:interpretacjaSMS.c ****                                      "\x04"
  69:interpretacjaSMS.c ****                                      "CLIP", // CLIP (sub-command)
  70:interpretacjaSMS.c ****                                      "\x04"
  71:interpretacjaSMS.c ****                                      "DTMF", // DTMF (sub-command)
  72:interpretacjaSMS.c ****                                      "\x03"
  73:interpretacjaSMS.c ****                                      "SET", // SET HH:MM:SS
  74:interpretacjaSMS.c ****                                      "\x04"
  75:interpretacjaSMS.c ****                                      "TIME", // TIME HH:MM HH:MM lub TIME OFF
  76:interpretacjaSMS.c ****                                      "\x06"
  77:interpretacjaSMS.c ****                                      "SKRYBA", // SKRYBA ON/OFF
  78:interpretacjaSMS.c ****                                      "\x05"
  79:interpretacjaSMS.c ****                                      "DEBUG", // DEBUG (diagnostyka SKRYBA)
  80:interpretacjaSMS.c ****                                      "\x05"
  81:interpretacjaSMS.c ****                                      "START", // START (odblokuj)
  82:interpretacjaSMS.c ****                                      "\x04"
  83:interpretacjaSMS.c ****                                      "STOP", // STOP (zablokuj)
  84:interpretacjaSMS.c **** };
  85:interpretacjaSMS.c **** 
  86:interpretacjaSMS.c **** enum {
  87:interpretacjaSMS.c ****   INSTRUKCJA_CODE, // code EFGH [K]
  88:interpretacjaSMS.c ****   INSTRUKCJA_ADD,
  89:interpretacjaSMS.c ****   INSTRUKCJA_DEL,
  90:interpretacjaSMS.c ****   INSTRUKCJA_RESET,
  91:interpretacjaSMS.c ****   INSTRUKCJA_REPORT, // report
  92:interpretacjaSMS.c ****   INSTRUKCJA_USER, // user +48505691117 E C B R [K] // user del +48505691117 [K]
  93:interpretacjaSMS.c ****   INSTRUKCJA_OPEN,
  94:interpretacjaSMS.c ****   INSTRUKCJA_CLOSE,
  95:interpretacjaSMS.c ****   INSTRUKCJA_CLIP,
  96:interpretacjaSMS.c ****   INSTRUKCJA_DTMF,
  97:interpretacjaSMS.c ****   INSTRUKCJA_SET,
  98:interpretacjaSMS.c ****   INSTRUKCJA_TIME,
  99:interpretacjaSMS.c ****   INSTRUKCJA_SKRYBA,
 100:interpretacjaSMS.c ****   INSTRUKCJA_DEBUG,
 101:interpretacjaSMS.c ****   INSTRUKCJA_START,
 102:interpretacjaSMS.c ****   INSTRUKCJA_STOP,
 103:interpretacjaSMS.c **** };
 104:interpretacjaSMS.c **** 
 105:interpretacjaSMS.c **** uchar interpretuj_instrukcje_sms(const uchar **buf_sms, const uchar start,
 106:interpretacjaSMS.c ****                                  const uchar end) {
 142               		.loc 1 106 0
 143               		.cfi_startproc
 144               	.LVL7:
 145 0082 6F92      		push r6
 146               	.LCFI5:
 147               		.cfi_def_cfa_offset 3
 148               		.cfi_offset 6, -2
 149 0084 7F92      		push r7
 150               	.LCFI6:
 151               		.cfi_def_cfa_offset 4
 152               		.cfi_offset 7, -3
 153 0086 8F92      		push r8
 154               	.LCFI7:
 155               		.cfi_def_cfa_offset 5
 156               		.cfi_offset 8, -4
 157 0088 9F92      		push r9
 158               	.LCFI8:
 159               		.cfi_def_cfa_offset 6
 160               		.cfi_offset 9, -5
 161 008a AF92      		push r10
 162               	.LCFI9:
 163               		.cfi_def_cfa_offset 7
 164               		.cfi_offset 10, -6
 165 008c BF92      		push r11
 166               	.LCFI10:
 167               		.cfi_def_cfa_offset 8
 168               		.cfi_offset 11, -7
 169 008e CF92      		push r12
 170               	.LCFI11:
 171               		.cfi_def_cfa_offset 9
 172               		.cfi_offset 12, -8
 173 0090 DF92      		push r13
 174               	.LCFI12:
 175               		.cfi_def_cfa_offset 10
 176               		.cfi_offset 13, -9
 177 0092 EF92      		push r14
 178               	.LCFI13:
 179               		.cfi_def_cfa_offset 11
 180               		.cfi_offset 14, -10
 181 0094 FF92      		push r15
 182               	.LCFI14:
 183               		.cfi_def_cfa_offset 12
 184               		.cfi_offset 15, -11
 185 0096 0F93      		push r16
 186               	.LCFI15:
 187               		.cfi_def_cfa_offset 13
 188               		.cfi_offset 16, -12
 189 0098 1F93      		push r17
 190               	.LCFI16:
 191               		.cfi_def_cfa_offset 14
 192               		.cfi_offset 17, -13
 193 009a CF93      		push r28
 194               	.LCFI17:
 195               		.cfi_def_cfa_offset 15
 196               		.cfi_offset 28, -14
 197 009c DF93      		push r29
 198               	.LCFI18:
 199               		.cfi_def_cfa_offset 16
 200               		.cfi_offset 29, -15
 201               	/* prologue: function */
 202               	/* frame size = 0 */
 203               	/* stack size = 14 */
 204               	.L__stack_usage = 14
 205 009e 5C01      		movw r10,r24
 206 00a0 762E      		mov r7,r22
 207 00a2 642E      		mov r6,r20
 208               	.LVL8:
 209               	.L15:
 107:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
 210               		.loc 1 107 0 discriminator 1
 211 00a4 F501      		movw r30,r10
 212 00a6 0081      		ld r16,Z
 213 00a8 1181      		ldd r17,Z+1
 214 00aa F801      		movw r30,r16
 215 00ac 8081      		ld r24,Z
 216 00ae 90E0      		ldi r25,0
 217 00b0 0E94 0000 		call isspace
 218               	.LVL9:
 219 00b4 892B      		or r24,r25
 220 00b6 01F4      		brne .L16
 221 00b8 F8E0      		ldi r31,lo8(8)
 222 00ba 7F9E      		mul r7,r31
 223 00bc C001      		movw r24,r0
 224 00be 1124      		clr __zero_reg__
 225               		.loc 1 107 0 is_stmt 0
 226 00c0 D12C      		mov r13,__zero_reg__
 227 00c2 C12C      		mov r12,__zero_reg__
 228               	.LBB2:
 229               	.LBB3:
 108:interpretacjaSMS.c ****   uchar i;
 109:interpretacjaSMS.c ****   for (i = start; i < end; ++i) {
 110:interpretacjaSMS.c ****     const void *p =
 111:interpretacjaSMS.c ****         &instrukcja_sms[0][0] + i * MAX_LICZBA_ZNAKOW_INSTRUKCJI_SMS;
 112:interpretacjaSMS.c ****     const uchar l = pgm_read_byte(p);
 230               		.loc 1 112 0 is_stmt 1
 231 00c4 9C01      		movw r18,r24
 232 00c6 2050      		subi r18,lo8(-(instrukcja_sms))
 233 00c8 3040      		sbci r19,hi8(-(instrukcja_sms))
 234 00ca 4901      		movw r8,r18
 235               	.LBE3:
 113:interpretacjaSMS.c ****     if (memcmp_P(*buf_sms, p + 1, l) == 0) {
 236               		.loc 1 113 0
 237 00cc FC01      		movw r30,r24
 238 00ce E050      		subi r30,lo8(-(instrukcja_sms+1))
 239 00d0 F040      		sbci r31,hi8(-(instrukcja_sms+1))
 240 00d2 7F01      		movw r14,r30
 241               	.LVL10:
 242               	.L17:
 243               	.LBE2:
 109:interpretacjaSMS.c ****     const void *p =
 244               		.loc 1 109 0 discriminator 1
 245 00d4 7614      		cp r7,r6
 246 00d6 00F4      		brsh .L19
 247               	.LVL11:
 248               	.LBB5:
 249               	.LBB4:
 112:interpretacjaSMS.c ****     if (memcmp_P(*buf_sms, p + 1, l) == 0) {
 250               		.loc 1 112 0
 251 00d8 F401      		movw r30,r8
 252 00da EC0D      		add r30,r12
 253 00dc FD1D      		adc r31,r13
 254               	/* #APP */
 255               	 ;  112 "interpretacjaSMS.c" 1
 256 00de E491      		lpm r30, Z
 257               		
 258               	 ;  0 "" 2
 259               	.LVL12:
 260               	/* #NOAPP */
 261               	.LBE4:
 262               		.loc 1 113 0
 263 00e0 CE2F      		mov r28,r30
 264 00e2 D0E0      		ldi r29,0
 265 00e4 B701      		movw r22,r14
 266 00e6 6C0D      		add r22,r12
 267 00e8 7D1D      		adc r23,r13
 268 00ea AE01      		movw r20,r28
 269 00ec C801      		movw r24,r16
 270 00ee 0E94 0000 		call memcmp_P
 271               	.LVL13:
 272 00f2 F8E0      		ldi r31,8
 273 00f4 CF0E      		add r12,r31
 274 00f6 D11C      		adc r13,__zero_reg__
 275               	.LVL14:
 276 00f8 892B      		or r24,r25
 277 00fa 01F4      		brne .L18
 114:interpretacjaSMS.c ****       *buf_sms += l;
 278               		.loc 1 114 0
 279 00fc C00F      		add r28,r16
 280 00fe D11F      		adc r29,r17
 281               	.LVL15:
 282 0100 F501      		movw r30,r10
 283 0102 D183      		std Z+1,r29
 284 0104 C083      		st Z,r28
 285               	.LVL16:
 286               	.L19:
 287               	.LBE5:
 115:interpretacjaSMS.c ****       return i;
 116:interpretacjaSMS.c ****     }
 117:interpretacjaSMS.c ****   }
 118:interpretacjaSMS.c ****   return i;
 119:interpretacjaSMS.c **** }
 288               		.loc 1 119 0
 289 0106 872D      		mov r24,r7
 290               	/* epilogue start */
 291 0108 DF91      		pop r29
 292 010a CF91      		pop r28
 293 010c 1F91      		pop r17
 294 010e 0F91      		pop r16
 295 0110 FF90      		pop r15
 296 0112 EF90      		pop r14
 297 0114 DF90      		pop r13
 298 0116 CF90      		pop r12
 299 0118 BF90      		pop r11
 300 011a AF90      		pop r10
 301               	.LVL17:
 302 011c 9F90      		pop r9
 303 011e 8F90      		pop r8
 304 0120 7F90      		pop r7
 305               	.LVL18:
 306 0122 6F90      		pop r6
 307               	.LVL19:
 308 0124 0895      		ret
 309               	.LVL20:
 310               	.L16:
 107:interpretacjaSMS.c ****   uchar i;
 311               		.loc 1 107 0 discriminator 2
 312 0126 0F5F      		subi r16,-1
 313 0128 1F4F      		sbci r17,-1
 314 012a F501      		movw r30,r10
 315 012c 1183      		std Z+1,r17
 316 012e 0083      		st Z,r16
 317 0130 00C0      		rjmp .L15
 318               	.LVL21:
 319               	.L18:
 109:interpretacjaSMS.c ****     const void *p =
 320               		.loc 1 109 0 discriminator 2
 321 0132 7394      		inc r7
 322               	.LVL22:
 323 0134 00C0      		rjmp .L17
 324               		.cfi_endproc
 325               	.LFE9:
 327               	.global	pobierz_long
 329               	pobierz_long:
 330               	.LFB10:
 120:interpretacjaSMS.c **** 
 121:interpretacjaSMS.c **** uchar pobierz_long(const uchar **buf_sms, long *wartosc) {
 331               		.loc 1 121 0
 332               		.cfi_startproc
 333               	.LVL23:
 334 0136 EF92      		push r14
 335               	.LCFI19:
 336               		.cfi_def_cfa_offset 3
 337               		.cfi_offset 14, -2
 338 0138 FF92      		push r15
 339               	.LCFI20:
 340               		.cfi_def_cfa_offset 4
 341               		.cfi_offset 15, -3
 342 013a 0F93      		push r16
 343               	.LCFI21:
 344               		.cfi_def_cfa_offset 5
 345               		.cfi_offset 16, -4
 346 013c 1F93      		push r17
 347               	.LCFI22:
 348               		.cfi_def_cfa_offset 6
 349               		.cfi_offset 17, -5
 350 013e CF93      		push r28
 351               	.LCFI23:
 352               		.cfi_def_cfa_offset 7
 353               		.cfi_offset 28, -6
 354 0140 DF93      		push r29
 355               	.LCFI24:
 356               		.cfi_def_cfa_offset 8
 357               		.cfi_offset 29, -7
 358               	/* prologue: function */
 359               	/* frame size = 0 */
 360               	/* stack size = 6 */
 361               	.L__stack_usage = 6
 362 0142 EC01      		movw r28,r24
 363 0144 7B01      		movw r14,r22
 122:interpretacjaSMS.c ****   const uchar *buf_sms_pom = *buf_sms;
 364               		.loc 1 122 0
 365 0146 0881      		ld r16,Y
 366 0148 1981      		ldd r17,Y+1
 367               	.LVL24:
 123:interpretacjaSMS.c ****   *wartosc = strtol(*buf_sms, (char **)buf_sms, 10);
 368               		.loc 1 123 0
 369 014a 4AE0      		ldi r20,lo8(10)
 370 014c 50E0      		ldi r21,0
 371 014e BC01      		movw r22,r24
 372               	.LVL25:
 373 0150 C801      		movw r24,r16
 374               	.LVL26:
 375 0152 0E94 0000 		call strtol
 376               	.LVL27:
 377 0156 F701      		movw r30,r14
 378 0158 6083      		st Z,r22
 379 015a 7183      		std Z+1,r23
 380 015c 8283      		std Z+2,r24
 381 015e 9383      		std Z+3,r25
 124:interpretacjaSMS.c ****   return *buf_sms != buf_sms_pom;
 382               		.loc 1 124 0
 383 0160 81E0      		ldi r24,lo8(1)
 384 0162 2881      		ld r18,Y
 385 0164 3981      		ldd r19,Y+1
 386 0166 2017      		cp r18,r16
 387 0168 3107      		cpc r19,r17
 388 016a 01F4      		brne .L22
 389 016c 80E0      		ldi r24,0
 390               	.L22:
 391               	/* epilogue start */
 125:interpretacjaSMS.c **** }
 392               		.loc 1 125 0
 393 016e DF91      		pop r29
 394 0170 CF91      		pop r28
 395               	.LVL28:
 396 0172 1F91      		pop r17
 397 0174 0F91      		pop r16
 398               	.LVL29:
 399 0176 FF90      		pop r15
 400 0178 EF90      		pop r14
 401               	.LVL30:
 402 017a 0895      		ret
 403               		.cfi_endproc
 404               	.LFE10:
 406               	.global	pomin_znak
 408               	pomin_znak:
 409               	.LFB11:
 126:interpretacjaSMS.c **** 
 127:interpretacjaSMS.c **** uchar pomin_znak(const uchar **buf_sms, const uchar wartosc) {
 410               		.loc 1 127 0
 411               		.cfi_startproc
 412               	.LVL31:
 413 017c DF92      		push r13
 414               	.LCFI25:
 415               		.cfi_def_cfa_offset 3
 416               		.cfi_offset 13, -2
 417 017e EF92      		push r14
 418               	.LCFI26:
 419               		.cfi_def_cfa_offset 4
 420               		.cfi_offset 14, -3
 421 0180 FF92      		push r15
 422               	.LCFI27:
 423               		.cfi_def_cfa_offset 5
 424               		.cfi_offset 15, -4
 425 0182 0F93      		push r16
 426               	.LCFI28:
 427               		.cfi_def_cfa_offset 6
 428               		.cfi_offset 16, -5
 429 0184 1F93      		push r17
 430               	.LCFI29:
 431               		.cfi_def_cfa_offset 7
 432               		.cfi_offset 17, -6
 433 0186 CF93      		push r28
 434               	.LCFI30:
 435               		.cfi_def_cfa_offset 8
 436               		.cfi_offset 28, -7
 437 0188 DF93      		push r29
 438               	.LCFI31:
 439               		.cfi_def_cfa_offset 9
 440               		.cfi_offset 29, -8
 441               	/* prologue: function */
 442               	/* frame size = 0 */
 443               	/* stack size = 7 */
 444               	.L__stack_usage = 7
 445 018a 7C01      		movw r14,r24
 446 018c D62E      		mov r13,r22
 447               	.LVL32:
 448               	.L24:
 128:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
 449               		.loc 1 128 0 discriminator 1
 450 018e F701      		movw r30,r14
 451 0190 C081      		ld r28,Z
 452 0192 D181      		ldd r29,Z+1
 453 0194 0881      		ld r16,Y
 454 0196 10E0      		ldi r17,0
 455 0198 C801      		movw r24,r16
 456 019a 0E94 0000 		call isspace
 457               	.LVL33:
 458 019e 892B      		or r24,r25
 459 01a0 01F4      		brne .L25
 129:interpretacjaSMS.c ****   if (**buf_sms == toupper(wartosc)) {
 460               		.loc 1 129 0
 461 01a2 8D2D      		mov r24,r13
 462 01a4 90E0      		ldi r25,0
 463 01a6 0E94 0000 		call toupper
 464               	.LVL34:
 465 01aa 0817      		cp r16,r24
 466 01ac 1907      		cpc r17,r25
 467 01ae 01F4      		brne .L27
 130:interpretacjaSMS.c ****     ++*buf_sms;
 468               		.loc 1 130 0
 469 01b0 2196      		adiw r28,1
 470 01b2 F701      		movw r30,r14
 471 01b4 D183      		std Z+1,r29
 472 01b6 C083      		st Z,r28
 131:interpretacjaSMS.c ****     return TRUE;
 473               		.loc 1 131 0
 474 01b8 8FEF      		ldi r24,lo8(-1)
 475               	.L23:
 476               	/* epilogue start */
 132:interpretacjaSMS.c ****   } else
 133:interpretacjaSMS.c ****     return FALSE;
 134:interpretacjaSMS.c **** }
 477               		.loc 1 134 0
 478 01ba DF91      		pop r29
 479 01bc CF91      		pop r28
 480 01be 1F91      		pop r17
 481 01c0 0F91      		pop r16
 482 01c2 FF90      		pop r15
 483 01c4 EF90      		pop r14
 484               	.LVL35:
 485 01c6 DF90      		pop r13
 486               	.LVL36:
 487 01c8 0895      		ret
 488               	.LVL37:
 489               	.L25:
 128:interpretacjaSMS.c ****   if (**buf_sms == toupper(wartosc)) {
 490               		.loc 1 128 0 discriminator 2
 491 01ca 2196      		adiw r28,1
 492 01cc F701      		movw r30,r14
 493 01ce D183      		std Z+1,r29
 494 01d0 C083      		st Z,r28
 495 01d2 00C0      		rjmp .L24
 496               	.L27:
 133:interpretacjaSMS.c **** }
 497               		.loc 1 133 0
 498 01d4 80E0      		ldi r24,0
 499 01d6 00C0      		rjmp .L23
 500               		.cfi_endproc
 501               	.LFE11:
 503               	.global	czy_jest_znak
 505               	czy_jest_znak:
 506               	.LFB12:
 135:interpretacjaSMS.c **** 
 136:interpretacjaSMS.c **** uchar czy_jest_znak(const uchar **buf_sms, const uchar wartosc) {
 507               		.loc 1 136 0
 508               		.cfi_startproc
 509               	.LVL38:
 510 01d8 DF92      		push r13
 511               	.LCFI32:
 512               		.cfi_def_cfa_offset 3
 513               		.cfi_offset 13, -2
 514 01da EF92      		push r14
 515               	.LCFI33:
 516               		.cfi_def_cfa_offset 4
 517               		.cfi_offset 14, -3
 518 01dc FF92      		push r15
 519               	.LCFI34:
 520               		.cfi_def_cfa_offset 5
 521               		.cfi_offset 15, -4
 522 01de 0F93      		push r16
 523               	.LCFI35:
 524               		.cfi_def_cfa_offset 6
 525               		.cfi_offset 16, -5
 526 01e0 1F93      		push r17
 527               	.LCFI36:
 528               		.cfi_def_cfa_offset 7
 529               		.cfi_offset 17, -6
 530 01e2 CF93      		push r28
 531               	.LCFI37:
 532               		.cfi_def_cfa_offset 8
 533               		.cfi_offset 28, -7
 534 01e4 DF93      		push r29
 535               	.LCFI38:
 536               		.cfi_def_cfa_offset 9
 537               		.cfi_offset 29, -8
 538               	/* prologue: function */
 539               	/* frame size = 0 */
 540               	/* stack size = 7 */
 541               	.L__stack_usage = 7
 542 01e6 8C01      		movw r16,r24
 543 01e8 D62E      		mov r13,r22
 544               	.LVL39:
 545               	.L29:
 137:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
 546               		.loc 1 137 0 discriminator 1
 547 01ea F801      		movw r30,r16
 548 01ec C081      		ld r28,Z
 549 01ee D181      		ldd r29,Z+1
 550 01f0 FE01      		movw r30,r28
 551 01f2 8191      		ld r24,Z+
 552 01f4 7F01      		movw r14,r30
 553 01f6 90E0      		ldi r25,0
 554 01f8 0E94 0000 		call isspace
 555               	.LVL40:
 556 01fc 892B      		or r24,r25
 557 01fe 01F4      		brne .L30
 558               	.LVL41:
 138:interpretacjaSMS.c ****   const uchar *buf_sms_pom = *buf_sms;
 139:interpretacjaSMS.c ****   const uchar w = toupper(wartosc);
 559               		.loc 1 139 0
 560 0200 8D2D      		mov r24,r13
 561 0202 90E0      		ldi r25,0
 562 0204 0E94 0000 		call toupper
 563               	.LVL42:
 564 0208 982F      		mov r25,r24
 565               	.LVL43:
 566               	.L32:
 140:interpretacjaSMS.c ****   uchar ch;
 141:interpretacjaSMS.c ****   while ((ch = *buf_sms_pom++) != '\0' && ch != w)
 567               		.loc 1 141 0 discriminator 2
 568 020a 9E01      		movw r18,r28
 569 020c 2F5F      		subi r18,-1
 570 020e 3F4F      		sbci r19,-1
 571               	.LVL44:
 572 0210 8881      		ld r24,Y
 573               	.LVL45:
 574 0212 8823      		tst r24
 575 0214 01F0      		breq .L31
 576               		.loc 1 141 0 is_stmt 0 discriminator 1
 577 0216 E901      		movw r28,r18
 578 0218 9813      		cpse r25,r24
 579 021a 00C0      		rjmp .L32
 580               	.L33:
 142:interpretacjaSMS.c ****     ;
 143:interpretacjaSMS.c ****   if (ch == w) {
 144:interpretacjaSMS.c ****     *buf_sms = buf_sms_pom;
 581               		.loc 1 144 0 is_stmt 1
 582 021c F801      		movw r30,r16
 583 021e 3183      		std Z+1,r19
 584 0220 2083      		st Z,r18
 145:interpretacjaSMS.c ****     return TRUE;
 585               		.loc 1 145 0
 586 0222 8FEF      		ldi r24,lo8(-1)
 587               	.LVL46:
 588 0224 00C0      		rjmp .L28
 589               	.LVL47:
 590               	.L30:
 137:interpretacjaSMS.c ****   const uchar *buf_sms_pom = *buf_sms;
 591               		.loc 1 137 0 discriminator 2
 592 0226 F801      		movw r30,r16
 593 0228 F182      		std Z+1,r15
 594 022a E082      		st Z,r14
 595 022c 00C0      		rjmp .L29
 596               	.LVL48:
 597               	.L31:
 143:interpretacjaSMS.c ****     *buf_sms = buf_sms_pom;
 598               		.loc 1 143 0
 599 022e 9923      		tst r25
 600 0230 01F0      		breq .L33
 601               	.LVL49:
 602               	.L28:
 603               	/* epilogue start */
 146:interpretacjaSMS.c ****   } else
 147:interpretacjaSMS.c ****     return FALSE;
 148:interpretacjaSMS.c **** }
 604               		.loc 1 148 0
 605 0232 DF91      		pop r29
 606 0234 CF91      		pop r28
 607 0236 1F91      		pop r17
 608 0238 0F91      		pop r16
 609               	.LVL50:
 610 023a FF90      		pop r15
 611 023c EF90      		pop r14
 612 023e DF90      		pop r13
 613               	.LVL51:
 614 0240 0895      		ret
 615               		.cfi_endproc
 616               	.LFE12:
 618               	.global	pobierz_wyraz
 620               	pobierz_wyraz:
 621               	.LFB13:
 149:interpretacjaSMS.c **** 
 150:interpretacjaSMS.c **** void pobierz_wyraz(const uchar **buf_sms, uchar *buf, uchar max_liczba_znakow) {
 622               		.loc 1 150 0
 623               		.cfi_startproc
 624               	.LVL52:
 625 0242 CF92      		push r12
 626               	.LCFI39:
 627               		.cfi_def_cfa_offset 3
 628               		.cfi_offset 12, -2
 629 0244 DF92      		push r13
 630               	.LCFI40:
 631               		.cfi_def_cfa_offset 4
 632               		.cfi_offset 13, -3
 633 0246 EF92      		push r14
 634               	.LCFI41:
 635               		.cfi_def_cfa_offset 5
 636               		.cfi_offset 14, -4
 637 0248 FF92      		push r15
 638               	.LCFI42:
 639               		.cfi_def_cfa_offset 6
 640               		.cfi_offset 15, -5
 641 024a 0F93      		push r16
 642               	.LCFI43:
 643               		.cfi_def_cfa_offset 7
 644               		.cfi_offset 16, -6
 645 024c 1F93      		push r17
 646               	.LCFI44:
 647               		.cfi_def_cfa_offset 8
 648               		.cfi_offset 17, -7
 649 024e CF93      		push r28
 650               	.LCFI45:
 651               		.cfi_def_cfa_offset 9
 652               		.cfi_offset 28, -8
 653 0250 DF93      		push r29
 654               	.LCFI46:
 655               		.cfi_def_cfa_offset 10
 656               		.cfi_offset 29, -9
 657               	/* prologue: function */
 658               	/* frame size = 0 */
 659               	/* stack size = 8 */
 660               	.L__stack_usage = 8
 661 0252 8C01      		movw r16,r24
 662 0254 D62E      		mov r13,r22
 663 0256 F72E      		mov r15,r23
 664 0258 E42E      		mov r14,r20
 665               	.LVL53:
 666               	.L37:
 151:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
 667               		.loc 1 151 0 discriminator 1
 668 025a F801      		movw r30,r16
 669 025c C081      		ld r28,Z
 670 025e D181      		ldd r29,Z+1
 671 0260 8881      		ld r24,Y
 672 0262 90E0      		ldi r25,0
 673 0264 0E94 0000 		call isspace
 674               	.LVL54:
 675 0268 892B      		or r24,r25
 676 026a 01F4      		brne .L38
 677 026c CD2D      		mov r28,r13
 678 026e DF2D      		mov r29,r15
 679               	.LVL55:
 680               	.L39:
 681 0270 6E01      		movw r12,r28
 682               	.LVL56:
 152:interpretacjaSMS.c ****   while (max_liczba_znakow-- && !isspace(**buf_sms) &&
 683               		.loc 1 152 0
 684 0272 E110      		cpse r14,__zero_reg__
 685 0274 00C0      		rjmp .L40
 686               	.LVL57:
 687               	.L41:
 153:interpretacjaSMS.c ****          (*buf = **buf_sms) != '\0') {
 154:interpretacjaSMS.c ****     buf++;
 155:interpretacjaSMS.c ****     (*buf_sms)++;
 156:interpretacjaSMS.c ****   }
 157:interpretacjaSMS.c ****   *buf = '\0';
 688               		.loc 1 157 0
 689 0276 F601      		movw r30,r12
 690 0278 1082      		st Z,__zero_reg__
 691               	/* epilogue start */
 158:interpretacjaSMS.c **** }
 692               		.loc 1 158 0
 693 027a DF91      		pop r29
 694 027c CF91      		pop r28
 695 027e 1F91      		pop r17
 696 0280 0F91      		pop r16
 697               	.LVL58:
 698 0282 FF90      		pop r15
 699 0284 EF90      		pop r14
 700 0286 DF90      		pop r13
 701 0288 CF90      		pop r12
 702               	.LVL59:
 703 028a 0895      		ret
 704               	.LVL60:
 705               	.L38:
 151:interpretacjaSMS.c ****   while (max_liczba_znakow-- && !isspace(**buf_sms) &&
 706               		.loc 1 151 0 discriminator 2
 707 028c 2196      		adiw r28,1
 708 028e D801      		movw r26,r16
 709 0290 CD93      		st X+,r28
 710 0292 DC93      		st X,r29
 711 0294 00C0      		rjmp .L37
 712               	.LVL61:
 713               	.L40:
 152:interpretacjaSMS.c ****          (*buf = **buf_sms) != '\0') {
 714               		.loc 1 152 0 discriminator 1
 715 0296 D801      		movw r26,r16
 716 0298 ED91      		ld r30,X+
 717 029a FC91      		ld r31,X
 718 029c F080      		ld r15,Z
 719 029e 8F2D      		mov r24,r15
 720 02a0 90E0      		ldi r25,0
 721 02a2 0E94 0000 		call isspace
 722               	.LVL62:
 723 02a6 892B      		or r24,r25
 724 02a8 01F4      		brne .L41
 153:interpretacjaSMS.c ****     buf++;
 725               		.loc 1 153 0 discriminator 2
 726 02aa F992      		st Y+,r15
 727 02ac EA94      		dec r14
 728               	.LVL63:
 152:interpretacjaSMS.c ****          (*buf = **buf_sms) != '\0') {
 729               		.loc 1 152 0 discriminator 2
 730 02ae FF20      		tst r15
 731 02b0 01F0      		breq .L41
 732               	.LVL64:
 155:interpretacjaSMS.c ****   }
 733               		.loc 1 155 0
 734 02b2 D801      		movw r26,r16
 735 02b4 8D91      		ld r24,X+
 736 02b6 9C91      		ld r25,X
 737 02b8 1197      		sbiw r26,1
 738 02ba 0196      		adiw r24,1
 739 02bc 8D93      		st X+,r24
 740 02be 9C93      		st X,r25
 741 02c0 00C0      		rjmp .L39
 742               		.cfi_endproc
 743               	.LFE13:
 745               	.global	pobierz_numer_telefonu
 747               	pobierz_numer_telefonu:
 748               	.LFB14:
 159:interpretacjaSMS.c **** 
 160:interpretacjaSMS.c **** uchar pobierz_numer_telefonu(const uchar **buf_sms, uchar *buf_telefon,
 161:interpretacjaSMS.c ****                              const uchar rozmiar_bufora) {
 749               		.loc 1 161 0
 750               		.cfi_startproc
 751               	.LVL65:
 752 02c2 8F92      		push r8
 753               	.LCFI47:
 754               		.cfi_def_cfa_offset 3
 755               		.cfi_offset 8, -2
 756 02c4 9F92      		push r9
 757               	.LCFI48:
 758               		.cfi_def_cfa_offset 4
 759               		.cfi_offset 9, -3
 760 02c6 AF92      		push r10
 761               	.LCFI49:
 762               		.cfi_def_cfa_offset 5
 763               		.cfi_offset 10, -4
 764 02c8 BF92      		push r11
 765               	.LCFI50:
 766               		.cfi_def_cfa_offset 6
 767               		.cfi_offset 11, -5
 768 02ca CF92      		push r12
 769               	.LCFI51:
 770               		.cfi_def_cfa_offset 7
 771               		.cfi_offset 12, -6
 772 02cc DF92      		push r13
 773               	.LCFI52:
 774               		.cfi_def_cfa_offset 8
 775               		.cfi_offset 13, -7
 776 02ce EF92      		push r14
 777               	.LCFI53:
 778               		.cfi_def_cfa_offset 9
 779               		.cfi_offset 14, -8
 780 02d0 FF92      		push r15
 781               	.LCFI54:
 782               		.cfi_def_cfa_offset 10
 783               		.cfi_offset 15, -9
 784 02d2 0F93      		push r16
 785               	.LCFI55:
 786               		.cfi_def_cfa_offset 11
 787               		.cfi_offset 16, -10
 788 02d4 1F93      		push r17
 789               	.LCFI56:
 790               		.cfi_def_cfa_offset 12
 791               		.cfi_offset 17, -11
 792 02d6 CF93      		push r28
 793               	.LCFI57:
 794               		.cfi_def_cfa_offset 13
 795               		.cfi_offset 28, -12
 796 02d8 DF93      		push r29
 797               	.LCFI58:
 798               		.cfi_def_cfa_offset 14
 799               		.cfi_offset 29, -13
 800               	/* prologue: function */
 801               	/* frame size = 0 */
 802               	/* stack size = 12 */
 803               	.L__stack_usage = 12
 804 02da 7C01      		movw r14,r24
 805 02dc 5B01      		movw r10,r22
 806 02de 942E      		mov r9,r20
 807               	.LVL66:
 808               	.L45:
 162:interpretacjaSMS.c ****   przeskocz_biale_znaki(*buf_sms);
 809               		.loc 1 162 0 discriminator 1
 810 02e0 F701      		movw r30,r14
 811 02e2 0081      		ld r16,Z
 812 02e4 1181      		ldd r17,Z+1
 813 02e6 F801      		movw r30,r16
 814 02e8 8081      		ld r24,Z
 815 02ea 90E0      		ldi r25,0
 816 02ec 0E94 0000 		call isspace
 817               	.LVL67:
 818 02f0 892B      		or r24,r25
 819 02f2 01F4      		brne .L46
 820 02f4 802E      		mov r8,r16
 821 02f6 6501      		movw r12,r10
 822               		.loc 1 162 0 is_stmt 0
 823 02f8 C02F      		mov r28,r16
 824 02fa D12F      		mov r29,r17
 825               	.L47:
 826 02fc 8E01      		movw r16,r28
 827               	.LVL68:
 828 02fe 2196      		adiw r28,1
 163:interpretacjaSMS.c ****   const uchar *tel = *buf_sms;
 164:interpretacjaSMS.c ****   uchar *buf = buf_telefon;
 165:interpretacjaSMS.c ****   uchar l = 0;
 166:interpretacjaSMS.c ****   while (konwersja_znaku_telefonu(*tel) != ZNAK_NUMERU_TELEFONU_NIEZNANY &&
 829               		.loc 1 166 0 is_stmt 1
 830 0300 F801      		movw r30,r16
 831 0302 8081      		ld r24,Z
 832 0304 0E94 0000 		call konwersja_znaku_telefonu
 833               	.LVL69:
 834 0308 8D30      		cpi r24,lo8(13)
 835 030a 01F4      		brne .L48
 836               	.L52:
 167:interpretacjaSMS.c ****          ++l < rozmiar_bufora)
 168:interpretacjaSMS.c ****     *buf++ = *tel++;
 169:interpretacjaSMS.c ****   *buf = '\0';
 837               		.loc 1 169 0
 838 030c F601      		movw r30,r12
 839 030e 1082      		st Z,__zero_reg__
 170:interpretacjaSMS.c ****   if (buf_telefon[0] != '\0') {
 840               		.loc 1 170 0
 841 0310 F501      		movw r30,r10
 842 0312 8081      		ld r24,Z
 843 0314 8823      		tst r24
 844 0316 01F0      		breq .L44
 171:interpretacjaSMS.c ****     *buf_sms = tel;
 845               		.loc 1 171 0
 846 0318 F701      		movw r30,r14
 847 031a 1183      		std Z+1,r17
 848 031c 0083      		st Z,r16
 172:interpretacjaSMS.c ****     return TRUE;
 849               		.loc 1 172 0
 850 031e 8FEF      		ldi r24,lo8(-1)
 851               	.L44:
 852               	/* epilogue start */
 173:interpretacjaSMS.c ****   } else
 174:interpretacjaSMS.c ****     return FALSE;
 175:interpretacjaSMS.c **** }
 853               		.loc 1 175 0
 854 0320 DF91      		pop r29
 855 0322 CF91      		pop r28
 856 0324 1F91      		pop r17
 857 0326 0F91      		pop r16
 858               	.LVL70:
 859 0328 FF90      		pop r15
 860 032a EF90      		pop r14
 861               	.LVL71:
 862 032c DF90      		pop r13
 863 032e CF90      		pop r12
 864               	.LVL72:
 865 0330 BF90      		pop r11
 866 0332 AF90      		pop r10
 867               	.LVL73:
 868 0334 9F90      		pop r9
 869               	.LVL74:
 870 0336 8F90      		pop r8
 871 0338 0895      		ret
 872               	.LVL75:
 873               	.L46:
 162:interpretacjaSMS.c ****   const uchar *tel = *buf_sms;
 874               		.loc 1 162 0 discriminator 2
 875 033a 0F5F      		subi r16,-1
 876 033c 1F4F      		sbci r17,-1
 877 033e F701      		movw r30,r14
 878 0340 1183      		std Z+1,r17
 879 0342 0083      		st Z,r16
 880 0344 00C0      		rjmp .L45
 881               	.LVL76:
 882               	.L48:
 166:interpretacjaSMS.c ****          ++l < rozmiar_bufora)
 883               		.loc 1 166 0 discriminator 1
 884 0346 8C2F      		mov r24,r28
 885 0348 8819      		sub r24,r8
 886 034a 8915      		cp r24,r9
 887 034c 00F4      		brsh .L52
 888               	.LVL77:
 168:interpretacjaSMS.c ****   *buf = '\0';
 889               		.loc 1 168 0
 890 034e FE01      		movw r30,r28
 891 0350 3197      		sbiw r30,1
 892 0352 8081      		ld r24,Z
 893 0354 F601      		movw r30,r12
 894 0356 8193      		st Z+,r24
 895 0358 6F01      		movw r12,r30
 896 035a 00C0      		rjmp .L47
 897               		.cfi_endproc
 898               	.LFE14:
 900               		.section	.rodata.str1.1,"aMS",@progbits,1
 901               	.LC0:
 902 0000 2B43 434C 		.string	"+CCLK=\"24/01/01,%02d:%02d:%02d+04\""
 902      4B3D 2232 
 902      342F 3031 
 902      2F30 312C 
 902      2530 3264 
 903               		.text
 904               	.global	interpretuj_wiadomosc_sms
 906               	interpretuj_wiadomosc_sms:
 907               	.LFB15:
 176:interpretacjaSMS.c **** 
 177:interpretacjaSMS.c **** uchar interpretuj_wiadomosc_sms(const uchar *sms) {
 908               		.loc 1 177 0
 909               		.cfi_startproc
 910               	.LVL78:
 911 035c EF92      		push r14
 912               	.LCFI59:
 913               		.cfi_def_cfa_offset 3
 914               		.cfi_offset 14, -2
 915 035e FF92      		push r15
 916               	.LCFI60:
 917               		.cfi_def_cfa_offset 4
 918               		.cfi_offset 15, -3
 919 0360 0F93      		push r16
 920               	.LCFI61:
 921               		.cfi_def_cfa_offset 5
 922               		.cfi_offset 16, -4
 923 0362 1F93      		push r17
 924               	.LCFI62:
 925               		.cfi_def_cfa_offset 6
 926               		.cfi_offset 17, -5
 927 0364 CF93      		push r28
 928               	.LCFI63:
 929               		.cfi_def_cfa_offset 7
 930               		.cfi_offset 28, -6
 931 0366 DF93      		push r29
 932               	.LCFI64:
 933               		.cfi_def_cfa_offset 8
 934               		.cfi_offset 29, -7
 935 0368 CDB7      		in r28,__SP_L__
 936 036a DEB7      		in r29,__SP_H__
 937               	.LCFI65:
 938               		.cfi_def_cfa_register 28
 939 036c 6297      		sbiw r28,18
 940               	.LCFI66:
 941               		.cfi_def_cfa_offset 26
 942 036e 0FB6      		in __tmp_reg__,__SREG__
 943 0370 F894      		cli
 944 0372 DEBF      		out __SP_H__,r29
 945 0374 0FBE      		out __SREG__,__tmp_reg__
 946 0376 CDBF      		out __SP_L__,r28
 947               	/* prologue: function */
 948               	/* frame size = 18 */
 949               	/* stack size = 24 */
 950               	.L__stack_usage = 24
 951 0378 9A8B      		std Y+18,r25
 952 037a 898B      		std Y+17,r24
 178:interpretacjaSMS.c ****   memcpy(bufor_eeprom, sms, MAX_BUFOR_EEPROM);
 953               		.loc 1 178 0
 954 037c 7C01      		movw r14,r24
 955 037e 82E3      		ldi r24,lo8(50)
 956               	.LVL79:
 957 0380 F701      		movw r30,r14
 958 0382 A0E0      		ldi r26,lo8(bufor_eeprom)
 959 0384 B0E0      		ldi r27,hi8(bufor_eeprom)
 960               		0:
 961 0386 0190      		ld r0,Z+
 962 0388 0D92      		st X+,r0
 963 038a 8A95      		dec r24
 964 038c 01F4      		brne 0b
 965               	.LVL80:
 179:interpretacjaSMS.c ****   const uchar *sms_pom = sms;
 180:interpretacjaSMS.c ****   if (!sprawdz_kod(&sms)) {
 966               		.loc 1 180 0
 967 038e CE01      		movw r24,r28
 968 0390 4196      		adiw r24,17
 969 0392 0E94 0000 		call sprawdz_kod
 970               	.LVL81:
 971 0396 2989      		ldd r18,Y+17
 972 0398 9A89      		ldd r25,Y+18
 973 039a 8111      		cpse r24,__zero_reg__
 974 039c 00C0      		rjmp .L54
 181:interpretacjaSMS.c ****     if (sprawdz_reset_ustawien(sms))
 975               		.loc 1 181 0
 976 039e 822F      		mov r24,r18
 977 03a0 0E94 0000 		call sprawdz_reset_ustawien
 978               	.LVL82:
 979 03a4 8823      		tst r24
 980 03a6 01F4      		brne .+2
 981 03a8 00C0      		rjmp .L53
 982               	.L101:
 182:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_RESET_WSZYSTKICH_USTAWIEN;
 983               		.loc 1 182 0
 984 03aa 8BE0      		ldi r24,lo8(11)
 985 03ac 00C0      		rjmp .L53
 986               	.L54:
 987 03ae 022F      		mov r16,r18
 988 03b0 192F      		mov r17,r25
 989               	.L56:
 990               	.LVL83:
 991               	.LBB6:
 183:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_BRAK_KODU;
 184:interpretacjaSMS.c ****   }
 185:interpretacjaSMS.c ****   { // mona wstawi ten kod do kolejki i w nastpnym kroku interpretowa
 186:interpretacjaSMS.c ****     for (uchar *ptr = (uchar *)sms; *ptr != '\0'; ++ptr)
 992               		.loc 1 186 0 discriminator 1
 993 03b2 F801      		movw r30,r16
 994 03b4 8191      		ld r24,Z+
 995 03b6 8F01      		movw r16,r30
 996               	.LVL84:
 997 03b8 8111      		cpse r24,__zero_reg__
 998 03ba 00C0      		rjmp .L57
 999               	.LBE6:
 187:interpretacjaSMS.c ****       *ptr = toupper(*ptr);
 188:interpretacjaSMS.c ****   }
 189:interpretacjaSMS.c **** 
 190:interpretacjaSMS.c ****   switch (
 191:interpretacjaSMS.c ****       interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CODE, INSTRUKCJA_STOP + 1)) {
 1000               		.loc 1 191 0
 1001 03bc 40E1      		ldi r20,lo8(16)
 1002 03be 60E0      		ldi r22,0
 1003 03c0 CE01      		movw r24,r28
 1004 03c2 4196      		adiw r24,17
 1005 03c4 0E94 0000 		call interpretuj_instrukcje_sms
 1006               	.LVL85:
 190:interpretacjaSMS.c ****       interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CODE, INSTRUKCJA_STOP + 1)) {
 1007               		.loc 1 190 0
 1008 03c8 8031      		cpi r24,lo8(16)
 1009 03ca 00F0      		brlo .+2
 1010 03cc 00C0      		rjmp .L58
 1011 03ce E82F      		mov r30,r24
 1012 03d0 F0E0      		ldi r31,0
 1013 03d2 E050      		subi r30,lo8(-(gs(.L60)))
 1014 03d4 F040      		sbci r31,hi8(-(gs(.L60)))
 1015 03d6 0C94 0000 		jmp __tablejump2__
 1016               		.p2align	1
 1017               	.L60:
 1018 03da 0000      		.word gs(.L59)
 1019 03dc 0000      		.word gs(.L61)
 1020 03de 0000      		.word gs(.L62)
 1021 03e0 0000      		.word gs(.L101)
 1022 03e2 0000      		.word gs(.L102)
 1023 03e4 0000      		.word gs(.L64)
 1024 03e6 0000      		.word gs(.L65)
 1025 03e8 0000      		.word gs(.L66)
 1026 03ea 0000      		.word gs(.L58)
 1027 03ec 0000      		.word gs(.L58)
 1028 03ee 0000      		.word gs(.L67)
 1029 03f0 0000      		.word gs(.L68)
 1030 03f2 0000      		.word gs(.L69)
 1031 03f4 0000      		.word gs(.L70)
 1032 03f6 0000      		.word gs(.L71)
 1033 03f8 0000      		.word gs(.L72)
 1034               	.L57:
 1035               	.LBB7:
 187:interpretacjaSMS.c ****       *ptr = toupper(*ptr);
 1036               		.loc 1 187 0 discriminator 3
 1037 03fa 90E0      		ldi r25,0
 1038 03fc 0E94 0000 		call toupper
 1039               	.LVL86:
 1040 0400 F801      		movw r30,r16
 1041 0402 3197      		sbiw r30,1
 1042 0404 8083      		st Z,r24
 1043               	.LVL87:
 1044 0406 00C0      		rjmp .L56
 1045               	.LVL88:
 1046               	.L73:
 1047               	.LBE7:
 192:interpretacjaSMS.c ****   case INSTRUKCJA_CODE: {
 193:interpretacjaSMS.c ****     przeskocz_biale_znaki(sms);
 1048               		.loc 1 193 0 discriminator 2
 1049 0408 0F5F      		subi r16,-1
 1050 040a 1F4F      		sbci r17,-1
 1051 040c 1A8B      		std Y+18,r17
 1052 040e 098B      		std Y+17,r16
 1053               	.L59:
 1054               		.loc 1 193 0 is_stmt 0 discriminator 1
 1055 0410 0989      		ldd r16,Y+17
 1056 0412 1A89      		ldd r17,Y+18
 1057 0414 F801      		movw r30,r16
 1058 0416 8081      		ld r24,Z
 1059 0418 90E0      		ldi r25,0
 1060 041a 0E94 0000 		call isspace
 1061               	.LVL89:
 1062 041e 892B      		or r24,r25
 1063 0420 01F4      		brne .L73
 1064 0422 C801      		movw r24,r16
 1065 0424 8E19      		sub r24,r14
 1066 0426 9F09      		sbc r25,r15
 1067 0428 FC01      		movw r30,r24
 1068 042a E050      		subi r30,lo8(-(bufor_eeprom))
 1069 042c F040      		sbci r31,hi8(-(bufor_eeprom))
 1070               		.loc 1 193 0
 1071 042e 34E0      		ldi r19,lo8(4)
 1072               	.L75:
 1073               	.LVL90:
 1074               	.LBB8:
 1075               	.LBB9:
 194:interpretacjaSMS.c ****     for (uchar i = 0; i < LICZBA_BAJTOW_KODU_DOSTEPU; ++i) {
 195:interpretacjaSMS.c ****       const uchar znak = bufor_eeprom[(sms - sms_pom) + i];
 1076               		.loc 1 195 0 is_stmt 1
 1077 0430 2191      		ld r18,Z+
 1078               	.LVL91:
 196:interpretacjaSMS.c ****       if (not((znak >= 'A' && znak <= 'Z') || (znak >= '0' && znak <= '9')))
 1079               		.loc 1 196 0
 1080 0432 4FEB      		ldi r20,lo8(-65)
 1081 0434 420F      		add r20,r18
 1082 0436 4A31      		cpi r20,lo8(26)
 1083 0438 00F0      		brlo .L74
 1084               		.loc 1 196 0 is_stmt 0 discriminator 1
 1085 043a 2053      		subi r18,lo8(-(-48))
 1086               	.LVL92:
 1087 043c 2A30      		cpi r18,lo8(10)
 1088 043e 00F0      		brlo .L74
 1089               	.LVL93:
 1090               	.L96:
 1091               	.LBE9:
 1092               	.LBE8:
 1093               	.LBB10:
 197:interpretacjaSMS.c ****         return INTERPRETACJA_SMS_BLEDNE_DANE;
 198:interpretacjaSMS.c ****     }
 199:interpretacjaSMS.c ****     memcpy(kod_modulu, bufor_eeprom + (sms - sms_pom),
 200:interpretacjaSMS.c ****            LICZBA_BAJTOW_KODU_DOSTEPU);
 201:interpretacjaSMS.c ****     zapisz_znaki_w_eeprom(bufor_eeprom + (sms - sms_pom),
 202:interpretacjaSMS.c ****                           (uint)ADRES_EEPROM_KOD_DOSTEPU,
 203:interpretacjaSMS.c ****                           LICZBA_BAJTOW_KODU_DOSTEPU);
 204:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 205:interpretacjaSMS.c ****   }
 206:interpretacjaSMS.c ****   case INSTRUKCJA_REPORT: {
 207:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_RAPORT;
 208:interpretacjaSMS.c ****   }
 209:interpretacjaSMS.c ****   case INSTRUKCJA_USER: {
 210:interpretacjaSMS.c ****     // Komenda USER ma dziaa wycznie z podanym numerem.
 211:interpretacjaSMS.c ****     // Przykad: USER +48505691117 E C B R [K]
 212:interpretacjaSMS.c ****     if (pobierz_numer_telefonu(&sms, &numer_telefonu_do_ktorego_dzwonic[0], 14))
 213:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_USER;
 214:interpretacjaSMS.c **** 
 215:interpretacjaSMS.c ****     // Brak numeru po "USER"  wylij informacj z instrukcj uycia,
 216:interpretacjaSMS.c ****     // zamiast penej listy uytkownikw.
 217:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_USER_BEZ_NUMERU;
 218:interpretacjaSMS.c ****   }
 219:interpretacjaSMS.c ****   case INSTRUKCJA_ADD: {
 220:interpretacjaSMS.c ****     if (not pobierz_numer_telefonu(&sms, &numer_telefonu_do_ktorego_dzwonic[0],
 221:interpretacjaSMS.c ****                                    14))
 222:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 223:interpretacjaSMS.c ****     dodaj_komende(KOMENDA_KOLEJKI_DODAJ_UZYTKOWNIKA_BRAMA);
 224:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 225:interpretacjaSMS.c ****   }
 226:interpretacjaSMS.c ****   case INSTRUKCJA_DEL: {
 227:interpretacjaSMS.c ****     if (not pobierz_numer_telefonu(&sms, &numer_telefonu_do_ktorego_dzwonic[0],
 228:interpretacjaSMS.c ****                                    14))
 229:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 230:interpretacjaSMS.c ****     dodaj_komende(KOMENDA_KOLEJKI_USUN_UZYTKOWNIKA_BRAMA);
 231:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 232:interpretacjaSMS.c ****   }
 233:interpretacjaSMS.c ****   case INSTRUKCJA_RESET: {
 234:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_RESET_WSZYSTKICH_USTAWIEN;
 235:interpretacjaSMS.c ****   }
 236:interpretacjaSMS.c ****   case INSTRUKCJA_OPEN: {
 237:interpretacjaSMS.c ****     const uchar podtryb =
 238:interpretacjaSMS.c ****         interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CLIP, INSTRUKCJA_DTMF + 1);
 239:interpretacjaSMS.c ****     if (podtryb == INSTRUKCJA_CLIP) {
 240:interpretacjaSMS.c ****       tryb_pracy = 1; // Publiczny
 241:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 242:interpretacjaSMS.c **** 
 243:interpretacjaSMS.c ****       tryb_clip = TRUE;
 244:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_CLIP_DTMF);
 245:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 246:interpretacjaSMS.c ****     } else if (podtryb == INSTRUKCJA_DTMF) {
 247:interpretacjaSMS.c ****       tryb_pracy = 1; // Publiczny
 248:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 249:interpretacjaSMS.c **** 
 250:interpretacjaSMS.c ****       tryb_clip = FALSE; // DTMF
 251:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_CLIP_DTMF);
 252:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 253:interpretacjaSMS.c ****     } else {
 254:interpretacjaSMS.c ****       // Domylne zachowanie (stare OPEN): Tylko tryb publiczny, nie zmieniaj
 255:interpretacjaSMS.c ****       // sub-trybu (chyba ze wymusimy CLIP?) Dla kompatybilnosci wstecznej OPEN
 256:interpretacjaSMS.c ****       // = OPEN CLIP Lub zostawiamy stary sub-tryb? AC200 wymusza CLIP przy
 257:interpretacjaSMS.c ****       // samym OPEN? Nie, AC200 zwraca BLEDNE_DANE jesli brak podtrybu! Ale my
 258:interpretacjaSMS.c ****       // chcemy kompatybilnosc. Zrobmy tak: OPEN bez parametru = OPEN (zachowaj
 259:interpretacjaSMS.c ****       // obecny podtryb) + Publiczny
 260:interpretacjaSMS.c **** 
 261:interpretacjaSMS.c ****       // Jednak w AC200 kod:
 262:interpretacjaSMS.c ****       // if ( podtryb == INSTRUKCJA_CLIP ) ...
 263:interpretacjaSMS.c ****       // else if ( podtryb == INSTRUKCJA_DTMF ) ...
 264:interpretacjaSMS.c ****       // else return INTERPRETACJA_SMS_BLEDNE_DANE;
 265:interpretacjaSMS.c **** 
 266:interpretacjaSMS.c ****       // Decyzja: Zachowujemy kompatybilnosc wsteczna.
 267:interpretacjaSMS.c ****       // Jesli brak parametru -> tylko zmien tryb_pracy na 1.
 268:interpretacjaSMS.c ****       tryb_pracy = 1; // Publiczny
 269:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 270:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 271:interpretacjaSMS.c ****     }
 272:interpretacjaSMS.c ****   }
 273:interpretacjaSMS.c ****   case INSTRUKCJA_CLOSE: {
 274:interpretacjaSMS.c ****     const uchar podtryb =
 275:interpretacjaSMS.c ****         interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CLIP, INSTRUKCJA_DTMF + 1);
 276:interpretacjaSMS.c ****     if (podtryb == INSTRUKCJA_CLIP) {
 277:interpretacjaSMS.c ****       tryb_pracy = 0; // Prywatny
 278:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_PRACY);
 279:interpretacjaSMS.c **** 
 280:interpretacjaSMS.c ****       tryb_clip = TRUE;
 281:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_CLIP_DTMF);
 282:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 283:interpretacjaSMS.c ****     } else if (podtryb == INSTRUKCJA_DTMF) {
 284:interpretacjaSMS.c ****       tryb_pracy = 0; // Prywatny
 285:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_PRACY);
 286:interpretacjaSMS.c **** 
 287:interpretacjaSMS.c ****       tryb_clip = FALSE; // DTMF
 288:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_CLIP_DTMF);
 289:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 290:interpretacjaSMS.c ****     } else {
 291:interpretacjaSMS.c ****       // Kompatybilnosc wsteczna: CLOSE bez parametru
 292:interpretacjaSMS.c ****       tryb_pracy = 0; // Prywatny
 293:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_PRACY);
 294:interpretacjaSMS.c **** 
 295:interpretacjaSMS.c ****       // Jeli SKRYBA bya wczona, wycz j automatycznie
 296:interpretacjaSMS.c ****       if (skryba_wlaczona) {
 297:interpretacjaSMS.c ****         zapisz_znak_w_eeprom(0, ADRES_EEPROM_SKRYBA);
 298:interpretacjaSMS.c ****         skryba_wlaczona = FALSE;
 299:interpretacjaSMS.c ****       }
 300:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 301:interpretacjaSMS.c ****     }
 302:interpretacjaSMS.c ****   }
 303:interpretacjaSMS.c ****   case INSTRUKCJA_SET: {
 304:interpretacjaSMS.c ****     long h, m, s;
 305:interpretacjaSMS.c ****     if (!pobierz_long(&sms, &h) || !pomin_znak(&sms, ':') ||
 306:interpretacjaSMS.c ****         !pobierz_long(&sms, &m) || !pomin_znak(&sms, ':') ||
 307:interpretacjaSMS.c ****         !pobierz_long(&sms, &s))
 308:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 309:interpretacjaSMS.c **** 
 310:interpretacjaSMS.c ****     if (h < 0 || h > 23 || m < 0 || m > 59 || s < 0 || s > 59)
 311:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 312:interpretacjaSMS.c **** 
 313:interpretacjaSMS.c ****     // Format: AT+CCLK="yy/MM/dd,hh:mm:ss+zz"
 314:interpretacjaSMS.c ****     // Uywamy fikcyjnej daty 24/01/01
 315:interpretacjaSMS.c ****     sprintf(bufor_ustaw_czas, "+CCLK=\"24/01/01,%02d:%02d:%02d+04\"", (int)h,
 316:interpretacjaSMS.c ****             (int)m, (int)s);
 317:interpretacjaSMS.c ****     dodaj_komende(KOMENDA_KOLEJKI_USTAW_ZEGAR_SIM900);
 318:interpretacjaSMS.c **** 
 319:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 320:interpretacjaSMS.c ****   }
 321:interpretacjaSMS.c ****   case INSTRUKCJA_TIME: {
 322:interpretacjaSMS.c ****     // Sprawdzenie czy to komenda OFF
 323:interpretacjaSMS.c ****     przeskocz_biale_znaki(sms);
 324:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("OFF"), 3) == 0) {
 325:interpretacjaSMS.c ****       // Zapisz wartosci wylaczajace (np. 0xFF)
 326:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_START_H);
 327:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_START_M);
 328:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_STOP_H);
 329:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_STOP_M);
 330:interpretacjaSMS.c **** 
 331:interpretacjaSMS.c ****       // Aktualizuj zmienne w RAM
 332:interpretacjaSMS.c ****       czas_start_h = 0xFF;
 333:interpretacjaSMS.c ****       czas_start_m = 0xFF;
 334:interpretacjaSMS.c ****       czas_stop_h = 0xFF;
 335:interpretacjaSMS.c ****       czas_stop_m = 0xFF;
 336:interpretacjaSMS.c ****       blokada_sterowania_czasowa = FALSE;
 337:interpretacjaSMS.c **** 
 338:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 339:interpretacjaSMS.c ****     }
 340:interpretacjaSMS.c **** 
 341:interpretacjaSMS.c ****     long sh, sm, eh, em;
 342:interpretacjaSMS.c ****     // Pobierz HH:MM (start)
 343:interpretacjaSMS.c ****     if (!pobierz_long(&sms, &sh) || !pomin_znak(&sms, ':') ||
 344:interpretacjaSMS.c ****         !pobierz_long(&sms, &sm))
 345:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 346:interpretacjaSMS.c **** 
 347:interpretacjaSMS.c ****     // Pobierz separator (spacja lub inny bialy znak juz pominiety przez
 348:interpretacjaSMS.c ****     // pobierz_long/pomin_znak, ale tu moze byc #) Uzytkownik podal przyklad:
 349:interpretacjaSMS.c ****     // HH:MM #HH:MM Sprawdzmy czy jest opcjonalny separator np '#'
 350:interpretacjaSMS.c ****     if (czy_jest_znak(&sms, '#')) { /* ok, pominelismy */
 351:interpretacjaSMS.c ****     }
 352:interpretacjaSMS.c **** 
 353:interpretacjaSMS.c ****     // Pobierz HH:MM (stop)
 354:interpretacjaSMS.c ****     if (!pobierz_long(&sms, &eh) || !pomin_znak(&sms, ':') ||
 355:interpretacjaSMS.c ****         !pobierz_long(&sms, &em))
 356:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 357:interpretacjaSMS.c **** 
 358:interpretacjaSMS.c ****     if (sh < 0 || sh > 23 || sm < 0 || sm > 59 || eh < 0 || eh > 23 || em < 0 ||
 359:interpretacjaSMS.c ****         em > 59)
 360:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 361:interpretacjaSMS.c **** 
 362:interpretacjaSMS.c ****     // Zapis do EEPROM
 363:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)sh, ADRES_EEPROM_CZAS_START_H);
 364:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)sm, ADRES_EEPROM_CZAS_START_M);
 365:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)eh, ADRES_EEPROM_CZAS_STOP_H);
 366:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)em, ADRES_EEPROM_CZAS_STOP_M);
 367:interpretacjaSMS.c **** 
 368:interpretacjaSMS.c ****     // Aktualizuj zmienne w RAM
 369:interpretacjaSMS.c ****     czas_start_h = (uchar)sh;
 370:interpretacjaSMS.c ****     czas_start_m = (uchar)sm;
 371:interpretacjaSMS.c ****     czas_stop_h = (uchar)eh;
 372:interpretacjaSMS.c ****     czas_stop_m = (uchar)em;
 373:interpretacjaSMS.c **** 
 374:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 375:interpretacjaSMS.c ****   }
 376:interpretacjaSMS.c ****   case INSTRUKCJA_SKRYBA: {
 377:interpretacjaSMS.c ****     przeskocz_biale_znaki(sms);
 378:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("ON"), 2) == 0) {
 379:interpretacjaSMS.c ****       sms += 2; // Przeskocz "ON"
 380:interpretacjaSMS.c **** 
 381:interpretacjaSMS.c ****       // Sprawdz czy jest opcjonalny parametr (liczba)
 382:interpretacjaSMS.c ****       long limit_value = 800; // Domyslny
 383:interpretacjaSMS.c ****       przeskocz_biale_znaki(sms);
 384:interpretacjaSMS.c ****       if (*sms >= '0' && *sms <= '9') {
 385:interpretacjaSMS.c ****         // Jest liczba - sprobuj ja odczytac
 386:interpretacjaSMS.c ****         if (pobierz_long(&sms, &limit_value)) {
 387:interpretacjaSMS.c ****           // Walidacja zakresu
 388:interpretacjaSMS.c ****           if (limit_value < 1 ||
 389:interpretacjaSMS.c ****               limit_value > MAX_LICZBA_NUMEROW_TELEFONOW_BRAMA) {
 390:interpretacjaSMS.c ****             return INTERPRETACJA_SMS_BLEDNE_DANE;
 391:interpretacjaSMS.c ****           }
 392:interpretacjaSMS.c ****         } else {
 393:interpretacjaSMS.c ****           return INTERPRETACJA_SMS_BLEDNE_DANE;
 1094               		.loc 1 393 0 is_stmt 1
 1095 0440 82E0      		ldi r24,lo8(2)
 1096 0442 00C0      		rjmp .L53
 1097               	.LVL94:
 1098               	.L74:
 1099 0444 3150      		subi r19,lo8(-(-1))
 1100               	.LBE10:
 1101               	.LBB12:
 194:interpretacjaSMS.c ****       const uchar znak = bufor_eeprom[(sms - sms_pom) + i];
 1102               		.loc 1 194 0 discriminator 2
 1103 0446 01F4      		brne .L75
 1104               	.LBE12:
 199:interpretacjaSMS.c ****            LICZBA_BAJTOW_KODU_DOSTEPU);
 1105               		.loc 1 199 0
 1106 0448 8050      		subi r24,lo8(-(bufor_eeprom))
 1107 044a 9040      		sbci r25,hi8(-(bufor_eeprom))
 1108 044c FC01      		movw r30,r24
 1109               	.LVL95:
 1110 044e 4081      		ld r20,Z
 1111 0450 5181      		ldd r21,Z+1
 1112 0452 6281      		ldd r22,Z+2
 1113 0454 7381      		ldd r23,Z+3
 1114 0456 4093 0000 		sts kod_modulu,r20
 1115 045a 5093 0000 		sts kod_modulu+1,r21
 1116 045e 6093 0000 		sts kod_modulu+2,r22
 1117 0462 7093 0000 		sts kod_modulu+3,r23
 201:interpretacjaSMS.c ****                           (uint)ADRES_EEPROM_KOD_DOSTEPU,
 1118               		.loc 1 201 0
 1119 0466 44E0      		ldi r20,lo8(4)
 1120 0468 61E0      		ldi r22,lo8(1)
 1121 046a 70E0      		ldi r23,0
 1122 046c 0E94 0000 		call zapisz_znaki_w_eeprom
 1123               	.LVL96:
 1124               	.L148:
 1125               	.LBB13:
 394:interpretacjaSMS.c ****         }
 395:interpretacjaSMS.c ****       }
 396:interpretacjaSMS.c **** 
 397:interpretacjaSMS.c ****       // Sprawdz czy jest miejsce na liscie
 398:interpretacjaSMS.c ****       uchar jest_miejsce = FALSE;
 399:interpretacjaSMS.c ****       for (uint i = 0; i < MAX_LICZBA_NUMEROW_TELEFONOW_BRAMA; ++i) {
 400:interpretacjaSMS.c ****         if (!czy_aktywny_numer_telefonu_brama(i)) {
 401:interpretacjaSMS.c ****           jest_miejsce = TRUE;
 402:interpretacjaSMS.c ****           break;
 403:interpretacjaSMS.c ****         }
 404:interpretacjaSMS.c ****       }
 405:interpretacjaSMS.c **** 
 406:interpretacjaSMS.c ****       if (!jest_miejsce) {
 407:interpretacjaSMS.c ****         // Brak miejsca - nie wlaczaj Skryby
 408:interpretacjaSMS.c ****         return INTERPRETACJA_SMS_BLEDNE_DANE;
 409:interpretacjaSMS.c ****       }
 410:interpretacjaSMS.c **** 
 411:interpretacjaSMS.c ****       // Zapisz obecny tryb przed wczeniem SKRYBA
 412:interpretacjaSMS.c ****       uchar obecny_tryb =
 413:interpretacjaSMS.c ****           eeprom_read_byte((const uint8_t *)ADRES_EEPROM_TRYB_PRACY);
 414:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(obecny_tryb, ADRES_EEPROM_SKRYBA_TRYB_BACKUP);
 415:interpretacjaSMS.c **** 
 416:interpretacjaSMS.c ****       // Zapisz limit do EEPROM (2 bajty)
 417:interpretacjaSMS.c ****       zapisz_znak_w_eeprom((uchar)(limit_value & 0xFF),
 418:interpretacjaSMS.c ****                            ADRES_EEPROM_SKRYBA_LIMIT_L);
 419:interpretacjaSMS.c ****       zapisz_znak_w_eeprom((uchar)((limit_value >> 8) & 0xFF),
 420:interpretacjaSMS.c ****                            ADRES_EEPROM_SKRYBA_LIMIT_H);
 421:interpretacjaSMS.c ****       skryba_limit = (uint)limit_value; // Aktualizuj RAM
 422:interpretacjaSMS.c **** 
 423:interpretacjaSMS.c ****       // Wcz SKRYBA
 424:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_SKRYBA);
 425:interpretacjaSMS.c ****       skryba_wlaczona = TRUE; // Aktualizuj RAM natychmiast
 426:interpretacjaSMS.c **** 
 427:interpretacjaSMS.c ****       // Automatycznie ustaw OPEN CLIP (tryb publiczny = 1)
 428:interpretacjaSMS.c ****       tryb_pracy = 1; // Aktualizuj RAM
 429:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 430:interpretacjaSMS.c **** 
 431:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 1126               		.loc 1 431 0
 1127 0470 83E0      		ldi r24,lo8(3)
 1128 0472 00C0      		rjmp .L53
 1129               	.LVL97:
 1130               	.L64:
 1131               	.LBE13:
 212:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_USER;
 1132               		.loc 1 212 0
 1133 0474 4EE0      		ldi r20,lo8(14)
 1134 0476 60E0      		ldi r22,lo8(numer_telefonu_do_ktorego_dzwonic)
 1135 0478 70E0      		ldi r23,hi8(numer_telefonu_do_ktorego_dzwonic)
 1136 047a CE01      		movw r24,r28
 1137 047c 4196      		adiw r24,17
 1138 047e 0E94 0000 		call pobierz_numer_telefonu
 1139               	.LVL98:
 1140 0482 8111      		cpse r24,__zero_reg__
 1141 0484 00C0      		rjmp .L103
 217:interpretacjaSMS.c ****   }
 1142               		.loc 1 217 0
 1143 0486 86E0      		ldi r24,lo8(6)
 1144               	.LVL99:
 1145               	.L53:
 1146               	/* epilogue start */
 432:interpretacjaSMS.c ****     } else if (strncasecmp_P(sms, PSTR("OFF"), 3) == 0) {
 433:interpretacjaSMS.c ****       // Wycz SKRYBA
 434:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_SKRYBA);
 435:interpretacjaSMS.c ****       skryba_wlaczona = FALSE; // Aktualizuj RAM natychmiast
 436:interpretacjaSMS.c **** 
 437:interpretacjaSMS.c ****       // Przywr poprzedni tryb
 438:interpretacjaSMS.c ****       uchar poprzedni_tryb =
 439:interpretacjaSMS.c ****           eeprom_read_byte((const uint8_t *)ADRES_EEPROM_SKRYBA_TRYB_BACKUP);
 440:interpretacjaSMS.c ****       if (poprzedni_tryb != 0xFF) {  // Jeli by zapisany
 441:interpretacjaSMS.c ****         tryb_pracy = poprzedni_tryb; // Aktualizuj RAM
 442:interpretacjaSMS.c ****         zapisz_znak_w_eeprom(poprzedni_tryb, ADRES_EEPROM_TRYB_PRACY);
 443:interpretacjaSMS.c ****       }
 444:interpretacjaSMS.c **** 
 445:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 446:interpretacjaSMS.c ****     }
 447:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_BLEDNE_DANE;
 448:interpretacjaSMS.c ****   }
 449:interpretacjaSMS.c ****   case INSTRUKCJA_DEBUG: {
 450:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_DEBUG;
 451:interpretacjaSMS.c ****   }
 452:interpretacjaSMS.c ****   case INSTRUKCJA_START: {
 453:interpretacjaSMS.c ****     blokada_systemu = FALSE;
 454:interpretacjaSMS.c ****     zapisz_znak_w_eeprom(0, ADRES_EEPROM_BLOKADA_SYSTEMU);
 455:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 456:interpretacjaSMS.c ****   }
 457:interpretacjaSMS.c ****   case INSTRUKCJA_STOP: {
 458:interpretacjaSMS.c ****     blokada_systemu = TRUE;
 459:interpretacjaSMS.c ****     zapisz_znak_w_eeprom(1, ADRES_EEPROM_BLOKADA_SYSTEMU);
 460:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 461:interpretacjaSMS.c ****   }
 462:interpretacjaSMS.c ****   }
 463:interpretacjaSMS.c ****   return INTERPRETACJA_SMS_ZLY_FORMAT;
 464:interpretacjaSMS.c **** }
 1147               		.loc 1 464 0
 1148 0488 6296      		adiw r28,18
 1149 048a 0FB6      		in __tmp_reg__,__SREG__
 1150 048c F894      		cli
 1151 048e DEBF      		out __SP_H__,r29
 1152 0490 0FBE      		out __SREG__,__tmp_reg__
 1153 0492 CDBF      		out __SP_L__,r28
 1154 0494 DF91      		pop r29
 1155 0496 CF91      		pop r28
 1156 0498 1F91      		pop r17
 1157 049a 0F91      		pop r16
 1158 049c FF90      		pop r15
 1159 049e EF90      		pop r14
 1160 04a0 0895      		ret
 1161               	.LVL100:
 1162               	.L61:
 220:interpretacjaSMS.c ****                                    14))
 1163               		.loc 1 220 0
 1164 04a2 4EE0      		ldi r20,lo8(14)
 1165 04a4 60E0      		ldi r22,lo8(numer_telefonu_do_ktorego_dzwonic)
 1166 04a6 70E0      		ldi r23,hi8(numer_telefonu_do_ktorego_dzwonic)
 1167 04a8 CE01      		movw r24,r28
 1168 04aa 4196      		adiw r24,17
 1169 04ac 0E94 0000 		call pobierz_numer_telefonu
 1170               	.LVL101:
 1171 04b0 8823      		tst r24
 1172 04b2 01F0      		breq .L96
 223:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1173               		.loc 1 223 0
 1174 04b4 85E8      		ldi r24,lo8(-123)
 1175               	.L154:
 230:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1176               		.loc 1 230 0
 1177 04b6 0E94 0000 		call dodaj_komende
 1178               	.LVL102:
 1179 04ba 00C0      		rjmp .L148
 1180               	.L62:
 227:interpretacjaSMS.c ****                                    14))
 1181               		.loc 1 227 0
 1182 04bc 4EE0      		ldi r20,lo8(14)
 1183 04be 60E0      		ldi r22,lo8(numer_telefonu_do_ktorego_dzwonic)
 1184 04c0 70E0      		ldi r23,hi8(numer_telefonu_do_ktorego_dzwonic)
 1185 04c2 CE01      		movw r24,r28
 1186 04c4 4196      		adiw r24,17
 1187 04c6 0E94 0000 		call pobierz_numer_telefonu
 1188               	.LVL103:
 1189 04ca 8823      		tst r24
 1190 04cc 01F4      		brne .+2
 1191 04ce 00C0      		rjmp .L96
 230:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1192               		.loc 1 230 0
 1193 04d0 87E8      		ldi r24,lo8(-121)
 1194 04d2 00C0      		rjmp .L154
 1195               	.L65:
 1196               	.LBB14:
 237:interpretacjaSMS.c ****         interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CLIP, INSTRUKCJA_DTMF + 1);
 1197               		.loc 1 237 0
 1198 04d4 4AE0      		ldi r20,lo8(10)
 1199 04d6 68E0      		ldi r22,lo8(8)
 1200 04d8 CE01      		movw r24,r28
 1201 04da 4196      		adiw r24,17
 1202 04dc 0E94 0000 		call interpretuj_instrukcje_sms
 1203               	.LVL104:
 239:interpretacjaSMS.c ****       tryb_pracy = 1; // Publiczny
 1204               		.loc 1 239 0
 1205 04e0 8830      		cpi r24,lo8(8)
 1206 04e2 01F4      		brne .L77
 240:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 1207               		.loc 1 240 0
 1208 04e4 81E0      		ldi r24,lo8(1)
 1209               	.LVL105:
 1210 04e6 8093 0000 		sts tryb_pracy,r24
 241:interpretacjaSMS.c **** 
 1211               		.loc 1 241 0
 1212 04ea 6EEF      		ldi r22,lo8(-2)
 1213 04ec 7FE0      		ldi r23,lo8(15)
 1214               	.L156:
 1215               	.LBE14:
 1216               	.LBB15:
 278:interpretacjaSMS.c **** 
 1217               		.loc 1 278 0
 1218 04ee 0E94 0000 		call zapisz_znak_w_eeprom
 1219               	.LVL106:
 280:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_CLIP_DTMF);
 1220               		.loc 1 280 0
 1221 04f2 8FEF      		ldi r24,lo8(-1)
 1222 04f4 8093 0000 		sts tryb_clip,r24
 281:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 1223               		.loc 1 281 0
 1224 04f8 6FEF      		ldi r22,lo8(-1)
 1225 04fa 7FE0      		ldi r23,lo8(15)
 1226               	.L152:
 1227               	.LBE15:
 459:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1228               		.loc 1 459 0
 1229 04fc 81E0      		ldi r24,lo8(1)
 1230 04fe 00C0      		rjmp .L149
 1231               	.LVL107:
 1232               	.L77:
 1233               	.LBB16:
 246:interpretacjaSMS.c ****       tryb_pracy = 1; // Publiczny
 1234               		.loc 1 246 0
 1235 0500 8930      		cpi r24,lo8(9)
 1236 0502 01F0      		breq .+2
 1237 0504 00C0      		rjmp .L151
 247:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 1238               		.loc 1 247 0
 1239 0506 81E0      		ldi r24,lo8(1)
 1240               	.LVL108:
 1241 0508 8093 0000 		sts tryb_pracy,r24
 248:interpretacjaSMS.c **** 
 1242               		.loc 1 248 0
 1243 050c 6EEF      		ldi r22,lo8(-2)
 1244 050e 7FE0      		ldi r23,lo8(15)
 1245               	.L155:
 1246               	.LBE16:
 1247               	.LBB17:
 285:interpretacjaSMS.c **** 
 1248               		.loc 1 285 0
 1249 0510 0E94 0000 		call zapisz_znak_w_eeprom
 1250               	.LVL109:
 287:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_CLIP_DTMF);
 1251               		.loc 1 287 0
 1252 0514 1092 0000 		sts tryb_clip,__zero_reg__
 288:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_POPRAWNY;
 1253               		.loc 1 288 0
 1254 0518 6FEF      		ldi r22,lo8(-1)
 1255 051a 7FE0      		ldi r23,lo8(15)
 1256               	.L153:
 1257               	.LBE17:
 454:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1258               		.loc 1 454 0
 1259 051c 80E0      		ldi r24,0
 1260               	.LVL110:
 1261               	.L149:
 1262               	.LBB18:
 429:interpretacjaSMS.c **** 
 1263               		.loc 1 429 0
 1264 051e 0E94 0000 		call zapisz_znak_w_eeprom
 1265               	.LVL111:
 1266 0522 00C0      		rjmp .L148
 1267               	.LVL112:
 1268               	.L66:
 1269               	.LBE18:
 1270               	.LBB19:
 274:interpretacjaSMS.c ****         interpretuj_instrukcje_sms(&sms, INSTRUKCJA_CLIP, INSTRUKCJA_DTMF + 1);
 1271               		.loc 1 274 0
 1272 0524 4AE0      		ldi r20,lo8(10)
 1273 0526 68E0      		ldi r22,lo8(8)
 1274 0528 CE01      		movw r24,r28
 1275 052a 4196      		adiw r24,17
 1276 052c 0E94 0000 		call interpretuj_instrukcje_sms
 1277               	.LVL113:
 277:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0, ADRES_EEPROM_TRYB_PRACY);
 1278               		.loc 1 277 0
 1279 0530 1092 0000 		sts tryb_pracy,__zero_reg__
 278:interpretacjaSMS.c **** 
 1280               		.loc 1 278 0
 1281 0534 6EEF      		ldi r22,lo8(-2)
 1282 0536 7FE0      		ldi r23,lo8(15)
 276:interpretacjaSMS.c ****       tryb_pracy = 0; // Prywatny
 1283               		.loc 1 276 0
 1284 0538 8830      		cpi r24,lo8(8)
 1285 053a 01F4      		brne .L79
 278:interpretacjaSMS.c **** 
 1286               		.loc 1 278 0
 1287 053c 80E0      		ldi r24,0
 1288               	.LVL114:
 1289 053e 00C0      		rjmp .L156
 1290               	.LVL115:
 1291               	.L79:
 283:interpretacjaSMS.c ****       tryb_pracy = 0; // Prywatny
 1292               		.loc 1 283 0
 1293 0540 8930      		cpi r24,lo8(9)
 1294 0542 01F4      		brne .L80
 285:interpretacjaSMS.c **** 
 1295               		.loc 1 285 0
 1296 0544 80E0      		ldi r24,0
 1297               	.LVL116:
 1298 0546 00C0      		rjmp .L155
 1299               	.LVL117:
 1300               	.L80:
 293:interpretacjaSMS.c **** 
 1301               		.loc 1 293 0
 1302 0548 80E0      		ldi r24,0
 1303               	.LVL118:
 1304 054a 0E94 0000 		call zapisz_znak_w_eeprom
 1305               	.LVL119:
 296:interpretacjaSMS.c ****         zapisz_znak_w_eeprom(0, ADRES_EEPROM_SKRYBA);
 1306               		.loc 1 296 0
 1307 054e 8091 0000 		lds r24,skryba_wlaczona
 1308 0552 8823      		tst r24
 1309 0554 01F4      		brne .+2
 1310 0556 00C0      		rjmp .L148
 297:interpretacjaSMS.c ****         skryba_wlaczona = FALSE;
 1311               		.loc 1 297 0
 1312 0558 69EF      		ldi r22,lo8(-7)
 1313 055a 7FE0      		ldi r23,lo8(15)
 1314 055c 80E0      		ldi r24,0
 1315 055e 0E94 0000 		call zapisz_znak_w_eeprom
 1316               	.LVL120:
 298:interpretacjaSMS.c ****       }
 1317               		.loc 1 298 0
 1318 0562 1092 0000 		sts skryba_wlaczona,__zero_reg__
 1319 0566 00C0      		rjmp .L148
 1320               	.L67:
 1321               	.LBE19:
 1322               	.LBB20:
 305:interpretacjaSMS.c ****         !pobierz_long(&sms, &m) || !pomin_znak(&sms, ':') ||
 1323               		.loc 1 305 0
 1324 0568 BE01      		movw r22,r28
 1325 056a 675F      		subi r22,-9
 1326 056c 7F4F      		sbci r23,-1
 1327 056e CE01      		movw r24,r28
 1328 0570 4196      		adiw r24,17
 1329 0572 0E94 0000 		call pobierz_long
 1330               	.LVL121:
 1331 0576 8823      		tst r24
 1332 0578 01F4      		brne .+2
 1333 057a 00C0      		rjmp .L96
 305:interpretacjaSMS.c ****         !pobierz_long(&sms, &m) || !pomin_znak(&sms, ':') ||
 1334               		.loc 1 305 0 is_stmt 0 discriminator 1
 1335 057c 6AE3      		ldi r22,lo8(58)
 1336 057e CE01      		movw r24,r28
 1337 0580 4196      		adiw r24,17
 1338 0582 0E94 0000 		call pomin_znak
 1339               	.LVL122:
 1340 0586 8823      		tst r24
 1341 0588 01F4      		brne .+2
 1342 058a 00C0      		rjmp .L96
 306:interpretacjaSMS.c ****         !pobierz_long(&sms, &s))
 1343               		.loc 1 306 0 is_stmt 1 discriminator 2
 1344 058c BE01      		movw r22,r28
 1345 058e 6B5F      		subi r22,-5
 1346 0590 7F4F      		sbci r23,-1
 1347 0592 CE01      		movw r24,r28
 1348 0594 4196      		adiw r24,17
 1349 0596 0E94 0000 		call pobierz_long
 1350               	.LVL123:
 305:interpretacjaSMS.c ****         !pobierz_long(&sms, &m) || !pomin_znak(&sms, ':') ||
 1351               		.loc 1 305 0 discriminator 2
 1352 059a 8823      		tst r24
 1353 059c 01F4      		brne .+2
 1354 059e 00C0      		rjmp .L96
 306:interpretacjaSMS.c ****         !pobierz_long(&sms, &s))
 1355               		.loc 1 306 0
 1356 05a0 6AE3      		ldi r22,lo8(58)
 1357 05a2 CE01      		movw r24,r28
 1358 05a4 4196      		adiw r24,17
 1359 05a6 0E94 0000 		call pomin_znak
 1360               	.LVL124:
 1361 05aa 8823      		tst r24
 1362 05ac 01F4      		brne .+2
 1363 05ae 00C0      		rjmp .L96
 307:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1364               		.loc 1 307 0 discriminator 1
 1365 05b0 BE01      		movw r22,r28
 1366 05b2 6F5F      		subi r22,-1
 1367 05b4 7F4F      		sbci r23,-1
 1368 05b6 CE01      		movw r24,r28
 1369 05b8 4196      		adiw r24,17
 1370 05ba 0E94 0000 		call pobierz_long
 1371               	.LVL125:
 306:interpretacjaSMS.c ****         !pobierz_long(&sms, &s))
 1372               		.loc 1 306 0 discriminator 1
 1373 05be 8823      		tst r24
 1374 05c0 01F4      		brne .+2
 1375 05c2 00C0      		rjmp .L96
 310:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1376               		.loc 1 310 0
 1377 05c4 8985      		ldd r24,Y+9
 1378 05c6 9A85      		ldd r25,Y+10
 1379 05c8 AB85      		ldd r26,Y+11
 1380 05ca BC85      		ldd r27,Y+12
 1381 05cc 8831      		cpi r24,24
 1382 05ce 9105      		cpc r25,__zero_reg__
 1383 05d0 A105      		cpc r26,__zero_reg__
 1384 05d2 B105      		cpc r27,__zero_reg__
 1385 05d4 00F0      		brlo .+2
 1386 05d6 00C0      		rjmp .L96
 310:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1387               		.loc 1 310 0 is_stmt 0 discriminator 1
 1388 05d8 4D81      		ldd r20,Y+5
 1389 05da 5E81      		ldd r21,Y+6
 1390 05dc 6F81      		ldd r22,Y+7
 1391 05de 7885      		ldd r23,Y+8
 1392 05e0 4C33      		cpi r20,60
 1393 05e2 5105      		cpc r21,__zero_reg__
 1394 05e4 6105      		cpc r22,__zero_reg__
 1395 05e6 7105      		cpc r23,__zero_reg__
 1396 05e8 00F0      		brlo .+2
 1397 05ea 00C0      		rjmp .L96
 310:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1398               		.loc 1 310 0 discriminator 3
 1399 05ec 0981      		ldd r16,Y+1
 1400 05ee 1A81      		ldd r17,Y+2
 1401 05f0 2B81      		ldd r18,Y+3
 1402 05f2 3C81      		ldd r19,Y+4
 1403               	.LVL126:
 1404 05f4 0C33      		cpi r16,60
 1405 05f6 1105      		cpc r17,__zero_reg__
 1406 05f8 2105      		cpc r18,__zero_reg__
 1407 05fa 3105      		cpc r19,__zero_reg__
 1408 05fc 00F0      		brlo .+2
 1409 05fe 00C0      		rjmp .L96
 315:interpretacjaSMS.c ****             (int)m, (int)s);
 1410               		.loc 1 315 0 is_stmt 1
 1411 0600 1F93      		push r17
 1412 0602 0F93      		push r16
 1413 0604 5F93      		push r21
 1414 0606 4F93      		push r20
 1415 0608 9F93      		push r25
 1416 060a 8F93      		push r24
 1417 060c 80E0      		ldi r24,lo8(.LC0)
 1418 060e 90E0      		ldi r25,hi8(.LC0)
 1419 0610 9F93      		push r25
 1420 0612 8F93      		push r24
 1421 0614 80E0      		ldi r24,lo8(bufor_ustaw_czas)
 1422 0616 90E0      		ldi r25,hi8(bufor_ustaw_czas)
 1423 0618 9F93      		push r25
 1424 061a 8F93      		push r24
 1425 061c 0E94 0000 		call sprintf
 1426               	.LVL127:
 317:interpretacjaSMS.c **** 
 1427               		.loc 1 317 0
 1428 0620 8DEF      		ldi r24,lo8(-3)
 1429 0622 0E94 0000 		call dodaj_komende
 1430               	.LVL128:
 319:interpretacjaSMS.c ****   }
 1431               		.loc 1 319 0
 1432 0626 0FB6      		in __tmp_reg__,__SREG__
 1433 0628 F894      		cli
 1434 062a DEBF      		out __SP_H__,r29
 1435 062c 0FBE      		out __SREG__,__tmp_reg__
 1436 062e CDBF      		out __SP_L__,r28
 1437 0630 00C0      		rjmp .L148
 1438               	.L85:
 1439               	.LBE20:
 1440               	.LBB21:
 323:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("OFF"), 3) == 0) {
 1441               		.loc 1 323 0 discriminator 2
 1442 0632 0F5F      		subi r16,-1
 1443 0634 1F4F      		sbci r17,-1
 1444 0636 1A8B      		std Y+18,r17
 1445 0638 098B      		std Y+17,r16
 1446               	.L68:
 323:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("OFF"), 3) == 0) {
 1447               		.loc 1 323 0 is_stmt 0 discriminator 1
 1448 063a 0989      		ldd r16,Y+17
 1449 063c 1A89      		ldd r17,Y+18
 1450 063e F801      		movw r30,r16
 1451 0640 8081      		ld r24,Z
 1452 0642 90E0      		ldi r25,0
 1453 0644 0E94 0000 		call isspace
 1454               	.LVL129:
 1455 0648 892B      		or r24,r25
 1456 064a 01F4      		brne .L85
 324:interpretacjaSMS.c ****       // Zapisz wartosci wylaczajace (np. 0xFF)
 1457               		.loc 1 324 0 is_stmt 1
 1458 064c 43E0      		ldi r20,lo8(3)
 1459 064e 50E0      		ldi r21,0
 1460 0650 60E0      		ldi r22,lo8(__c.2770)
 1461 0652 70E0      		ldi r23,hi8(__c.2770)
 1462 0654 C801      		movw r24,r16
 1463 0656 0E94 0000 		call strncasecmp_P
 1464               	.LVL130:
 1465 065a 892B      		or r24,r25
 1466 065c 01F4      		brne .L86
 326:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_START_M);
 1467               		.loc 1 326 0
 1468 065e 6AEF      		ldi r22,lo8(-6)
 1469 0660 7FE0      		ldi r23,lo8(15)
 1470 0662 8FEF      		ldi r24,lo8(-1)
 1471 0664 0E94 0000 		call zapisz_znak_w_eeprom
 1472               	.LVL131:
 327:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_STOP_H);
 1473               		.loc 1 327 0
 1474 0668 6BEF      		ldi r22,lo8(-5)
 1475 066a 7FE0      		ldi r23,lo8(15)
 1476 066c 8FEF      		ldi r24,lo8(-1)
 1477 066e 0E94 0000 		call zapisz_znak_w_eeprom
 1478               	.LVL132:
 328:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(0xFF, ADRES_EEPROM_CZAS_STOP_M);
 1479               		.loc 1 328 0
 1480 0672 6CEF      		ldi r22,lo8(-4)
 1481 0674 7FE0      		ldi r23,lo8(15)
 1482 0676 8FEF      		ldi r24,lo8(-1)
 1483 0678 0E94 0000 		call zapisz_znak_w_eeprom
 1484               	.LVL133:
 329:interpretacjaSMS.c **** 
 1485               		.loc 1 329 0
 1486 067c 6DEF      		ldi r22,lo8(-3)
 1487 067e 7FE0      		ldi r23,lo8(15)
 1488 0680 8FEF      		ldi r24,lo8(-1)
 1489 0682 0E94 0000 		call zapisz_znak_w_eeprom
 1490               	.LVL134:
 332:interpretacjaSMS.c ****       czas_start_m = 0xFF;
 1491               		.loc 1 332 0
 1492 0686 8FEF      		ldi r24,lo8(-1)
 1493 0688 8093 0000 		sts czas_start_h,r24
 333:interpretacjaSMS.c ****       czas_stop_h = 0xFF;
 1494               		.loc 1 333 0
 1495 068c 8093 0000 		sts czas_start_m,r24
 334:interpretacjaSMS.c ****       czas_stop_m = 0xFF;
 1496               		.loc 1 334 0
 1497 0690 8093 0000 		sts czas_stop_h,r24
 335:interpretacjaSMS.c ****       blokada_sterowania_czasowa = FALSE;
 1498               		.loc 1 335 0
 1499 0694 8093 0000 		sts czas_stop_m,r24
 336:interpretacjaSMS.c **** 
 1500               		.loc 1 336 0
 1501 0698 1092 0000 		sts blokada_sterowania_czasowa,__zero_reg__
 1502 069c 00C0      		rjmp .L148
 1503               	.L86:
 343:interpretacjaSMS.c ****         !pobierz_long(&sms, &sm))
 1504               		.loc 1 343 0
 1505 069e BE01      		movw r22,r28
 1506 06a0 635F      		subi r22,-13
 1507 06a2 7F4F      		sbci r23,-1
 1508 06a4 CE01      		movw r24,r28
 1509 06a6 4196      		adiw r24,17
 1510 06a8 0E94 0000 		call pobierz_long
 1511               	.LVL135:
 1512 06ac 8823      		tst r24
 1513 06ae 01F4      		brne .+2
 1514 06b0 00C0      		rjmp .L96
 343:interpretacjaSMS.c ****         !pobierz_long(&sms, &sm))
 1515               		.loc 1 343 0 is_stmt 0 discriminator 1
 1516 06b2 6AE3      		ldi r22,lo8(58)
 1517 06b4 CE01      		movw r24,r28
 1518 06b6 4196      		adiw r24,17
 1519 06b8 0E94 0000 		call pomin_znak
 1520               	.LVL136:
 1521 06bc 8823      		tst r24
 1522 06be 01F4      		brne .+2
 1523 06c0 00C0      		rjmp .L96
 344:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1524               		.loc 1 344 0 is_stmt 1 discriminator 2
 1525 06c2 BE01      		movw r22,r28
 1526 06c4 675F      		subi r22,-9
 1527 06c6 7F4F      		sbci r23,-1
 1528 06c8 CE01      		movw r24,r28
 1529 06ca 4196      		adiw r24,17
 1530 06cc 0E94 0000 		call pobierz_long
 1531               	.LVL137:
 343:interpretacjaSMS.c ****         !pobierz_long(&sms, &sm))
 1532               		.loc 1 343 0 discriminator 2
 1533 06d0 8823      		tst r24
 1534 06d2 01F4      		brne .+2
 1535 06d4 00C0      		rjmp .L96
 350:interpretacjaSMS.c ****     }
 1536               		.loc 1 350 0
 1537 06d6 63E2      		ldi r22,lo8(35)
 1538 06d8 CE01      		movw r24,r28
 1539 06da 4196      		adiw r24,17
 1540 06dc 0E94 0000 		call czy_jest_znak
 1541               	.LVL138:
 354:interpretacjaSMS.c ****         !pobierz_long(&sms, &em))
 1542               		.loc 1 354 0
 1543 06e0 BE01      		movw r22,r28
 1544 06e2 6B5F      		subi r22,-5
 1545 06e4 7F4F      		sbci r23,-1
 1546 06e6 CE01      		movw r24,r28
 1547 06e8 4196      		adiw r24,17
 1548 06ea 0E94 0000 		call pobierz_long
 1549               	.LVL139:
 1550 06ee 8823      		tst r24
 1551 06f0 01F4      		brne .+2
 1552 06f2 00C0      		rjmp .L96
 354:interpretacjaSMS.c ****         !pobierz_long(&sms, &em))
 1553               		.loc 1 354 0 is_stmt 0 discriminator 1
 1554 06f4 6AE3      		ldi r22,lo8(58)
 1555 06f6 CE01      		movw r24,r28
 1556 06f8 4196      		adiw r24,17
 1557 06fa 0E94 0000 		call pomin_znak
 1558               	.LVL140:
 1559 06fe 8823      		tst r24
 1560 0700 01F4      		brne .+2
 1561 0702 00C0      		rjmp .L96
 355:interpretacjaSMS.c ****       return INTERPRETACJA_SMS_BLEDNE_DANE;
 1562               		.loc 1 355 0 is_stmt 1 discriminator 2
 1563 0704 BE01      		movw r22,r28
 1564 0706 6F5F      		subi r22,-1
 1565 0708 7F4F      		sbci r23,-1
 1566 070a CE01      		movw r24,r28
 1567 070c 4196      		adiw r24,17
 1568 070e 0E94 0000 		call pobierz_long
 1569               	.LVL141:
 354:interpretacjaSMS.c ****         !pobierz_long(&sms, &em))
 1570               		.loc 1 354 0 discriminator 2
 1571 0712 8823      		tst r24
 1572 0714 01F4      		brne .+2
 1573 0716 00C0      		rjmp .L96
 358:interpretacjaSMS.c ****         em > 59)
 1574               		.loc 1 358 0
 1575 0718 8D85      		ldd r24,Y+13
 1576 071a 9E85      		ldd r25,Y+14
 1577 071c AF85      		ldd r26,Y+15
 1578 071e B889      		ldd r27,Y+16
 1579 0720 8831      		cpi r24,24
 1580 0722 9105      		cpc r25,__zero_reg__
 1581 0724 A105      		cpc r26,__zero_reg__
 1582 0726 B105      		cpc r27,__zero_reg__
 1583 0728 00F0      		brlo .+2
 1584 072a 00C0      		rjmp .L96
 358:interpretacjaSMS.c ****         em > 59)
 1585               		.loc 1 358 0 is_stmt 0 discriminator 1
 1586 072c 4985      		ldd r20,Y+9
 1587 072e 5A85      		ldd r21,Y+10
 1588 0730 6B85      		ldd r22,Y+11
 1589 0732 7C85      		ldd r23,Y+12
 1590 0734 4C33      		cpi r20,60
 1591 0736 5105      		cpc r21,__zero_reg__
 1592 0738 6105      		cpc r22,__zero_reg__
 1593 073a 7105      		cpc r23,__zero_reg__
 1594 073c 00F0      		brlo .+2
 1595 073e 00C0      		rjmp .L96
 358:interpretacjaSMS.c ****         em > 59)
 1596               		.loc 1 358 0 discriminator 3
 1597 0740 4D81      		ldd r20,Y+5
 1598 0742 5E81      		ldd r21,Y+6
 1599 0744 6F81      		ldd r22,Y+7
 1600 0746 7885      		ldd r23,Y+8
 1601 0748 4831      		cpi r20,24
 1602 074a 5105      		cpc r21,__zero_reg__
 1603 074c 6105      		cpc r22,__zero_reg__
 1604 074e 7105      		cpc r23,__zero_reg__
 1605 0750 00F0      		brlo .+2
 1606 0752 00C0      		rjmp .L96
 358:interpretacjaSMS.c ****         em > 59)
 1607               		.loc 1 358 0 discriminator 5
 1608 0754 4981      		ldd r20,Y+1
 1609 0756 5A81      		ldd r21,Y+2
 1610 0758 6B81      		ldd r22,Y+3
 1611 075a 7C81      		ldd r23,Y+4
 1612 075c 4C33      		cpi r20,60
 1613 075e 5105      		cpc r21,__zero_reg__
 1614 0760 6105      		cpc r22,__zero_reg__
 1615 0762 7105      		cpc r23,__zero_reg__
 1616 0764 00F0      		brlo .+2
 1617 0766 00C0      		rjmp .L96
 363:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)sm, ADRES_EEPROM_CZAS_START_M);
 1618               		.loc 1 363 0 is_stmt 1
 1619 0768 6AEF      		ldi r22,lo8(-6)
 1620 076a 7FE0      		ldi r23,lo8(15)
 1621 076c 0E94 0000 		call zapisz_znak_w_eeprom
 1622               	.LVL142:
 364:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)eh, ADRES_EEPROM_CZAS_STOP_H);
 1623               		.loc 1 364 0
 1624 0770 6BEF      		ldi r22,lo8(-5)
 1625 0772 7FE0      		ldi r23,lo8(15)
 1626 0774 8985      		ldd r24,Y+9
 1627 0776 0E94 0000 		call zapisz_znak_w_eeprom
 1628               	.LVL143:
 365:interpretacjaSMS.c ****     zapisz_znak_w_eeprom((uchar)em, ADRES_EEPROM_CZAS_STOP_M);
 1629               		.loc 1 365 0
 1630 077a 6CEF      		ldi r22,lo8(-4)
 1631 077c 7FE0      		ldi r23,lo8(15)
 1632 077e 8D81      		ldd r24,Y+5
 1633 0780 0E94 0000 		call zapisz_znak_w_eeprom
 1634               	.LVL144:
 366:interpretacjaSMS.c **** 
 1635               		.loc 1 366 0
 1636 0784 6DEF      		ldi r22,lo8(-3)
 1637 0786 7FE0      		ldi r23,lo8(15)
 1638 0788 8981      		ldd r24,Y+1
 1639 078a 0E94 0000 		call zapisz_znak_w_eeprom
 1640               	.LVL145:
 369:interpretacjaSMS.c ****     czas_start_m = (uchar)sm;
 1641               		.loc 1 369 0
 1642 078e 8D85      		ldd r24,Y+13
 1643 0790 8093 0000 		sts czas_start_h,r24
 370:interpretacjaSMS.c ****     czas_stop_h = (uchar)eh;
 1644               		.loc 1 370 0
 1645 0794 8985      		ldd r24,Y+9
 1646 0796 8093 0000 		sts czas_start_m,r24
 371:interpretacjaSMS.c ****     czas_stop_m = (uchar)em;
 1647               		.loc 1 371 0
 1648 079a 8D81      		ldd r24,Y+5
 1649 079c 8093 0000 		sts czas_stop_h,r24
 372:interpretacjaSMS.c **** 
 1650               		.loc 1 372 0
 1651 07a0 8981      		ldd r24,Y+1
 1652 07a2 8093 0000 		sts czas_stop_m,r24
 1653 07a6 00C0      		rjmp .L148
 1654               	.L90:
 1655               	.LBE21:
 377:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("ON"), 2) == 0) {
 1656               		.loc 1 377 0 discriminator 2
 1657 07a8 0F5F      		subi r16,-1
 1658 07aa 1F4F      		sbci r17,-1
 1659 07ac 1A8B      		std Y+18,r17
 1660 07ae 098B      		std Y+17,r16
 1661               	.L69:
 377:interpretacjaSMS.c ****     if (strncasecmp_P(sms, PSTR("ON"), 2) == 0) {
 1662               		.loc 1 377 0 is_stmt 0 discriminator 1
 1663 07b0 0989      		ldd r16,Y+17
 1664 07b2 1A89      		ldd r17,Y+18
 1665 07b4 F801      		movw r30,r16
 1666 07b6 8081      		ld r24,Z
 1667 07b8 90E0      		ldi r25,0
 1668 07ba 0E94 0000 		call isspace
 1669               	.LVL146:
 1670 07be 892B      		or r24,r25
 1671 07c0 01F4      		brne .L90
 378:interpretacjaSMS.c ****       sms += 2; // Przeskocz "ON"
 1672               		.loc 1 378 0 is_stmt 1
 1673 07c2 42E0      		ldi r20,lo8(2)
 1674 07c4 50E0      		ldi r21,0
 1675 07c6 60E0      		ldi r22,lo8(__c.2780)
 1676 07c8 70E0      		ldi r23,hi8(__c.2780)
 1677 07ca C801      		movw r24,r16
 1678 07cc 0E94 0000 		call strncasecmp_P
 1679               	.LVL147:
 1680 07d0 892B      		or r24,r25
 1681 07d2 01F0      		breq .+2
 1682 07d4 00C0      		rjmp .L91
 1683               	.LBB22:
 379:interpretacjaSMS.c **** 
 1684               		.loc 1 379 0
 1685 07d6 0E5F      		subi r16,-2
 1686 07d8 1F4F      		sbci r17,-1
 1687 07da 1A8B      		std Y+18,r17
 1688 07dc 098B      		std Y+17,r16
 382:interpretacjaSMS.c ****       przeskocz_biale_znaki(sms);
 1689               		.loc 1 382 0
 1690 07de 80E2      		ldi r24,lo8(32)
 1691 07e0 93E0      		ldi r25,lo8(3)
 1692 07e2 A0E0      		ldi r26,0
 1693 07e4 B0E0      		ldi r27,0
 1694 07e6 8983      		std Y+1,r24
 1695 07e8 9A83      		std Y+2,r25
 1696 07ea AB83      		std Y+3,r26
 1697 07ec BC83      		std Y+4,r27
 1698               	.LVL148:
 1699               	.L92:
 383:interpretacjaSMS.c ****       if (*sms >= '0' && *sms <= '9') {
 1700               		.loc 1 383 0 discriminator 1
 1701 07ee E988      		ldd r14,Y+17
 1702 07f0 FA88      		ldd r15,Y+18
 1703 07f2 F701      		movw r30,r14
 1704 07f4 1081      		ld r17,Z
 1705 07f6 812F      		mov r24,r17
 1706 07f8 90E0      		ldi r25,0
 1707 07fa 0E94 0000 		call isspace
 1708               	.LVL149:
 1709 07fe 892B      		or r24,r25
 1710 0800 01F4      		brne .L93
 384:interpretacjaSMS.c ****         // Jest liczba - sprobuj ja odczytac
 1711               		.loc 1 384 0
 1712 0802 1053      		subi r17,lo8(-(-48))
 1713 0804 1A30      		cpi r17,lo8(10)
 1714 0806 00F0      		brlo .L94
 1715               	.L97:
 1716               	.LBE22:
 1717               	.LBB23:
 374:interpretacjaSMS.c ****   }
 1718               		.loc 1 374 0
 1719 0808 08E0      		ldi r16,lo8(8)
 1720 080a 10E0      		ldi r17,0
 1721               	.L95:
 1722               	.LBE23:
 1723               	.LBB24:
 1724               	.LBB11:
 400:interpretacjaSMS.c ****           jest_miejsce = TRUE;
 1725               		.loc 1 400 0
 1726 080c C801      		movw r24,r16
 1727 080e 0E94 0000 		call eeprom_read_byte
 1728               	.LVL150:
 1729 0812 F82E      		mov r15,r24
 1730 0814 2FEF      		ldi r18,lo8(-1)
 1731 0816 8217      		cp r24,r18
 1732 0818 01F4      		brne .+2
 1733 081a 00C0      		rjmp .L98
 1734               	.LVL151:
 1735 081c 0B5F      		subi r16,-5
 1736 081e 1F4F      		sbci r17,-1
 399:interpretacjaSMS.c ****         if (!czy_aktywny_numer_telefonu_brama(i)) {
 1737               		.loc 1 399 0 discriminator 2
 1738 0820 083A      		cpi r16,-88
 1739 0822 8FE0      		ldi r24,15
 1740 0824 1807      		cpc r17,r24
 1741 0826 01F4      		brne .L95
 1742 0828 00C0      		rjmp .L96
 1743               	.L93:
 1744               	.LBE11:
 383:interpretacjaSMS.c ****       if (*sms >= '0' && *sms <= '9') {
 1745               		.loc 1 383 0 discriminator 2
 1746 082a FFEF      		ldi r31,-1
 1747 082c EF1A      		sub r14,r31
 1748 082e FF0A      		sbc r15,r31
 1749 0830 FA8A      		std Y+18,r15
 1750 0832 E98A      		std Y+17,r14
 1751 0834 00C0      		rjmp .L92
 1752               	.L94:
 386:interpretacjaSMS.c ****           // Walidacja zakresu
 1753               		.loc 1 386 0
 1754 0836 BE01      		movw r22,r28
 1755 0838 6F5F      		subi r22,-1
 1756 083a 7F4F      		sbci r23,-1
 1757 083c CE01      		movw r24,r28
 1758 083e 4196      		adiw r24,17
 1759 0840 0E94 0000 		call pobierz_long
 1760               	.LVL152:
 1761 0844 8823      		tst r24
 1762 0846 01F4      		brne .+2
 1763 0848 00C0      		rjmp .L96
 388:interpretacjaSMS.c ****               limit_value > MAX_LICZBA_NUMEROW_TELEFONOW_BRAMA) {
 1764               		.loc 1 388 0
 1765 084a 8981      		ldd r24,Y+1
 1766 084c 9A81      		ldd r25,Y+2
 1767 084e AB81      		ldd r26,Y+3
 1768 0850 BC81      		ldd r27,Y+4
 1769 0852 0197      		sbiw r24,1
 1770 0854 A109      		sbc r26,__zero_reg__
 1771 0856 B109      		sbc r27,__zero_reg__
 1772 0858 8032      		cpi r24,32
 1773 085a 9340      		sbci r25,3
 1774 085c A105      		cpc r26,__zero_reg__
 1775 085e B105      		cpc r27,__zero_reg__
 1776 0860 00F0      		brlo .L97
 1777 0862 00C0      		rjmp .L96
 1778               	.LVL153:
 1779               	.L91:
 1780               	.LBE24:
 432:interpretacjaSMS.c ****       // Wycz SKRYBA
 1781               		.loc 1 432 0
 1782 0864 43E0      		ldi r20,lo8(3)
 1783 0866 50E0      		ldi r21,0
 1784 0868 60E0      		ldi r22,lo8(__c.2792)
 1785 086a 70E0      		ldi r23,hi8(__c.2792)
 1786 086c C801      		movw r24,r16
 1787 086e 0E94 0000 		call strncasecmp_P
 1788               	.LVL154:
 1789 0872 892B      		or r24,r25
 1790 0874 01F0      		breq .+2
 1791 0876 00C0      		rjmp .L96
 1792               	.LBB25:
 434:interpretacjaSMS.c ****       skryba_wlaczona = FALSE; // Aktualizuj RAM natychmiast
 1793               		.loc 1 434 0
 1794 0878 69EF      		ldi r22,lo8(-7)
 1795 087a 7FE0      		ldi r23,lo8(15)
 1796 087c 80E0      		ldi r24,0
 1797 087e 0E94 0000 		call zapisz_znak_w_eeprom
 1798               	.LVL155:
 435:interpretacjaSMS.c **** 
 1799               		.loc 1 435 0
 1800 0882 1092 0000 		sts skryba_wlaczona,__zero_reg__
 438:interpretacjaSMS.c ****           eeprom_read_byte((const uint8_t *)ADRES_EEPROM_SKRYBA_TRYB_BACKUP);
 1801               		.loc 1 438 0
 1802 0886 88EF      		ldi r24,lo8(-8)
 1803 0888 9FE0      		ldi r25,lo8(15)
 1804 088a 0E94 0000 		call eeprom_read_byte
 1805               	.LVL156:
 440:interpretacjaSMS.c ****         tryb_pracy = poprzedni_tryb; // Aktualizuj RAM
 1806               		.loc 1 440 0
 1807 088e 8F3F      		cpi r24,lo8(-1)
 1808 0890 01F4      		brne .+2
 1809 0892 00C0      		rjmp .L148
 1810               	.LVL157:
 1811               	.L150:
 1812               	.LBE25:
 1813               	.LBB26:
 428:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 1814               		.loc 1 428 0
 1815 0894 8093 0000 		sts tryb_pracy,r24
 429:interpretacjaSMS.c **** 
 1816               		.loc 1 429 0
 1817 0898 6EEF      		ldi r22,lo8(-2)
 1818 089a 7FE0      		ldi r23,lo8(15)
 1819 089c 00C0      		rjmp .L149
 1820               	.LVL158:
 1821               	.L70:
 1822               	.LBE26:
 450:interpretacjaSMS.c ****   }
 1823               		.loc 1 450 0
 1824 089e 88E0      		ldi r24,lo8(8)
 1825 08a0 00C0      		rjmp .L53
 1826               	.L71:
 453:interpretacjaSMS.c ****     zapisz_znak_w_eeprom(0, ADRES_EEPROM_BLOKADA_SYSTEMU);
 1827               		.loc 1 453 0
 1828 08a2 1092 0000 		sts blokada_systemu,__zero_reg__
 454:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1829               		.loc 1 454 0
 1830 08a6 67EF      		ldi r22,lo8(-9)
 1831 08a8 7FE0      		ldi r23,lo8(15)
 1832 08aa 00C0      		rjmp .L153
 1833               	.L72:
 458:interpretacjaSMS.c ****     zapisz_znak_w_eeprom(1, ADRES_EEPROM_BLOKADA_SYSTEMU);
 1834               		.loc 1 458 0
 1835 08ac 8FEF      		ldi r24,lo8(-1)
 1836 08ae 8093 0000 		sts blokada_systemu,r24
 459:interpretacjaSMS.c ****     return INTERPRETACJA_SMS_POPRAWNY;
 1837               		.loc 1 459 0
 1838 08b2 67EF      		ldi r22,lo8(-9)
 1839 08b4 7FE0      		ldi r23,lo8(15)
 1840 08b6 00C0      		rjmp .L152
 1841               	.L58:
 463:interpretacjaSMS.c **** }
 1842               		.loc 1 463 0
 1843 08b8 81E0      		ldi r24,lo8(1)
 1844 08ba 00C0      		rjmp .L53
 1845               	.L102:
 207:interpretacjaSMS.c ****   }
 1846               		.loc 1 207 0
 1847 08bc 84E0      		ldi r24,lo8(4)
 1848 08be 00C0      		rjmp .L53
 1849               	.L103:
 213:interpretacjaSMS.c **** 
 1850               		.loc 1 213 0
 1851 08c0 85E0      		ldi r24,lo8(5)
 1852 08c2 00C0      		rjmp .L53
 1853               	.LVL159:
 1854               	.L98:
 1855               	.LBB27:
 412:interpretacjaSMS.c ****           eeprom_read_byte((const uint8_t *)ADRES_EEPROM_TRYB_PRACY);
 1856               		.loc 1 412 0
 1857 08c4 8EEF      		ldi r24,lo8(-2)
 1858 08c6 9FE0      		ldi r25,lo8(15)
 1859 08c8 0E94 0000 		call eeprom_read_byte
 1860               	.LVL160:
 414:interpretacjaSMS.c **** 
 1861               		.loc 1 414 0
 1862 08cc 68EF      		ldi r22,lo8(-8)
 1863 08ce 7FE0      		ldi r23,lo8(15)
 1864 08d0 0E94 0000 		call zapisz_znak_w_eeprom
 1865               	.LVL161:
 417:interpretacjaSMS.c ****                            ADRES_EEPROM_SKRYBA_LIMIT_L);
 1866               		.loc 1 417 0
 1867 08d4 65EF      		ldi r22,lo8(-11)
 1868 08d6 7FE0      		ldi r23,lo8(15)
 1869 08d8 8981      		ldd r24,Y+1
 1870 08da 0E94 0000 		call zapisz_znak_w_eeprom
 1871               	.LVL162:
 419:interpretacjaSMS.c ****                            ADRES_EEPROM_SKRYBA_LIMIT_H);
 1872               		.loc 1 419 0
 1873 08de 66EF      		ldi r22,lo8(-10)
 1874 08e0 7FE0      		ldi r23,lo8(15)
 1875 08e2 8A81      		ldd r24,Y+2
 1876 08e4 0E94 0000 		call zapisz_znak_w_eeprom
 1877               	.LVL163:
 421:interpretacjaSMS.c **** 
 1878               		.loc 1 421 0
 1879 08e8 8981      		ldd r24,Y+1
 1880 08ea 9A81      		ldd r25,Y+2
 1881 08ec 9093 0000 		sts skryba_limit+1,r25
 1882 08f0 8093 0000 		sts skryba_limit,r24
 424:interpretacjaSMS.c ****       skryba_wlaczona = TRUE; // Aktualizuj RAM natychmiast
 1883               		.loc 1 424 0
 1884 08f4 69EF      		ldi r22,lo8(-7)
 1885 08f6 7FE0      		ldi r23,lo8(15)
 1886 08f8 81E0      		ldi r24,lo8(1)
 1887 08fa 0E94 0000 		call zapisz_znak_w_eeprom
 1888               	.LVL164:
 425:interpretacjaSMS.c **** 
 1889               		.loc 1 425 0
 1890 08fe F092 0000 		sts skryba_wlaczona,r15
 1891               	.LVL165:
 1892               	.L151:
 428:interpretacjaSMS.c ****       zapisz_znak_w_eeprom(1, ADRES_EEPROM_TRYB_PRACY);
 1893               		.loc 1 428 0
 1894 0902 81E0      		ldi r24,lo8(1)
 1895 0904 00C0      		rjmp .L150
 1896               	.LBE27:
 1897               		.cfi_endproc
 1898               	.LFE15:
 1900               		.section	.progmem.data,"a",@progbits
 1903               	__c.2792:
 1904 0000 4F46 4600 		.string	"OFF"
 1907               	__c.2780:
 1908 0004 4F4E 00   		.string	"ON"
 1911               	__c.2770:
 1912 0007 4F46 4600 		.string	"OFF"
 1915               	res_ust.2650:
 1916 000b 4333 4434 		.string	"C3D4"
 1916      00
 1919               	instrukcja_sms:
 1920 0010 0443 4F44 		.string	"\004CODE"
 1920      4500 
 1921 0016 0000      		.zero	2
 1922 0018 0341 4444 		.string	"\003ADD"
 1922      00
 1923 001d 0000 00   		.zero	3
 1924 0020 0344 454C 		.string	"\003DEL"
 1924      00
 1925 0025 0000 00   		.zero	3
 1926 0028 0458 5858 		.string	"\004XXXX"
 1926      5800 
 1927 002e 0000      		.zero	2
 1928 0030 0652 4550 		.string	"\006REPORT"
 1928      4F52 5400 
 1929 0038 0455 5345 		.string	"\004USER"
 1929      5200 
 1930 003e 0000      		.zero	2
 1931 0040 044F 5045 		.string	"\004OPEN"
 1931      4E00 
 1932 0046 0000      		.zero	2
 1933 0048 0543 4C4F 		.string	"\005CLOSE"
 1933      5345 00
 1934 004f 00        		.zero	1
 1935 0050 0443 4C49 		.string	"\004CLIP"
 1935      5000 
 1936 0056 0000      		.zero	2
 1937 0058 0444 544D 		.string	"\004DTMF"
 1937      4600 
 1938 005e 0000      		.zero	2
 1939 0060 0353 4554 		.string	"\003SET"
 1939      00
 1940 0065 0000 00   		.zero	3
 1941 0068 0454 494D 		.string	"\004TIME"
 1941      4500 
 1942 006e 0000      		.zero	2
 1943 0070 0653 4B52 		.string	"\006SKRYBA"
 1943      5942 4100 
 1944 0078 0544 4542 		.string	"\005DEBUG"
 1944      5547 00
 1945 007f 00        		.zero	1
 1946 0080 0553 5441 		.string	"\005START"
 1946      5254 00
 1947 0087 00        		.zero	1
 1948 0088 0453 544F 		.string	"\004STOP"
 1948      5000 
 1949 008e 0000      		.zero	2
 1950               		.comm	nr_usunietego_uzytkownika_z_smsa,1,1
 1951               		.comm	stan_wyjscie,1,1
 1952               		.text
 1953               	.Letext0:
 1954               		.file 2 "/usr/local/avr8-gnu-toolchain/avr/include/stdint.h"
 1955               		.file 3 "/usr/local/avr8-gnu-toolchain/lib/gcc/avr/7.3.0/include/stddef.h"
 1956               		.file 4 "narzedzia.h"
 1957               		.file 5 "pamiec_ram.h"
 1958               		.file 6 "interpretacjaSMS.h"
 1959               		.file 7 "enumkomendy.h"
 1960               		.file 8 "komendy.h"
 1961               		.file 9 "/usr/local/avr8-gnu-toolchain/avr/include/stdio.h"
 1962               		.file 10 "/usr/local/avr8-gnu-toolchain/avr/include/stdlib.h"
 1963               		.file 11 "wewy.h"
 1964               		.file 12 "zapiseeprom.h"
 1965               		.file 13 "/usr/local/avr8-gnu-toolchain/avr/include/ctype.h"
 1966               		.file 14 "/usr/local/avr8-gnu-toolchain/avr/include/avr/pgmspace.h"
 1967               		.file 15 "/usr/local/avr8-gnu-toolchain/avr/include/avr/eeprom.h"
 1968               		.file 16 "konfiguracja.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 interpretacjaSMS.c
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:4      *ABS*:000000000000003f __SREG__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:5      *ABS*:000000000000003b __RAMPZ__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:6      *ABS*:0000000000000000 __tmp_reg__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:7      *ABS*:0000000000000001 __zero_reg__
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:13     .text:0000000000000000 sprawdz_kod
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:110    .text:000000000000006a sprawdz_reset_ustawien
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:1915   .progmem.data:000000000000000b res_ust.2650
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:140    .text:0000000000000082 interpretuj_instrukcje_sms
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:1919   .progmem.data:0000000000000010 instrukcja_sms
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:329    .text:0000000000000136 pobierz_long
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:408    .text:000000000000017c pomin_znak
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:505    .text:00000000000001d8 czy_jest_znak
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:620    .text:0000000000000242 pobierz_wyraz
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:747    .text:00000000000002c2 pobierz_numer_telefonu
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:906    .text:000000000000035c interpretuj_wiadomosc_sms
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:1911   .progmem.data:0000000000000007 __c.2770
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:1907   .progmem.data:0000000000000004 __c.2780
/var/folders/6z/r258d_ld7nl6hm6r8km5x35c0000gn/T//ccd8xpGA.s:1903   .progmem.data:0000000000000000 __c.2792
                            *COM*:0000000000000001 nr_usunietego_uzytkownika_z_smsa
                            *COM*:0000000000000001 stan_wyjscie

UNDEFINED SYMBOLS
isspace
kod_modulu
memcmp_P
strtol
toupper
konwersja_znaku_telefonu
bufor_eeprom
__tablejump2__
zapisz_znaki_w_eeprom
numer_telefonu_do_ktorego_dzwonic
dodaj_komende
tryb_pracy
zapisz_znak_w_eeprom
tryb_clip
skryba_wlaczona
bufor_ustaw_czas
sprintf
strncasecmp_P
czas_start_h
czas_start_m
czas_stop_h
czas_stop_m
blokada_sterowania_czasowa
eeprom_read_byte
blokada_systemu
skryba_limit
__do_copy_data
__do_clear_bss
